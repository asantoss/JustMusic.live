{"version":3,"sources":["history.js","Components/Navbar/SideDrawer/DrawerToggleButton.js","Components/Navbar/Navbar.js","Components/Navbar/SideDrawer/SideDrawer.js","Components/Navbar/Backdrop/Backdrop.js","utilityFunctions/util.js","Components/Footer/progressSlider.js","Components/Footer/soundSlider.js","Apollo/index.js","Components/Footer/CreateRoomButton.js","Components/Blocks/songshort.js","Components/Footer/playlist.js","Components/Footer/station.js","Components/Footer/queue.js","Components/Footer/footer.js","Components/Blocks/albumSongs.js","pages/albumPage.js","Components/Blocks/album.js","pages/artistPage.js","Components/Blocks/artist.js","Components/Blocks/songs.js","pages/search.js","pages/library.js","Components/Blocks/featuredArtist.js","Components/Blocks/featuredPlaylist.js","pages/homePage.js","Components/Containers/MainContainer.js","utilityFunctions/util2.js","Components/Pages/SignIn.js","Components/Pages/SignUp.js","Components/Containers/SignInContainer.js","Components/Pages/Chatroom.js","Components/Pages/Room.js","App.js","reducers/authReducers.js","reducers/playerReducers.js","reducers/searchReducers.js","reducers/spotifyData.js","reducers/index.js","Store.js","serviceWorker.js","index.js"],"names":["createBrowserHistory","DrawerToggleButton","props","ToggleButton","className","onClick","toggleButton","ToggleButtonLines","styled","button","div","Toolbar","header","ToolbarNavigation","nav","ToolbarLogo","Spacer","ToolbarNavItems","connect","state","dispatch","logOut","type","withRouter","color","percentage","page","window","location","pathname","split","includes","player","secondaryColors","DarkVibrant","innerWidth","style","background","draweronClick","to","fontWeight","fontFamily","fontSize","textTransform","activeStyle","colors","vibrant","borderBottom","activeClassName","user","isLoggedIn","localStorage","removeItem","fetch","history","go","SideDrawerStyled","show","click","Backdrop","BackdropStyled","getSongSeconds","seconds","minutes","Math","floor","round","length","searchArray","nameKey","myArray","i","id","images","getColor","palette","key","getHex","StoreAPIToken","hash","substr","hashMap","forEach","chunk","chunkSplit","access_token","setupSpotify","scope","join","url","playSong","song","spotify","Spotify","getItem","data","PUTBodyParamter","getAlbumTracks","GET","getFollowedArtists","limit","getLikedAlbums","offset","getLikedTracks","getPersonalizedTopTracks","StopPlayer","PUT","ResumePlayer","ChangeVolume","volume","Search","query","replace","GetMyPlaylists","token","successMsg","a","axios","method","headers","Authorization","response","POST","DELETE","this","PrettoSlider","withStyles","root","height","width","thumb","backgroundColor","border","marginTop","marginLeft","boxShadow","active","valueLabel","left","track","borderRadius","rail","Slider","ProgressSlider","max","current","ChangeTime","handleTimeChange","currentTime","totalTime","onChange","onChangeCommitted","value","getAriaValueText","getAriaLabel","valueLabelDisplay","valueLabelFormat","aria-label","min","defaultValue","VolumeOn","Muted","iconStyle","marginBottom","SoundSlider","toggleSound","muted","handleVolumeChange","orientation","display","disabled","client","ApolloClient","uri","GET_ROOM","gql","GET_ALL_ROOMS","CREATE_LIKE","CREATE_ROOM","CreateRoomButton","userId","playlistName","useMutation","createRoom","diaplay","variables","hostId","roomName","LiveTvRounded","Song","idx","handleClick","isPlaying","likes","searchState","showLikes","createLike","hoverClass","playIcon","PauseRounded","PlayArrowRounded","artist","artists","name","image","undefined","album","backgroundStyle","backgroundImage","alignSelf","justifyContent","flexGrow","padding","ThumbUpRounded","cursor","Playlist","setColor","img","Image","crossOrigin","src","addEventListener","Vibrant","getPalette","err","DarkMuted","LightVibrant","setState","setActive","tracks","getPlaylistTracks","playlist","then","items","componentDidMount","index","findIndex","currentSongs","slice","map","newItems","concat","order","push","ResetQueue","previousSongs","uris","JSON","stringify","buildTracks","currentURI","render","bodyStyle","containerStyle","backgroundSize","animation","React","Component","Station","console","log","roomId","isHost","querySubcribe","watchQuery","fetchPolicy","QueueFilter","isActive","Queue","setSearchFilter","activeFilter","getFilterItems","ListItems","spotifyData","queue","renderPlaylists","playlists","buildStations","rooms","room","Number","host","PlaySong","toggleQ","bind","subscribe","next","getAllRooms","error","e","unsubscribe","stations","queueStyle","opacity","arrowStyle","withApollo","Alert","backStyle","waitForSpotifyWebPlaybackSDKToLoad","Promise","resolve","onSpotifyWebPlaybackSDKReady","IsPlaying","LikeTrack","liked","paddingRight","FavoriteRounded","FavoriteBorderRounded","Footer","sendStateFromHost","socket","emit","updateDimensions","componentWillUnmount","removeEventListener","requestPlayerState","socketId","toggleQueue","QueueActive","event","SeekSong","togglePlay","toggleShuffle","EnableShuffleMode","shuffle","toggleRepeat","context","repeat","EnableRepeatMode","toggleLike","AddSong","getCurrentlyPlaying","DeleteSong","NewLike","currentSongId","result","setTimeout","darkMuted","darkVibrant","lightVibrant","SetColors","setTabID","iPageTabID","sessionStorage","iLocalTabID","setItem","currentTab","updatePageOn","pageOn","playing","loaded","songLength","playNext","setupSpotifyPlayer","handleScriptMount","startTimer","io","on","hostPlayer","sendPlayerState","subscribed","setPlayer","s","stopTimer","timer","setInterval","clearInterval","action","PlayPrevious","RestartSong","resetTimer","PlayNext","success","init","TransferPlayback","getTrack","userToken","Player","random","getOAuthToken","cb","addListener","debug","close","songImg","track_window","current_track","document","title","playerSetArtistID","albumId","artistId","paused","position","playerStateChange","device_id","message","disconnect","resume","setName","status","indexOf","scriptTag","onLoad","alert","songName","artistName","currentSong","GetPlaylistTracks","alt","MoreHorizRounded","SwapCallsRounded","marginRight","ArrowLeftRounded","previousBtn","ArrowRightRounded","RepeatRounded","Sync","setRoom","SyncDisabledRounded","SettingsInputComponentRounded","ind","explicit","duration_ms","Loader","loaderStyle","loading","AlbumPage","_","dark","darkvibrant","SetSecondaryColors","albumObj","PlayAlbum","albumName","albumImg","firing","getAlbum","copyRight","copyrights","text","trackCount","total_tracks","albumYear","Date","release_date","getFullYear","Play","scrollStyle","scrollbarColor","artistPage","PlayArtist","buildAlbums","albums","singles","features","albumCount","singleCount","featureCount","album_group","match","params","getArtist","getArtistTopTracks","getArtistAlbums","artistImg","followers","total","toString","bannerStyle","Artist","paddingBottom","searchFilters","FilterItem","toLowerCase","SearchSection","getElementById","scrollTo","search","setSearchResult","buildArtists","checkScroll","wrappedElement","setCurrentScroll","scrollTop","scrollHeight","clientHeight","extendSearchResults","handleSearch","scroll","target","setSearch","typingTimeout","clearTimeout","searchLeft","borderLeft","borderTop","searchRight","borderRight","searchInput","topResultsSection","sectionStyle","autoComplete","placeholder","clearSearchState","LibrarySection","info","personalized","FeaturedArtist","catch","hoverState","FeaturedPlaylist","item","Home","topArtists","topTracks","songUri","mapStateToProps","mapDispatchToProps","payload","setCurrentTime","initializeSpotify","SyncFromHost","FooterContainer","AlbumContainer","ArtistContainer","ArtistPage","SearchSectionContainer","LibrarySectionContainer","HomePageContainer","Navbar","playlist_id","GetPlaylist","GetPlaylistCover","GetUsersPlaylists","user_id","CreatePlaylist","collaborative","description","Ispublic","SpotifyLogout","spotifyLogoutWindow","open","getArtistRelatedArtists","getAllByCategory","getPlaylistByCategory","getCategoriesList","getFeaturedPlaylists","getNewReleases","getRecommendations","isFollowingUser","ids","isFollowingPlaylist","followArtist","followPlaylist","UnfollowArtist","UnfollowPlaylist","AlbumIsLiked","TrackIsLiked","DeleteAlbum","AddAlbum","getAllDevices","getPlayer","getRecentlyPlayed","device_ids","play","getMyProfile","getUserProfile","track_id","AddSongToPlaylist","ChangePlayListDetails","Copyright","Typography","variant","align","Link","href","useStyles","makeStyles","theme","backgroundImgae","backgroundRepeat","backgroundPosition","paper","margin","spacing","flexDirection","alignItems","avatar","secondary","main","form","submit","SpotifyToken","classes","useState","email","password","remember","setError","spotifyToken","initiatePlayer","authUser","useEffect","loginWithToken","authTokens","abortController","AbortController","body","res","json","tokens","expiration","now","expirationTS","abort","Grid","container","component","CssBaseline","xs","sm","md","Paper","elevation","square","Avatar","onSubmit","preventDefault","formData","reset","noValidate","TextField","required","fullWidth","label","autoFocus","FormControlLabel","control","Checkbox","Button","Box","mt","username","autocomplete","ownProps","SignUpContainer","SignUp","SignInContainer","SignInSide","Chatroom","scrollToBottom","messagesContainer","ReactDOM","findDOMNode","messages","currentTyper","joinRoom","addMessage","sendMessage","ev","author","authorId","addFeedback","ref","el","overflowY","QueryRoom","useQuery","pollInterval","MainContainer","getRoom","m","like","spotifyId","HostView","ListenerView","newQueue","filter","l","MainRoom","SearchPage","HomePage","LibraryPage","SignIN","backdrop","sideDrawerOpen","setSideDrawerOpen","closeSideDrawerHandler","prevState","exact","path","Room","initialState","authReducer","nextSong","recentlyPlayed","playerReducer","parse","previous_tracks","repeat_mode","searchReducer","songs","searchQuery","combineReducers","authReducers","playerReducers","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","Boolean","hostname","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f17d0edd.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","import React from 'react';\nimport styled from 'styled-components';\n\nexport default function DrawerToggleButton(props) {\n  return (\n\n    <ToggleButton className='toggle_button' onClick={props.toggleButton}>\n\n      <ToggleButtonLines />\n      <ToggleButtonLines />\n      <ToggleButtonLines />\n    </ToggleButton>\n  )\n}\n\n//* Styled Components \n\nconst ToggleButton = styled.button`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  height: 3vh;\n  width: 4vw;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  box-sizing: border-box;\n\n  @media (min-width: 768px) {\n      display: none;\n      \n    }\n\n  &:focus{\n    outline: none;\n  }\n`\n\nconst ToggleButtonLines = styled.div`\n  height: 2px;\n  width:5vw;\n  background: white;\n`\n\n\n","import React from 'react';\nimport { withRouter, NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport DrawerToggleButton from './SideDrawer/DrawerToggleButton';\nimport styled from 'styled-components';\nimport '../../App.css';\n\nfunction Navbar(props) {\n\tconst handleSignOut = () => {\n\t\tlocalStorage.removeItem('jwtTokens');\n\t\tprops.logOut();\n\t\tfetch('/api/signout');\n\t\tprops.history.go('/');\n\t};\n\tlet color;\n\tlet percentage = '15%';\n\tvar page = window.location.pathname.split('/')[1];\n\tif (['album', 'artist', 'playlist'].includes(page)) {\n\t\tcolor = props.player.secondaryColors.DarkVibrant;\n\t} else {\n\t\t//color = props.player.colors.vibrant\n\t\tcolor = '#000000 ';\n\t}\n\tif (window.innerWidth < 1100) {\n\t\tpercentage = '30%';\n\t}\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tbackground: `linear-gradient(50deg,${color} ${percentage}, rgba(0,0,0, 1) ${percentage})`\n\t\t\t}}>\n\t\t\t<ToolbarNavigation>\n\t\t\t\t<div>\n\t\t\t\t\t<DrawerToggleButton toggleButton={props.draweronClick} />\n\t\t\t\t</div>\n\n\t\t\t\t<ToolbarLogo>\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tto='/'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontWeight: 100,\n\t\t\t\t\t\t\tfontFamily: 'roboto',\n\t\t\t\t\t\t\tfontSize: '2vw',\n\t\t\t\t\t\t\ttextTransform: 'capitalize'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tSound Good Music\n\t\t\t\t\t</NavLink>\n\t\t\t\t</ToolbarLogo>\n\n\t\t\t\t<Spacer></Spacer>\n\n\t\t\t\t<ToolbarNavItems>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tactiveStyle={{\n\t\t\t\t\t\t\t\t\tcolor: props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: `2px solid ${props.player.colors.vibrant}`\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\tto='/search'>\n\t\t\t\t\t\t\t\tSEARCH\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tactiveStyle={{\n\t\t\t\t\t\t\t\t\tcolor: props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: `2px solid ${props.player.colors.vibrant}`\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\tto='/library'>\n\t\t\t\t\t\t\t\tLIBRARY\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{props.user.isLoggedIn ? (\n\t\t\t\t\t\t\t<li onClick={handleSignOut}>SIGN OUT</li>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\t\t\tto='/login'>\n\t\t\t\t\t\t\t\t\t\tSIGN IN\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\t\t\tto='/signup'>\n\t\t\t\t\t\t\t\t\t\tSIGN UP\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</ToolbarNavItems>\n\t\t\t</ToolbarNavigation>\n\t\t</Toolbar>\n\t);\n}\n\n//* Styled Components\n\nconst Toolbar = styled.header`\n\tposition: fixed;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbackground: linear-gradient(160deg, #0b1313 25%, rgba(0, 0, 0, 1) 75%);\n\theight: 8vh;\n`;\n\nconst ToolbarNavigation = styled.nav`\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tpadding: 0 1rem;\n`;\n\nconst ToolbarLogo = styled.div`\n\tmargin-left: 1.1rem;\n\t@media (min-width: 769px) {\n\t\tmargin-left: 0;\n\t}\n\n\ta {\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t\tfont-size: 1.5rem;\n\t}\n`;\n\nconst Spacer = styled.div`\n\tflex: 1;\n`;\n\nconst ToolbarNavItems = styled.div`\n\t@media (max-width: 768px) {\n\t\tdisplay: none;\n\t}\n\t.navCurrent {\n\t\tcolor: gold;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tdisplay: flex;\n\n\t\tli {\n\t\t\tpadding: 0 2rem;\n\t\t\tfont-size: 1.4em;\n\t\t\tletter-spacing: 3px;\n\t\t\tfont-weight: 300;\n\t\t\tcolor: white;\n\t\t\t&:hover {\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\ta {\n\t\t\t\tcolor: inherit;\n\t\t\t\ttext-decoration: none;\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst mapStateToProps = state => {\n\treturn { ...state };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogOut: () => {\n\t\t\tdispatch({ type: 'LOGOUT' });\n\t\t}\n\t};\n};\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withRouter(Navbar));\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\n\nfunction SideDrawer(props) {\n\tconst style = {};\n\tconst handleSignOut = () => {\n\t\tprops.logOut();\n\t\tfetch('/api/signout');\n\t};\n\treturn (\n\t\t<SideDrawerStyled onClick={props.click} style={style} show={props.show}>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<Link to='/'>HOME</Link>\n\t\t\t\t</li>\n\t\t\t\t{props.user.isLoggedIn ? (\n\t\t\t\t\t<li onClick={handleSignOut}>SIGN OUT</li>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to='/login'>SIGN IN</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to='/signup'>SIGN UP</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</SideDrawerStyled>\n\t);\n}\n\nconst SideDrawerStyled = styled.nav`\n\theight: 100vh;\n\tbackground: white;\n\tbox-shadow: 1px 0px 7px rgba(0, 0, 0, 0.5);\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 70%;\n\tmax-width: 400px;\n\tz-index: 200;\n\ttransition: transform 400ms ease-out;\n\ttransform: ${props => (props.show ? 'translateX(0)' : 'translateX(-105%)')};\n\n\t@media (min-width: 769px) {\n\t\tdisplay: none;\n\t}\n\n\tul {\n\t\theight: 100%;\n\t\tlist-style: none;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\n\t\tli {\n\t\t\tmargin: 0.5rem 0;\n\n\t\t\ta {\n\t\t\t\tcolor: #521751;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tfont-size: 1.2rem;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tcolor: #fa923f;\n\t\t\t\t}\n\n\t\t\t\t&:active {\n\t\t\t\t\tcolor: #fa923f;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst mapStateToProps = state => {\n\treturn { ...state };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogOut: () => {\n\t\t\tdispatch({ type: 'LOGOUT' });\n\t\t}\n\t};\n};\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withRouter(SideDrawer));\n","import React from 'react';\n\nimport styled from 'styled-components';\n\nexport default function Backdrop(props) {\n  return (\n    <BackdropStyled onClick={props.click}>\n\n    </BackdropStyled>\n  )\n}\n\nconst BackdropStyled = styled.div`\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.3);\n        z-index: 100;\n        top: 0;\n        left: 0;\n`","import axios from 'axios';\n\nexport const getSongSeconds = seconds => {\n\tlet minutes = `${Math.floor(seconds / 60)}`;\n\tseconds = `${Math.round(seconds % 60)}`;\n\tminutes = minutes.length < 2 ? 0 + minutes : minutes;\n\tseconds = seconds.length < 2 ? 0 + seconds : seconds;\n\tif (seconds > 59) {\n\t\treturn `${minutes[0] + 1}:00`;\n\t} else {\n\t\treturn `${minutes}:${seconds}`;\n\t}\n};\n\nexport const searchArray = (nameKey, myArray) => {\n\tfor (var i = 0; i < myArray.length; i++) {\n\t\tif (myArray[i].id === nameKey) {\n\t\t\treturn myArray[i].images;\n\t\t}\n\t}\n};\n\nexport const getColor = (palette, key) => {\n\tif (key in palette && palette[key] !== null) {\n\t\treturn palette[key].getHex();\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const StoreAPIToken = () => {\n\tlet hash = window.location.hash.substr(1).split('&');\n\tlet hashMap = [];\n\tif (hash.length) {\n\t\thash.forEach(chunk => {\n\t\t\tconst chunkSplit = chunk.split('=');\n\t\t\thashMap[chunkSplit[0]] = chunkSplit[1];\n\t\t});\n\t}\n\tif (hashMap.access_token) {\n\t\t//console.log('token retreived from url');\n\t\treturn hashMap.access_token;\n\t}\n};\n\nexport const setupSpotify = () => {\n\tvar client_id = '42c128e85c9c4eddad1930a129937c94';\n\tvar response_type = 'token';\n\tvar redirect_uri = 'http://127.0.0.1:3000/login';\n\tvar scope = [\n\t\t'user-read-playback-state',\n\t\t'streaming',\n\t\t'user-read-private',\n\t\t'user-read-currently-playing',\n\t\t'user-modify-playback-state',\n\t\t'user-top-read'\n\t\t// 'user-read-birthdate'\n\t\t// 'user-read-email',\n\t\t// 'user-library-read,\n\t\t// 'user-library-modify'\n\t].join(' ');\n\tvar url = `https://accounts.spotify.com/authorize?client_id=${client_id}&redirect_uri=${redirect_uri}&scope=${scope}&response_type=${response_type}`;\n\twindow.location = url;\n};\n\nexport const playSong = (song, spotify) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\tlet data = `{\"uris\": ${song}}`;\n\treturn spotify.PUTBodyParamter(url, data, 'Play specific song');\n};\n\nexport const SpotifyLogout = () => {\n\tconst url = 'https://www.spotify.com/logout/';\n\tconst spotifyLogoutWindow = window.open(\n\t\turl,\n\t\t'Spotify Logout',\n\t\t'width=700,height=500,top=40,left=40'\n\t);\n\tsetTimeout(() => spotifyLogoutWindow.close(), 3000);\n};\n//!! All of these functions can be moved inside of the class as methods.\n//!! Instead of having to use spotify as a param we can target it using 'this'.\n\nexport const getAlbum = (id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/albums/${id}`;\n\treturn spotify.GET(url, 'got albums');\n};\n\nexport const getAlbumTracks = (id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/albums/${id}/tracks?limit=50`;\n\treturn spotify.GET(url, 'got album track list');\n};\n\nexport const getArtist = (id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}`;\n\treturn spotify.GET(url, 'got artists');\n};\n\nexport const getArtistAlbums = (id, spotify = null, offset = 0, limit = 50) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}/albums?offset=${offset}&limit=${limit}&country=US`;\n\treturn spotify.GET(url, 'got artist Albums');\n};\n\nexport const getArtistTopTracks = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 50\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}/top-tracks?offset=${offset}&limit=${limit}&country=US`;\n\treturn spotify.GET(url, 'got top tracks by artist');\n};\n\nexport const getArtistRelatedArtists = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}/related-artists?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got related Artists');\n};\n\nexport const getAllByCategory = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/categories/${id}?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got All results by category');\n};\n\nexport const getPlaylistByCategory = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/categories/${id}/playlists?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got playlists by category');\n};\n\nexport const getCategoriesList = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/categories/`;\n\treturn spotify.GET(url, 'got All Categories');\n};\n\nexport const getFeaturedPlaylists = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/featured-playlists?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got Featured Playlists');\n};\n\nexport const getNewReleases = (spotify = null, offset = 0, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/new-releases?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got New Releases');\n};\n\nexport const getRecommendations = (spotify = null, offset = 0, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/recommendations?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got recommendations');\n};\n\nexport const getFollowedArtists = (spotify = null, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following?type=artist&limit=${limit}`;\n\treturn spotify.GET(url, 'got Followed Artists');\n};\n\nexport const isFollowingUser = (type, ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following/contains?type=${type}&ids=${ids}`;\n\treturn spotify.GET(url, 'got if you are following user');\n};\n\nexport const isFollowingPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/contains`;\n\treturn spotify.GET(url, 'got if you are following playlist');\n};\n\nexport const followArtist = (type, ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\treturn spotify.PUT(url, 'PUT Followed New Artist');\n};\n\nexport const followPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\treturn spotify.PUT(url, 'PUT Followed New Artist');\n};\n\nexport const UnfollowArtist = (type, ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\treturn spotify.DELETE(url, 'DELETE Artist Removed');\n};\n\nexport const UnfollowPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\treturn spotify.DELETE(url, 'DELETE Playlist Removed');\n};\n\nexport const AlbumIsLiked = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums/contains?ids=${ids}`;\n\treturn spotify.GET(url, 'Boolean Album is Saved');\n};\n\nexport const TrackIsLiked = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks/contains?ids=${ids}`;\n\treturn spotify.GET(url, 'Boolean Track is Saved');\n};\n\nexport const getLikedAlbums = (spotify = null, offset = 0, limit = 50) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'get all liked albums');\n};\n\nexport const getLikedTracks = (spotify = null, offset = 0, limit = 50) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks?limit=${limit}&offset=${offset}&market=US`;\n\treturn spotify.GET(url, 'get all liked Songs');\n};\n\nexport const DeleteAlbum = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\treturn spotify.DELETE(url, 'Delete Album');\n};\n\nexport const DeleteSong = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\treturn spotify.DELETE(url, 'Delete Song');\n};\n\nexport const AddSong = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\treturn spotify.PUT(url, 'ADD Song');\n};\n\nexport const AddAlbum = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\treturn spotify.PUT(url, 'ADD Album');\n};\n\nexport const getPersonalizedTopTracks = (\n\ttype,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 50\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/top/${type}`;\n\treturn spotify.GET(url, 'got personalized top tracks');\n};\n\nexport const getAllDevices = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/devices`;\n\treturn spotify.GET(url, 'got Devices');\n};\n\nexport const getPlayer = (device = null, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player?device=${device}&market=US`;\n\treturn spotify.GET(url, 'got Player');\n};\n\nexport const getRecentlyPlayed = (spotify = null, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/recently-played?limit=${limit}`;\n\treturn spotify.GET(url, 'got recently played tracks');\n};\n\nexport const getCurrentlyPlaying = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/currently-playing`;\n\treturn spotify.GET(url, 'got Player');\n};\n\nexport const StopPlayer = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/pause`;\n\treturn spotify.PUT(url, 'Put Player Paused');\n};\n\nexport const ResumePlayer = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\treturn spotify.PUT(url, 'Put Player Resume');\n};\n\nexport const EnableRepeatMode = (spotify = null, context = 'track') => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/repeat?state=${context}`;\n\treturn spotify.PUT(url, 'Put Song/Album/Playlist on repeat');\n};\n\nexport const EnableShuffleMode = (spotify = null, shuffle = 'true') => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/shuffle?state=${shuffle}`;\n\treturn spotify.PUT(url, 'Shuffle songs true/false');\n};\n\nexport const ChangeVolume = (volume, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/volume?volume_percent=${volume}`;\n\treturn spotify.PUT(url, 'Put Volume Changed');\n};\n\nexport const PlayNext = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/next`;\n\treturn spotify.POST(url, 'Post Play Next Song');\n};\n\nexport const PlayPrevious = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/previous`;\n\treturn spotify.POST(url, 'Post Play Previous Song');\n};\n\nexport const RestartSong = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/seek?position_ms=1000`;\n\treturn spotify.PUT(url, 'Start song over');\n};\n\nexport const TransferPlayback = (device_id, play = true, spotify) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player`;\n\tlet data = { device_ids: [device_id], play: true };\n\treturn spotify.PUTBodyParamter(url, data, 'Transfer Playback');\n};\n\nexport const getMyProfile = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me`;\n\treturn spotify.GET(url, 'got my profile');\n};\n\nexport const getUserProfile = (user_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/users/${user_id}`;\n\treturn spotify.GET(url, 'got user profile');\n};\n\nexport const getTrack = (track_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/tracks/${track_id}`;\n\treturn spotify.GET(url, 'got track by id');\n};\n\nexport const Search = (query, type, limit = 50, offset = 0, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tquery = query.replace(' ', '%20') + '*';\n\tlet url = `https://api.spotify.com/v1/search?q=${query}&type=${type}&q=${query}&limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Search Spotify');\n};\n\nexport const AddSongToPlaylist = (\n\tplaylist_id,\n\turis,\n\tposition = null,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tposition = position !== null ? `&position=${position}` : '';\n\tlet url =\n\t\t`https://api.spotify.com/v1/playlists/${playlist_id}/tracks?uris=${uris}` +\n\t\tposition;\n\treturn spotify.POST(url, 'Post Add song to playlist');\n};\n\nexport const ChangePlayListDetails = (\n\tplaylist_id,\n\tname,\n\tcollaborative = null,\n\tdescription = null,\n\tIspublic = null,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\tdescription = description !== null ? `&description=${description}` : '';\n\tcollaborative =\n\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\tlet url =\n\t\t`https://api.spotify.com/v1/playlists/${playlist_id}?=${name}` +\n\t\tIspublic +\n\t\tdescription +\n\t\tcollaborative;\n\treturn spotify.POST(url, 'Update playlist details');\n};\n\nexport const CreatePlaylist = (\n\tuser_id,\n\tname,\n\tcollaborative = null,\n\tdescription = null,\n\tIspublic = null,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\tdescription = description !== null ? `&description=${description}` : '';\n\tcollaborative =\n\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\tlet url =\n\t\t`https://api.spotify.com/v1/users/${user_id}/playlists?name=${name}` +\n\t\tIspublic +\n\t\tdescription +\n\t\tcollaborative;\n\treturn spotify.POST(url, 'Create new Playlist');\n};\n\nexport const GetMyPlaylists = (limit = 50, offset = 0, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/playlists?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Get All my Playlists');\n};\n\nexport const GetUsersPlaylists = (\n\tuser_id,\n\tlimit = 100,\n\toffset = 0,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/users/${user_id}/playlists?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Get Users Playlists');\n};\n\nexport const GetPlaylistCover = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/images`;\n\treturn spotify.GET(url, 'Get Playlist Banner');\n};\n\nexport const GetPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}`;\n\treturn spotify.GET(url, 'Get Playlist');\n};\n\nexport const GetPlaylistTracks = (\n\tplaylist_id,\n\tspotify = null,\n\tlimit = 100,\n\toffset = 0\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/tracks?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Get Playlist Tracks');\n};\n\n/* \nexport const DeleteSongFromPlaylist = (ids, spotify=null) => {\n    spotify = (spotify==null) ? new Spotify(localStorage.getItem('token')): spotify\n    let url = `https://api.spotify.com/v1/playlists/{playlist_id}/tracks?ids=${ids}`\n    return spotify.DELETE(url, 'Delete Song')\n}\n */\n\nexport class Spotify {\n\tconstructor(token) {\n\t\tthis.token = token;\n\t}\n\n\tGET = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response.data;\n\t};\n\n\tPOST = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUT = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tDELETE = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'DELETE',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUTBodyParamter = async (url, data, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\n\nimport { getSongSeconds } from '../../utilityFunctions/util.js';\n\nconst PrettoSlider = withStyles({\n\troot: {\n\t\tcolor: 'green',\n\t\theight: 4,\n\t\twidth: '50vw'\n\t},\n\tthumb: {\n\t\theight: 15,\n\t\twidth: 15,\n\t\tbackgroundColor: 'white',\n\t\tcolor: 'red',\n\t\tborder: '2px solid white',\n\t\tmarginTop: -6,\n\t\tmarginLeft: -5,\n\t\t'&:focus,&:hover,&$active': {\n\t\t\tboxShadow: 'inherit'\n\t\t}\n\t},\n\tactive: {},\n\tvalueLabel: {\n\t\tbackgroundColor: 'transparent',\n\t\tcolor: 'transparent',\n\t\tleft: 'calc(-50% + 6px)',\n\t\tmarginTop: 10\n\t},\n\ttrack: {\n\t\theight: 4,\n\t\twidth: '47vw',\n\t\tborderRadius: 4\n\t},\n\trail: {\n\t\theight: 4,\n\t\twidth: '47vw',\n\t\tborderRadius: 4\n\t}\n})(Slider);\n\nexport default function ProgressSlider({\n\tmax,\n\tcurrent,\n\tcolor,\n\tChangeTime,\n\thandleTimeChange,\n\theight\n}) {\n\tlet currentTime = getSongSeconds(current);\n\tlet totalTime = getSongSeconds(max);\n\tif (currentTime === 'NaN:NaN') {\n\t\tcurrentTime = `00:00`;\n\t\ttotalTime = `00:00`;\n\t}\n\n\treturn (\n\t\t<div className='slider-holder'>\n\t\t\t<div className='label current-label'>\n\t\t\t\t<p>{currentTime}</p>\n\t\t\t</div>\n\t\t\t<PrettoSlider\n\t\t\t\tonChange={ChangeTime}\n\t\t\t\twidth={'100vw'}\n\t\t\t\tonChangeCommitted={({ value }) => handleTimeChange(value)}\n\t\t\t\tgetAriaValueText={() => {\n\t\t\t\t\treturn currentTime;\n\t\t\t\t}}\n\t\t\t\tgetAriaLabel={() => {\n\t\t\t\t\treturn currentTime;\n\t\t\t\t}}\n\t\t\t\tvalueLabelDisplay='off'\n\t\t\t\tvalueLabelFormat={() => {\n\t\t\t\t\treturn currentTime;\n\t\t\t\t}}\n\t\t\t\taria-label='song-slider'\n\t\t\t\tstyle={{ color: color }}\n\t\t\t\tvalue={current}\n\t\t\t\tmax={max}\n\t\t\t\tmin={0}\n\t\t\t\tdefaultValue={current}\n\t\t\t\tclassName='slider-guy'\n\t\t\t/>\n\t\t\t<div className='label song-length'>\n\t\t\t\t<p>{totalTime}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { withStyles,  } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\n\n\nimport VolumeUpRoundedIcon from '@material-ui/icons/VolumeUpRounded';\nimport VolumeOffRoundedIcon from '@material-ui/icons/VolumeOffRounded';\n\nconst PrettoSlider = withStyles({\n    root: {\n      color: 'green',\n      height: 4,\n      width: '5vw',\n    },\n    thumb: {\n      height: 15,\n      width: 15,\n      backgroundColor: 'white',\n      color: 'red',\n      border: '2px solid white',\n      marginTop: -6,\n      marginLeft: -5,\n      '&:focus,&:hover,&$active': {\n        boxShadow: 'inherit',\n      },\n    },\n    active: {},\n    valueLabel: {\n        backgroundColor: 'transparent',\n        color: 'transparent',\n      left: 'calc(-50% + 6px)',\n      marginTop: 10,\n    },\n    track: {\n      height: 4,\n      width: '5vw',\n      borderRadius: 4,\n    },\n    rail: {\n      height: 4,\n      width: '5vw',\n      borderRadius: 4,\n    },\n  })(Slider);\n\n\n\nlet VolumeOn = ({ Muted, onClick, color }) => {\n\tlet iconStyle = { fontSize: '1.6em', color: color, marginBottom: '-.1em'};\n\treturn Muted ? (\n\t\t<VolumeOffRoundedIcon onClick={onClick} style={iconStyle} />\n\t) : (\n\t\t<VolumeUpRoundedIcon onClick={onClick} style={iconStyle} />\n\t);\n};\n  \n\n  export default function SoundSlider( {toggleSound, muted, current, handleVolumeChange, height, ChangeVolume}) {\n      let color = 'rgba(255,255,255, 0.8)';\n      let orientation ='horizontal'\n      let display = 'on'\n      if (muted) {\n        current = 0;\n        display = 'off'\n      }\n      if (height < 1000) {\n        orientation = 'vertical'\n      } \n    return (\n        <div className=\"volume-slider\">\n             <div className='play-holder vol-holder'>\n                <VolumeOn\n                    color={color}\n                    onClick={() => toggleSound()}\n                    Muted={muted}\n                />\n            </div>\n            <PrettoSlider\n                onChange={ChangeVolume}\n                onChangeCommitted={({value}) => handleVolumeChange(value)}\n                getAriaValueText={() => { return current}}\n                getAriaLabel={() => {return current}}\n                valueLabelDisplay={display} \n                valueLabelFormat={() => {return current}}\n                aria-label=\"volume-slider\" \n                orientation={orientation}\n                style={{color: color}}value={current}\n                max={100}\n                min={0}\n                defaultValue={current} \n                className=\"slider-guy\"\n                disabled={muted}\n                />\n        </div>\n    );\n  }","import ApolloClient from 'apollo-boost';\nimport { gql } from 'apollo-boost';\nconst client = new ApolloClient({\n\turi: '/graphql'\n});\n\nexport const GET_ROOM = gql`\n\tquery getRoom($id: Int!) {\n\t\tgetRoom(id: $id) {\n\t\t\troomName\n\t\t\thost {\n\t\t\t\tusername\n\t\t\t\tid\n\t\t\t}\n\t\t\tmessages {\n\t\t\t\tuser {\n\t\t\t\t\tusername\n\t\t\t\t}\n\t\t\t\tmessage\n\t\t\t}\n\t\t\tlikes {\n\t\t\t\troom {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tuser {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tspotifyId\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const GET_ALL_ROOMS = gql`\n\tquery getAllRooms {\n\t\tgetAllRooms {\n\t\t\tid\n\t\t\troomName\n\t\t\thost {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\n// *** Mutations\n\nexport const CREATE_LIKE = gql`\n\tmutation createLike($userId: Int!, $roomId: Int!, $spotifyId: String!) {\n\t\tcreateLike(userId: $userId, roomId: $roomId, spotifyId: $spotifyId) {\n\t\t\troom {\n\t\t\t\tlikes {\n\t\t\t\t\tuser {\n\t\t\t\t\t\tusername\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREATE_ROOM = gql`\n\tmutation createRoom($hostId: Int!, $roomName: String!) {\n\t\tcreateRoom(hostId: $hostId, roomName: $roomName) {\n\t\t\thost {\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport default client;\n","import React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { CREATE_ROOM } from '../../Apollo';\nimport { LiveTvRounded } from '@material-ui/icons';\nexport default function CreateRoomButton({ userId, playlistName, active }) {\n\tconst [createRoom] = useMutation(CREATE_ROOM);\n\treturn (\n\t\t<div\n\t\t\tclassName='start-station=btn'\n\t\t\tstyle={{ diaplay: active ? 'block' : 'none' }}\n\t\t\tonClick={() => {\n\t\t\t\tdebugger;\n\t\t\t\tcreateRoom({ variables: { hostId: userId, roomName: playlistName } });\n\t\t\t}}>\n\t\t\t<LiveTvRounded style={{ fontSize: '1.5em' }} />\n\t\t\tStart Station\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport '../../App.css';\nimport {\n\tPlayArrowRounded,\n\tPauseRounded,\n\tThumbUpRounded\n} from '@material-ui/icons';\n\nlet Song = ({\n\tsong,\n\tidx,\n\thandleClick,\n\tactive,\n\tisPlaying,\n\tsearchState,\n\tlikes,\n\tshowLikes,\n\tcreateLike\n}) => {\n\tlet hoverClass = active ? 'song-hover-state active' : 'song-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRounded style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRounded style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet artist = <h5>{song.artists[0].name}</h5>;\n\tlet image =\n\t\tsong.album !== undefined && song.album.images.length > 0\n\t\t\t? song.album.images[1].url\n\t\t\t: 'https://via.placeholder.com/150';\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='song-block'>\n\t\t\t<div style={backgroundStyle} className='song-img-item'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(song.id, active)}>\n\t\t\t\t\t<div className='song-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-description'>\n\t\t\t\t<h3>{song.name}</h3>\n\t\t\t\t<div className='featured-artists'>{artist}</div>\n\t\t\t</div>\n\t\t\t{showLikes && (\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\talignSelf: 'center',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'flex-end',\n\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\tpadding: 5\n\t\t\t\t\t}}>\n\t\t\t\t\t{likes > 0 && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\tcolor: 'white'\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{likes}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<ThumbUpRounded\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: '#28a745',\n\t\t\t\t\t\t\tfontSize: '1.8em',\n\t\t\t\t\t\t\tmarginLeft: '2px',\n\t\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={createLike}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Song;\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\nimport CreateRoombutton from './CreateRoomButton';\nimport { getColor } from '../../utilityFunctions/util.js';\nimport Song from '../../Components/Blocks/songshort';\n\nclass Playlist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttracks: [],\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'red',\n\t\t\t\tLightVibrant: 'green',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t}\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tsetActive = () => {\n\t\tif (this.state.tracks.length === 0) {\n\t\t\tthis.props.getPlaylistTracks(this.props.playlist.id).then(data => {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tactive: !this.state.active,\n\t\t\t\t\ttracks: data.items\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tactive: !this.state.active\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount = () => {\n\t\tthis.setColor(this.props.playlist.images[0].url);\n\t};\n\n\thandleClick = (id, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.track.id === id);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.track.order = idx;\n\t\t\t\t\ttrack.track.album = {\n\t\t\t\t\t\timages: track.track.album.images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tthis.props.playSong(uris);\n\t\t} else if ((active, this.props.isPlaying === false)) {\n\t\t\tthis.props.player.ResumePlayer();\n\t\t} else {\n\t\t\tthis.props.player.StopPlayer();\n\t\t}\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\tlet active = this.props.currentURI === track.track.uri ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\thandleClick={this.handleClick}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.props.isPlaying}\n\t\t\t\t\tsong={track.track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender = () => {\n\t\tlet bodyStyle = { height: '0em', background: 'rgba(0,0,0, 0)' };\n\t\tif (this.state.active) {\n\t\t\tbodyStyle = { height: '', background: 'rgba(0,0,0, 0.7)' };\n\t\t}\n\t\tlet tracks = this.buildTracks();\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n                ${this.state.colors.DarkMuted})`\n\t\t};\n\t\treturn (\n\t\t\t<div className='playlist-section' style={containerStyle}>\n\t\t\t\t<CreateRoombutton\n\t\t\t\t\tuserId={this.props.userId}\n\t\t\t\t\tplaylistName={this.props.playlist.name}\n\t\t\t\t\tactive={this.state.active}\n\t\t\t\t/>\n\t\t\t\t<div className='queue-block' onClick={() => this.setActive()}>\n\t\t\t\t\t<div className='cover'>\n\t\t\t\t\t\t<h1>{this.props.playlist.name}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='playlist-body' style={bodyStyle}>\n\t\t\t\t\t{tracks}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nexport default Playlist;\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\nimport { withRouter } from 'react-router-dom';\nimport { getColor } from '../../utilityFunctions/util.js';\nclass Station extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'red',\n\t\t\t\tLightVibrant: 'green',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t}\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\tconsole.log(colors);\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tsetActive = () => {\n\t\tthis.setState({\n\t\t\tactive: !this.state.active\n\t\t});\n\t\tthis.props.history.push('/room/' + this.props.roomId);\n\t};\n\tcomponentDidMount = () => {\n\t\tthis.setColor('https://picsum.photos/200');\n\t};\n\n\trender = () => {\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n\t\t\t\t${this.state.colors.DarkMuted})`,\n\t\t\tborder: this.props.isHost && '1px solid red'\n\t\t};\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={containerStyle}\n\t\t\t\tclassName='playlist-section'\n\t\t\t\tonClick={() => this.setActive()}>\n\t\t\t\t<div\n\t\t\t\t\tclassName='queue-block'\n\t\t\t\t\tstyle={{ background: this.state.colors.DarkMuted }}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='circle1'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Vibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='circle4'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Muted }}></div>\n\t\t\t\t\t<div className='cover'>\n\t\t\t\t\t\t<h1 style={{ textTransform: 'capitalize' }}>\n\t\t\t\t\t\t\t{this.props.roomName}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nexport default withRouter(Station);\n","import React from 'react';\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\nimport { connect } from 'react-redux';\nimport Playlist from './playlist';\nimport Song from '../../Components/Blocks/songshort';\nimport Station from './station.js';\nimport { withApollo } from 'react-apollo';\nimport { GET_ALL_ROOMS } from '../../Apollo/index';\n\nconst querySubcribe = client => {\n\treturn client.watchQuery({\n\t\tquery: GET_ALL_ROOMS,\n\t\tfetchPolicy: 'cache-and-network'\n\t});\n};\nlet QueueFilter = ({ name, isActive, onClick, color }) => {\n\tlet className = isActive === name ? 'active' : '';\n\tlet border = isActive === name ? { borderBottom: `2px solid ${color}` } : {};\n\treturn (\n\t\t<li style={border} onClick={() => onClick(name)} className={className}>\n\t\t\t{name}\n\t\t</li>\n\t);\n};\n\nclass Queue extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactiveFilter: 'Queue',\n\t\t\tcolor: this.props.color,\n\t\t\tisActive: this.props.isActive,\n\t\t\ttoggleQ: this.props.toggleQ,\n\t\t\trooms: []\n\t\t};\n\t\tthis.setSearchFilter = this.setSearchFilter.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tquerySubcribe(this.props.client).subscribe({\n\t\t\tnext: ({ data }) => {\n\t\t\t\tif (data !== undefined) {\n\t\t\t\t\tconst { getAllRooms: rooms } = data;\n\t\t\t\t\tthis.setState({ rooms });\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: e => console.error(e)\n\t\t});\n\t}\n\tcomponentWillUnmount() {\n\t\tquerySubcribe(this.props.client).unsubscribe();\n\t}\n\tsetSearchFilter = name => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tactiveFilter: name\n\t\t});\n\t};\n\n\tgetFilterItems = () => {\n\t\tlet searchFilters = ['Queue', 'Playlists', 'Stations'];\n\t\tlet ListItems = [];\n\t\tsearchFilters.forEach((name, idx) => {\n\t\t\tListItems.push(\n\t\t\t\t<QueueFilter\n\t\t\t\t\tkey={`queue-filter-${idx}`}\n\t\t\t\t\tonClick={this.setSearchFilter}\n\t\t\t\t\tname={name}\n\t\t\t\t\tisActive={this.state.activeFilter}\n\t\t\t\t\tcolor={this.props.color}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn ListItems;\n\t};\n\n\thandleClick = (id, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.props.player.queue.findIndex(track => {\n\t\t\t\tif ('track' in track) {\n\t\t\t\t\ttrack = track.track;\n\t\t\t\t}\n\t\t\t\treturn track.id === id;\n\t\t\t});\n\t\t\tlet currentSongs = this.props.player.queue\n\t\t\t\t.slice(index, this.props.player.queue.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\tif ('track' in track) {\n\t\t\t\t\t\ttrack = track.track;\n\t\t\t\t\t}\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.props.player.queue\n\t\t\t\t.slice(index, this.props.player.queue.length)\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\tif ('track' in track) {\n\t\t\t\t\t\ttrack = track.track;\n\t\t\t\t\t}\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\timages: track.album.images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet uris = JSON.stringify([...currentSongs]);\n\t\t\tthis.props.playSong(uris);\n\t\t} else if ((active, this.props.isPlaying === false)) {\n\t\t\tthis.props.spotifyData.player.ResumePlayer();\n\t\t} else {\n\t\t\tthis.props.spotifyData.player.StopPlayer();\n\t\t}\n\t};\n\n\trenderPlaylists = () => {\n\t\tlet playlists = [];\n\t\tif (this.props.playlists !== undefined) {\n\t\t\tthis.props.playlists.forEach((playlist, idx) => {\n\t\t\t\tplaylists.push(\n\t\t\t\t\t<Playlist\n\t\t\t\t\t\tplayer={this.props.spotifyData.player}\n\t\t\t\t\t\tplaylist={playlist}\n\t\t\t\t\t\tisPlaying={this.props.isPlaying}\n\t\t\t\t\t\tcurrentURI={this.props.currentURI}\n\t\t\t\t\t\tid={idx}\n\t\t\t\t\t\tuserId={this.props.user.id}\n\t\t\t\t\t\tplaySong={this.props.playSong}\n\t\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\t\tgetPlaylistTracks={this.props.getPlaylistTracks}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn playlists;\n\t};\n\tbuildStations = () => {\n\t\tconst rooms = this.state.rooms.map((room, i) => {\n\t\t\tconst isHost = this.props.user.id === Number(room.host.id);\n\t\t\treturn (\n\t\t\t\t<Station\n\t\t\t\t\troomId={room.id}\n\t\t\t\t\troomName={room.roomName}\n\t\t\t\t\tkey={i}\n\t\t\t\t\tisHost={isHost ? 1 : 0}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn rooms;\n\t};\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.props.queue.forEach((track, idx) => {\n\t\t\tif ('track' in track) {\n\t\t\t\ttrack = track.track;\n\t\t\t}\n\t\t\tlet active = this.props.currentURI === track.uri ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\tkey={`que-song-${idx}`}\n\t\t\t\t\tPlaySong={this.props.PlaySong}\n\t\t\t\t\thandleClick={this.handleClick}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.props.isPlaying}\n\t\t\t\t\tsong={track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender() {\n\t\tlet playlists = [];\n\t\tlet tracks = [];\n\t\tlet stations = [];\n\t\tlet queueStyle = {\n\t\t\topacity: this.props.isActive ? 1 : 1,\n\t\t\theight: this.props.isActive ? '' : 0\n\t\t};\n\t\tlet arrowStyle = {\n\t\t\tbackground: this.props.isActive ? '' : 'transparent'\n\t\t};\n\t\tif (this.state.activeFilter === 'Playlists') {\n\t\t\tplaylists = this.renderPlaylists();\n\t\t} else if (this.state.activeFilter === 'Queue') {\n\t\t\ttracks = this.buildTracks();\n\t\t} else if (this.state.activeFilter === 'Stations') {\n\t\t\tstations = this.buildStations();\n\t\t}\n\t\tlet ListItems = this.getFilterItems();\n\t\treturn (\n\t\t\t<div className='queue' style={queueStyle}>\n\t\t\t\t<div className='queue-header' style={queueStyle}>\n\t\t\t\t\t<div className='queue-list' style={queueStyle}>\n\t\t\t\t\t\t<ul>{ListItems}</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='queue-playlist-holder'>\n\t\t\t\t\t{playlists}\n\t\t\t\t\t{tracks}\n\t\t\t\t\t{stations}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName='downward-arrow'\n\t\t\t\t\tstyle={arrowStyle}\n\t\t\t\t\tonClick={() => this.props.toggleQ()}>\n\t\t\t\t\t<QueueMusicIcon\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\tcolor: this.props.color,\n\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapState = state => {\n\treturn { ...state };\n};\nexport default connect(\n\tmapState,\n\tnull\n)(withApollo(Queue));\n","import React from 'react';\nimport '../../footer.css';\nimport { ChangeVolume, getColor } from '../../utilityFunctions/util.js';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport ProgressSlider from './progressSlider.js';\nimport SoundSlider from './soundSlider.js';\nimport Queue from './queue';\nimport {\n\tSwapCallsRounded,\n\tRepeatRounded,\n\tFavoriteRounded,\n\tArrowLeftRounded,\n\tArrowRightRounded,\n\tPauseRounded,\n\tPlayArrowRounded,\n\tMoreHorizRounded,\n\tFavoriteBorderRounded,\n\tSync,\n\tSyncDisabledRounded,\n\tSettingsInputComponentRounded\n} from '@material-ui/icons';\nimport * as Vibrant from 'node-vibrant';\n\nimport Script from 'react-load-script';\n\nlet Alert = ({ colors }) => {\n\tlet backStyle = {\n\t\tbackground: `linear-gradient(45deg, ${colors.vibrant} 15%,  rgba(255,255,255, 1) 70%)`\n\t};\n\treturn (\n\t\t<div className='alert' style={backStyle}>\n\t\t\t<div className='alert-inner'>\n\t\t\t\t<div className='alert-header'>\n\t\t\t\t\t<h2>Sucess Song Added to Likes</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nasync function waitForSpotifyWebPlaybackSDKToLoad() {\n\treturn new Promise(resolve => {\n\t\tif (window.Spotify) {\n\t\t\tresolve(window.Spotify);\n\t\t} else {\n\t\t\twindow.onSpotifyWebPlaybackSDKReady = () => {\n\t\t\t\tresolve(window.Spotify);\n\t\t\t};\n\t\t}\n\t});\n}\n\nlet IsPlaying = ({ IsPlaying, color }) => {\n\tlet iconStyle = { fontSize: '2em', color: color };\n\treturn IsPlaying ? (\n\t\t<PauseRounded style={iconStyle} />\n\t) : (\n\t\t<PlayArrowRounded style={iconStyle} />\n\t);\n};\n\nlet LikeTrack = ({ liked, onClick, color }) => {\n\tlet iconStyle = { fontSize: '1.6em', paddingRight: '5%', color: color };\n\treturn liked ? (\n\t\t<FavoriteRounded onClick={onClick} style={iconStyle} />\n\t) : (\n\t\t<FavoriteBorderRounded onClick={onClick} style={iconStyle} />\n\t);\n};\n\nclass Footer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\theight: window.innerWidth,\n\t\t\tcolors: {},\n\t\t\tplaying: this.props.player.isPlaying,\n\t\t\tmuted: false,\n\t\t\tliked: false,\n\t\t\tloaded: false,\n\t\t\tcurrentTime: 0,\n\t\t\tvolume: 100,\n\t\t\tQueueActive: false,\n\t\t\tsongLength: this.props.player.songLength,\n\t\t\tpageOn: false\n\t\t};\n\t\tthis.toggleSound = this.toggleSound.bind(this);\n\t\tthis.toggleLike = this.toggleLike.bind(this);\n\t\tthis.toggleQueue = this.toggleQueue.bind(this);\n\t\tthis.playNext = this.playNext.bind(this);\n\t\tthis.setupSpotifyPlayer = this.setupSpotifyPlayer.bind(this);\n\t\tthis.setTabID = this.setTabID.bind(this);\n\t\tthis.handleScriptMount = this.handleScriptMount.bind(this);\n\t\tthis.startTimer = this.startTimer.bind(this);\n\t\tthis.setColor = this.setColor.bind(this);\n\t\t// *** SOCKET CONNECTION TO SYNC WITH HOST\n\t\tthis.socket = io('http://localhost:4000');\n\t\tthis.socket.on('SYNC_PLAYER', data => {\n\t\t\tconst { user } = this.props;\n\t\t\tconst { room } = user;\n\t\t\tif (\n\t\t\t\troom &&\n\t\t\t\tdata.roomId === room.roomId &&\n\t\t\t\tuser.id === Number(data.hostId)\n\t\t\t) {\n\t\t\t\tconst { socketId } = data;\n\t\t\t\tconst hostPlayer = {\n\t\t\t\t\t...this.props.player,\n\t\t\t\t\tcurrentTime: this.state.currentTime\n\t\t\t\t};\n\t\t\t\tsendPlayerState(socketId, hostPlayer);\n\t\t\t}\n\t\t});\n\t\tthis.socket.on('RECEIVE_PLAYER_STATE', data => {\n\t\t\tconst { player: hostPlayer, roomId, socketId } = data;\n\t\t\tif (this.props.user.room && this.props.user.room.subscribed && roomId) {\n\t\t\t\tthis.props.setPlayer(hostPlayer);\n\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t.playSong(JSON.stringify(hostPlayer.queue.map(s => s.uri)))\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t.SeekSong(hostPlayer.currentTime * 1000)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.props.ResetQueue(hostPlayer.queue);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t} else if (this.socket.id === socketId) {\n\t\t\t\tthis.props.setPlayer(hostPlayer);\n\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t.playSong(JSON.stringify(hostPlayer.queue.map(s => s.uri)))\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t.SeekSong(hostPlayer.currentTime * 1000)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.props.ResetQueue(hostPlayer.queue);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tconst sendPlayerState = (socketId, player) => {\n\t\t\tthis.socket.emit('SEND_PLAYER_STATE', { socketId, player });\n\t\t\tif (!socketId) {\n\t\t\t\tthis.socket.emit('SEND_PLAYER_STATE', {\n\t\t\t\t\troomId: this.props.user.room.roomId,\n\t\t\t\t\tplayer\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\tsendStateFromHost = () => {\n\t\tthis.socket.emit('SEND_PLAYER_STATE', {\n\t\t\troomId: this.props.user.room.roomId,\n\t\t\tplayer: this.props.player\n\t\t});\n\t};\n\tupdateDimensions = () => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\theight: window.innerWidth\n\t\t});\n\t};\n\n\tcomponentDidMount = () => {\n\t\twindow.addEventListener('resize', this.updateDimensions.bind(this));\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\twindow.removeEventListener('resize', this.updateDimensions.bind(this));\n\t};\n\trequestPlayerState = socketId => {\n\t\tconsole.log(socketId);\n\t\tconst { user } = this.props;\n\t\tconst { room } = user;\n\t\tdebugger;\n\t\tthis.socket.emit('REQUEST_PLAYER_STATE', {\n\t\t\tsocketId,\n\t\t\troomId: room.roomId,\n\t\t\thostId: room.host.id\n\t\t});\n\t};\n\n\tstartTimer(currentTime = 0) {\n\t\tthis.stopTimer();\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tcurrentTime: currentTime,\n\t\t\ttimer: setInterval(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcurrentTime: this.state.currentTime + 0.25\n\t\t\t\t});\n\t\t\t}, 250)\n\t\t});\n\t}\n\tstopTimer() {\n\t\tclearInterval(this.state.timer);\n\t}\n\tresetTimer() {\n\t\tthis.setState({ ...this.state, currentTime: 0 });\n\t}\n\n\tplayNext(next = true) {\n\t\tconst {\n\t\t\tPlayPrevious,\n\t\t\tgetCurrentlyPlaying,\n\t\t\tRestartSong\n\t\t} = this.props.spotifyData.player;\n\t\tlet action;\n\t\tif (next === false && this.state.currentTime < 4) {\n\t\t\tthis.resetTimer();\n\t\t\taction = PlayPrevious();\n\t\t} else if (next === true) {\n\t\t\tthis.resetTimer();\n\t\t\taction = this.props.spotifyData.player.PlayNext();\n\t\t}\n\t\tif (action !== undefined) {\n\t\t\taction.then(success => {\n\t\t\t\tgetCurrentlyPlaying().then(result => {\n\t\t\t\t\t//this.props.spotifyData.player.PlayNext(result)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tinit: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (this.state.currentTime > 4 && next === false) {\n\t\t\tthis.resetTimer();\n\t\t\tRestartSong();\n\t\t}\n\t}\n\ttoggleQueue = () => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tQueueActive: !this.state.QueueActive\n\t\t});\n\t};\n\n\tChangeVolume = (event, value) => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tvolume: value\n\t\t});\n\t};\n\n\thandleVolumeChange = (event, value) => {\n\t\tChangeVolume(this.state.volume);\n\t};\n\n\tChangeTime = (event, value) => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tcurrentTime: value\n\t\t});\n\t};\n\n\thandleTimeChange = (event, value) => {\n\t\tthis.props.spotifyData.player.SeekSong(this.state.currentTime * 1000);\n\t};\n\n\ttogglePlay = (init = false) => {\n\t\tconst { StopPlayer, ResumePlayer } = this.props.spotifyData.player;\n\t\tthis.props.player.isPlaying ? StopPlayer() : ResumePlayer();\n\t\tthis.props.togglePlay();\n\t};\n\n\ttoggleShuffle = () => {\n\t\tconst { EnableShuffleMode } = this.props.spotifyData.player;\n\t\tEnableShuffleMode(!this.props.player.shuffle);\n\t};\n\n\ttoggleRepeat = () => {\n\t\tconst context = this.props.player.repeat ? 'off' : 'context';\n\t\tconst { EnableRepeatMode } = this.props.spotifyData.player;\n\t\tEnableRepeatMode(context);\n\t};\n\n\ttoggleSound = () => {\n\t\tthis.state.muted ? ChangeVolume(this.state.volume) : ChangeVolume(0);\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tmuted: !this.state.muted\n\t\t});\n\t};\n\ttoggleLike = () => {\n\t\tlet {\n\t\t\tAddSong,\n\t\t\tgetCurrentlyPlaying,\n\t\t\tDeleteSong\n\t\t} = this.props.spotifyData.player;\n\t\tgetCurrentlyPlaying();\n\t\tlet NewLike = this.state.liked ? false : true;\n\t\t!this.state.liked\n\t\t\t? AddSong([this.props.player.currentSongId]).then(result => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tNewLike: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 2500);\n\t\t\t  })\n\t\t\t: DeleteSong([this.props.player.currentSongId]);\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tliked: !this.state.liked,\n\t\t\tNewLike: NewLike\n\t\t});\n\t};\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener(\n\t\t\t'load',\n\t\t\tfunction() {\n\t\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\t\t//console.error(err)\n\t\t\t\t\tlet color = getColor(palette, 'Vibrant');\n\t\t\t\t\tlet colors = {\n\t\t\t\t\t\tvibrant: color,\n\t\t\t\t\t\tdarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\t\tdarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\t\tlightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\t\tmuted: getColor(palette, 'Muted')\n\t\t\t\t\t};\n\t\t\t\t\tthis.props.SetColors(colors);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tVibrant: color,\n\t\t\t\t\t\tcolors: colors\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}.bind(this)\n\t\t);\n\t};\n\n\thandleScriptMount() {\n\t\t(async () => {\n\t\t\tawait waitForSpotifyWebPlaybackSDKToLoad();\n\t\t\tthis.setupSpotifyPlayer();\n\t\t})();\n\t}\n\n\tsetupSpotifyPlayer() {\n\t\tlet { TransferPlayback, getTrack } = this.props.spotifyData.player;\n\t\tconst token = this.props.spotifyData.userToken;\n\t\tthis.setTabID();\n\t\tconst player = new window.Spotify.Player({\n\t\t\tname: `Sound Good Music ${Math.floor(Math.random() * 10)}`,\n\t\t\tgetOAuthToken: cb => {\n\t\t\t\tcb(token);\n\t\t\t}\n\t\t});\n\t\tplayer.addListener('player_state_changed', state => {\n\t\t\tconsole.debug('new state', state);\n\n\t\t\tlet action = state === null ? window.close() : null;\n\t\t\tif (\n\t\t\t\taction === null &&\n\t\t\t\tthis.props.player.songImg !==\n\t\t\t\t\tstate.track_window.current_track.album.images[2].url\n\t\t\t) {\n\t\t\t\tgetTrack(state.track_window.current_track.id).then(result => {\n\t\t\t\t\tdocument.title = `${state.track_window.current_track.name} · ${result.artists[0].name}`;\n\t\t\t\t\tthis.props.playerSetArtistID({\n\t\t\t\t\t\talbumId: result.album.id,\n\t\t\t\t\t\tartistId: result.artists[0].id\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.setColor(state.track_window.current_track.album.images[2].url);\n\t\t\t}\n\t\t\tif (action === null) {\n\t\t\t\t!state.paused\n\t\t\t\t\t? this.startTimer(state.position / 1000)\n\t\t\t\t\t: this.stopTimer();\n\t\t\t\tthis.props.playerStateChange(state);\n\t\t\t}\n\t\t});\n\t\tplayer.addListener('ready', ({ device_id }) => {\n\t\t\tconsole.debug('Ready with Device ID', device_id);\n\t\t\tTransferPlayback(device_id).then(data => {\n\t\t\t\tthis.props.spotifyData.player.ResumePlayer();\n\t\t\t});\n\t\t});\n\t\tplayer.addListener('not_ready', ({ device_id }) => {\n\t\t\tconsole.debug('Device ID has gone offline', device_id);\n\t\t});\n\t\tplayer.on('initialization_error', ({ message }) => {\n\t\t\tconsole.debug('Failed to initialize', message);\n\t\t});\n\t\twindow.addEventListener('storage', () => {\n\t\t\tthis.state.currentTab !== localStorage.getItem('tabID') &&\n\t\t\t\tplayer.disconnect().then(() => window.close());\n\t\t});\n\t\tplayer.connect().then(() => {\n\t\t\tplayer.resume();\n\t\t});\n\t\tplayer.setName(`Sound Good Music ${Math.floor(Math.random() * 10)}`);\n\t\tthis.props.spotifyData.player.GetMyPlaylists().then(data => {\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tplaylists: data.items\n\t\t\t});\n\t\t});\n\t}\n\n\tsetTabID = () => {\n\t\tvar iPageTabID = sessionStorage.getItem('tabID');\n\t\tif (iPageTabID === null) {\n\t\t\tvar iLocalTabID = localStorage.getItem('tabID');\n\t\t\tiPageTabID = iLocalTabID == null ? 1 : Number(iLocalTabID) + 1;\n\t\t\tlocalStorage.setItem('tabID', iPageTabID);\n\t\t\tsessionStorage.setItem('tabID', iPageTabID);\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tcurrentTab: iPageTabID\n\t\t\t});\n\t\t}\n\t};\n\n\tupdatePageOn = pageOn => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tpageOn: pageOn\n\t\t});\n\t};\n\n\trender() {\n\t\tvar item = ['album', 'artist', 'playlist'];\n\t\tvar location = this.props.location.pathname.split('/')[1];\n\t\tlet status = item.indexOf(location) > -1 ? true : false;\n\t\tstatus !== this.state.pageOn && this.updatePageOn(status);\n\t\tlet scriptTag = [];\n\t\tif (window.Spotify === undefined) {\n\t\t\tscriptTag = [\n\t\t\t\t<Script\n\t\t\t\t\tkey={1}\n\t\t\t\t\turl='https://sdk.scdn.co/spotify-player.js'\n\t\t\t\t\tonLoad={this.handleScriptMount}\n\t\t\t\t/>\n\t\t\t];\n\t\t}\n\t\t//let footerStyle = {backgroundImage: `url(${this.state.songImg})`,  backgroundSize: 'cover'}\n\t\tlet iconStyle = { fontSize: '4em' };\n\t\tlet alert = this.state.NewLike ? (\n\t\t\t<Alert\n\t\t\t\timg={this.props.player.songImg}\n\t\t\t\tcolor={\n\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t}\n\t\t\t\tsongName={this.props.player.songName}\n\t\t\t\tartistName={this.props.player.artist}\n\t\t\t\tcolors={this.state.colors}\n\t\t\t/>\n\t\t) : (\n\t\t\t''\n\t\t);\n\t\treturn (\n\t\t\t<div className='footer'>\n\t\t\t\t<Queue\n\t\t\t\t\tcolor={\n\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t}\n\t\t\t\t\tisActive={this.state.QueueActive}\n\t\t\t\t\ttoggleQ={this.toggleQueue}\n\t\t\t\t\tplaylists={this.state.playlists}\n\t\t\t\t\tqueue={this.props.player.queue}\n\t\t\t\t\tcurrentURI={this.props.player.currentSong.uri}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\tplayer={this.props.spotifyData.player}\n\t\t\t\t\tplaySong={\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t? this.props.spotifyData.player.playSong\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\tgetPlaylistTracks={\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t? this.props.spotifyData.player.GetPlaylistTracks\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t{alert}\n\t\t\t\t<div className='song-info'>\n\t\t\t\t\t<div className='song-img'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tid='currently-playing'\n\t\t\t\t\t\t\talt='currently playing song'\n\t\t\t\t\t\t\tsrc={this.props.player.songImg}></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='title-holder'>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName='album-link'\n\t\t\t\t\t\t\tto={'/album/' + this.props.player.albumId}>\n\t\t\t\t\t\t\t<h3>{this.props.player.songName}</h3>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName='album-link'\n\t\t\t\t\t\t\tto={{ pathname: '/artist/' + this.props.player.artistId }}>\n\t\t\t\t\t\t\t<h6>{this.props.player.artist}</h6>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='slider-section-container'>\n\t\t\t\t\t<div className='player-section'>\n\t\t\t\t\t\t<div className='like-holder'>\n\t\t\t\t\t\t\t<LikeTrack\n\t\t\t\t\t\t\t\tliked={this.state.liked}\n\t\t\t\t\t\t\t\tonClick={this.toggleLike}\n\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='more-icon'>\n\t\t\t\t\t\t\t<MoreHorizRounded />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='main-play-buttons'>\n\t\t\t\t\t\t\t<div className='swap-icon'>\n\t\t\t\t\t\t\t\t<SwapCallsRounded\n\t\t\t\t\t\t\t\t\tonClick={this.toggleShuffle}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\t\tmarginRight: '1.5em',\n\t\t\t\t\t\t\t\t\t\tcolor: this.props.player.shuffle\n\t\t\t\t\t\t\t\t\t\t\t? this.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t: 'rgba(255,255,255, 0.4)',\n\t\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.shuffle\n\t\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ArrowLeftRounded\n\t\t\t\t\t\t\t\tonClick={() => this.playNext(false)}\n\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t...iconStyle,\n\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\tthis.props.player.previousBtn || this.state.currentTime > 4\n\t\t\t\t\t\t\t\t\t\t\t? 'white'\n\t\t\t\t\t\t\t\t\t\t\t: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\t\t\t\tcursor:\n\t\t\t\t\t\t\t\t\t\tthis.props.player.previousBtn || this.state.currentTime > 4\n\t\t\t\t\t\t\t\t\t\t\t? 'pointer'\n\t\t\t\t\t\t\t\t\t\t\t: 'not-allowed'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='play-holder'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tborder: '1px solid rgba(255,255,255, 0.4)',\n\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\twidth: '2.15em',\n\t\t\t\t\t\t\t\t\tpadding: '.1em',\n\t\t\t\t\t\t\t\t\theight: '2.15em'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={this.togglePlay}>\n\t\t\t\t\t\t\t\t<IsPlaying\n\t\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\t\tIsPlaying={this.props.player.isPlaying}\n\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ArrowRightRounded\n\t\t\t\t\t\t\t\tonClick={() => this.playNext(true)}\n\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className='repeat-icon'>\n\t\t\t\t\t\t\t\t<RepeatRounded\n\t\t\t\t\t\t\t\t\tonClick={this.toggleRepeat}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\t\t\tcolor: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t\t? this.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t: 'rgba(255,255,255, 0.4)',\n\t\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='play-holder vol-holder'>\n\t\t\t\t\t\t\t{/* {This checks if the current user is in a room & they are not the host!} */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{scriptTag}\n\t\t\t\t\t<ProgressSlider\n\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t}\n\t\t\t\t\t\tChangeTime={this.ChangeTime}\n\t\t\t\t\t\thandleTimeChange={this.handleTimeChange}\n\t\t\t\t\t\tcurrent={this.state.currentTime}\n\t\t\t\t\t\tmax={this.props.player.songLength}\n\t\t\t\t\t\theight={this.state.height}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='icon-section'>\n\t\t\t\t\t{this.props.user.room &&\n\t\t\t\t\t\t!this.props.user.room.host.isHost &&\n\t\t\t\t\t\t(this.props.user.room.subscribed ? (\n\t\t\t\t\t\t\t<Sync\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.props.setRoom({\n\t\t\t\t\t\t\t\t\t\tsubscribed: !this.props.user.room.subscribed\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthis.requestPlayerState(this.socket.id);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\t\tcolor: this.pageOn\n\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<SyncDisabledRounded\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (this.props.user.room) {\n\t\t\t\t\t\t\t\t\t\tthis.props.setRoom({\n\t\t\t\t\t\t\t\t\t\t\tsubscribed: !this.props.user.room.subscribed\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthis.requestPlayerState(this.socket.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\t\tcolor: this.pageOn\n\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t{this.props.user.room && this.props.user.room.host.isHost && (\n\t\t\t\t\t\t<SettingsInputComponentRounded\n\t\t\t\t\t\t\tonClick={this.sendStateFromHost}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\tcolor: this.pageOn\n\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant,\n\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<SoundSlider\n\t\t\t\t\tcolor={\n\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t}\n\t\t\t\t\tcurrent={this.state.volume}\n\t\t\t\t\ttoggleSound={this.toggleSound}\n\t\t\t\t\tmuted={this.state.muted}\n\t\t\t\t\thandleVolumeChange={this.handleVolumeChange}\n\t\t\t\t\tChangeVolume={this.ChangeVolume}\n\t\t\t\t\theight={this.state.height}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Footer);\n","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport FavoriteRoundedIcon from '@material-ui/icons/FavoriteRounded';\nimport MoreHorizRoundedIcon from '@material-ui/icons/MoreHorizRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\nimport { Link } from 'react-router-dom';\n\nimport { getSongSeconds } from '../../utilityFunctions/util.js';\n\nlet Song = ({ song, idx, handleClick, active, isPlaying, image }) => {\n\tlet hoverClass = active ? 'song-hover-state active' : 'song-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet artist = song.artists.map((artist, ind) => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tkey={`link-album-${ind}`}\n\t\t\t\tclassName='album-link'\n\t\t\t\tto={{ pathname: '/artist/' + artist.id }}>\n\t\t\t\t<h5>{artist.name}</h5>\n\t\t\t</Link>\n\t\t);\n\t});\n\n\tlet explicit = song.explicit ? (\n\t\t<h5 className='explicit-tag'>EXPLICIT</h5>\n\t) : (\n\t\t''\n\t);\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='song-block'>\n\t\t\t<div style={backgroundStyle} className='song-img-item'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(song.uri, active)}>\n\t\t\t\t\t<div className='song-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-description'>\n\t\t\t\t<h3>{song.name}</h3>\n\t\t\t\t<div className='featured-artists'>\n\t\t\t\t\t{explicit}\n\t\t\t\t\t{artist}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-action'>\n\t\t\t\t<FavoriteRoundedIcon />\n\t\t\t\t<MoreHorizRoundedIcon />\n\t\t\t</div>\n\t\t\t<div className='song-duration'>\n\t\t\t\t<div>\n\t\t\t\t\t<h3>{getSongSeconds(song.duration_ms / 1000)}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Song;\n","import React from 'react';\n\nimport {\n\tplaySong,\n\tStopPlayer,\n\tResumePlayer,\n\tgetColor,\n\tgetAlbum\n} from '../utilityFunctions/util.js';\nimport { withRouter } from 'react-router-dom';\nimport Song from '../Components/Blocks/albumSongs';\n\nimport '../App.css';\nimport '../albumPage.css';\n\nimport * as Vibrant from 'node-vibrant';\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\nclass AlbumPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: '',\n\t\t\tloading: true,\n\t\t\tactiveFilter: 'artist',\n\t\t\tresult: [],\n\t\t\tfiring: false,\n\t\t\ttracks: [],\n\t\t\tvibrant: 'green'\n\t\t};\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tvar albumId = window.location.pathname.split('/')[2];\n\t\tgetAlbum(albumId).then(result => {\n\t\t\tlet copyRight =\n\t\t\t\tresult.copyrights.length > 0 ? result.copyrights[0].text : '';\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tartistName: result.artists[0].name,\n\t\t\t\tartistId: result.artists[0].id,\n\t\t\t\talbumImg: result.images[0].url,\n\t\t\t\talbumObj: result,\n\t\t\t\talbumName: result.name,\n\t\t\t\ttracks: result.tracks.items,\n\t\t\t\tloading: false,\n\t\t\t\ttrackCount: result.total_tracks,\n\t\t\t\talbumYear: new Date(result.release_date).getFullYear(),\n\t\t\t\tcopyRight: copyRight\n\t\t\t});\n\t\t\tthis.setColor(result.images[0].url);\n\t\t});\n\t}\n\n\tsetColor = url => {\n\t\tlet _ = this;\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', function() {\n\t\t\tVibrant.from(img, 5).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\t_.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tvibrant: colors.vibrant,\n\t\t\t\t\tdark: colors.DarkMuted,\n\t\t\t\t\tmuted: colors.Muted,\n\t\t\t\t\tdarkvibrant: colors.DarkVibrant,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t\t_.props.SetSecondaryColors(colors);\n\t\t\t});\n\t\t});\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.uri === uri);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\timages: this.state.albumObj.images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tplaySong(uris).then(\n\t\t\t\tresult =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: uri,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t//hege.slice(1).concat(stale.slice(1)).forEach((item, idx) => list.push(item + idx))\n\t\t\t);\n\t\t} else if ((active, this.props.player.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t\tthis.props.togglePlay();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t\tthis.props.togglePlay();\n\t\t}\n\t};\n\n\tPlayAlbum = id => {\n\t\tvar albumId = window.location.pathname.split('/')[2];\n\t\tlet active = this.props.player.albumId === albumId ? true : false;\n\t\tif (!active) {\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.state.tracks.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t})\n\t\t\t);\n\t\t\tplaySong(uris);\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\t\ttrack.order = idx;\n\t\t\t\ttrack.album = {\n\t\t\t\t\timages: this.state.albumObj.images\n\t\t\t\t};\n\t\t\t\tnewItems.push(track);\n\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t} else if ((active, this.props.player.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t\tthis.props.togglePlay();\n\t\t} else {\n\t\t\tthis.props.togglePlay();\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\tlet active = this.props.player.currentSongId === track.id ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\tkey={`link-song-${idx}`}\n\t\t\t\t\talbumName={this.state.albumName}\n\t\t\t\t\timage={this.state.albumImg}\n\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t\tsong={track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender() {\n\t\tvar albumId = window.location.pathname.split('/')[2];\n\t\tlet Play =\n\t\t\tthis.props.player.albumId === albumId && this.props.player.isPlaying\n\t\t\t\t? 'Pause'\n\t\t\t\t: 'Play';\n\t\tlet backStyle = {\n\t\t\tbackground: `linear-gradient(160deg, ${this.state.darkvibrant} 15%, rgba(0,0,0, 0.9) 70%)`\n\t\t};\n\n\t\tlet scrollStyle = {\n\t\t\tscrollbarColor: `${this.state.vibrant} rgba(0,0,0, 0.2)`\n\t\t};\n\t\tlet tracks = this.buildTracks();\n\t\treturn (\n\t\t\t<div className='page-content' style={backStyle}>\n\t\t\t\t<div className='album-container'>\n\t\t\t\t\t<div className='album-image'>\n\t\t\t\t\t\t<div className='img-wrapper'>\n\t\t\t\t\t\t\t<img alt='album-cover' src={this.state.albumImg}></img>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='album-description-holder'>\n\t\t\t\t\t\t\t<h1>{this.state.albumName}</h1>\n\t\t\t\t\t\t\t<h3>{this.state.artistName}</h3>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={this.PlayAlbum}\n\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-primary2'>\n\t\t\t\t\t\t\t\t{Play}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{this.state.albumYear} • {this.state.trackCount} songs\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='album-songs' style={scrollStyle}>\n\t\t\t\t\t\t{tracks}\n\t\t\t\t\t\t<p>{this.state.copyRight}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Loader loading={this.state.loading} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(AlbumPage);\n","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nlet Album = ({ album, idx, active, isPlaying, handleClick, searchState }) => {\n\tlet hoverClass = active ? 'album-hover-state active' : 'album-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet image =\n\t\talbum.images.length > 0\n\t\t\t? album.images[1].url\n\t\t\t: 'https://via.placeholder.com/150';\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='album-block'>\n\t\t\t<div style={backgroundStyle} className='album-img'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(album.id, active)}>\n\t\t\t\t\t<div className='album-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='album-description'>\n\t\t\t\t<Link\n\t\t\t\t\tkey={`link-album-${idx}`}\n\t\t\t\t\tclassName='album-link'\n\t\t\t\t\tto={{ pathname: '/album/' + album.id, state: { ...searchState } }}>\n\t\t\t\t\t<h3>{album.name}</h3>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tkey={`link-artist-${idx}`}\n\t\t\t\t\tclassName='album-link'\n\t\t\t\t\tto={{ pathname: '/artist/' + album.artists[0].id }}>\n\t\t\t\t\t<h5>{album.artists[0].name}</h5>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(Album);\n","import React from 'react';\nimport {\n\tgetArtist,\n\tgetArtistTopTracks,\n\tgetArtistAlbums\n} from '../utilityFunctions/util.js';\nimport { getColor } from '../utilityFunctions/util.js';\n\nimport Album from '../Components/Blocks/album';\nimport Song from '../Components/Blocks/albumSongs';\nimport { withRouter } from 'react-router-dom';\n\nimport '../App.css';\nimport '../artistPage.css';\n\nimport * as Vibrant from 'node-vibrant';\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\nclass artistPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: '',\n\t\t\tloading: true,\n\t\t\tactiveFilter: 'artist',\n\t\t\tresult: [],\n\t\t\ttracks: [],\n\t\t\tvibrant: 'green',\n\t\t\tcolors: {}\n\t\t};\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tvar artistId = this.props.match.params.id;\n\t\tgetArtist(artistId).then(result => {\n\t\t\tgetArtistTopTracks(artistId).then(tracks => {\n\t\t\t\tgetArtistAlbums(artistId).then(albums => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tartistName: result.name,\n\t\t\t\t\t\tartistId: result.id,\n\t\t\t\t\t\tartistImg: result.images[0].url,\n\t\t\t\t\t\tfollowers: result.followers.total\n\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\ttracks: tracks.tracks,\n\t\t\t\t\t\talbums: albums\n\t\t\t\t\t});\n\t\t\t\t\tthis.setColor(tracks.tracks[0].album.images[0].url);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tPlayArtist = (active = false) => {\n\t\tlet { playSong, ResumePlayer, StopPlayer } = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\t\ttrack.order = idx;\n\t\t\t\tnewItems.push(track);\n\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.state.tracks.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tplaySong(uris).then(success =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcurrentSong: this.state.tracks[0].id,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tsetColor = url => {\n\t\tlet _ = this;\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', function() {\n\t\t\tVibrant.from(img, 5).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\t_.props.SetSecondaryColors(colors);\n\t\t\t\t_.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tvibrant: colors.vibrant,\n\t\t\t\t\tdark: colors.DarkMuted,\n\t\t\t\t\tmuted: colors.Muted,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tlet { playSong, ResumePlayer, StopPlayer } = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.uri === uri);\n\t\t\tthis.setColor(this.state.tracks[index].album.images[0].url);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tplaySong(uris).then(result =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcurrentSong: uri,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t} else if (active && this.state.isPlaying === false) {\n\t\t\tResumePlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: false\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\tPlayAlbum = (id, active = false) => {\n\t\tlet {\n\t\t\tgetAlbumTracks,\n\t\t\tgetAlbum,\n\t\t\tplaySong,\n\t\t\tResumePlayer,\n\t\t\tStopPlayer\n\t\t} = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tgetAlbumTracks(id).then(result => {\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.items.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tgetAlbum(id).then(data => {\n\t\t\t\t\tlet newItems = [];\n\t\t\t\t\tresult.items.forEach((track, idx) => {\n\t\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\t\timages: data.images\n\t\t\t\t\t\t};\n\t\t\t\t\t\tnewItems.push(track);\n\t\t\t\t\t});\n\t\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (active && this.state.isPlaying === false) {\n\t\t\tResumePlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: false\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\tbuildAlbums = () => {\n\t\tlet albums = [];\n\t\tlet singles = [];\n\t\tlet features = [];\n\t\tif (this.state.albums) {\n\t\t\tlet albumCount = 0;\n\t\t\tlet singleCount = 0;\n\t\t\tlet featureCount = 0;\n\t\t\tthis.state.albums.items.forEach((album, idx) => {\n\t\t\t\tif (album.album_group === 'album' && albumCount < 10) {\n\t\t\t\t\talbumCount++;\n\t\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\t\talbums.push(\n\t\t\t\t\t\t<Album\n\t\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} else if (album.album_group === 'single' && singleCount < 10) {\n\t\t\t\t\tsingleCount++;\n\t\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\t\tsingles.push(\n\t\t\t\t\t\t<Album\n\t\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} else if (album.album_group === 'appears_on' && featureCount < 10) {\n\t\t\t\t\tfeatureCount++;\n\t\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\t\tfeatures.push(\n\t\t\t\t\t\t<Album\n\t\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn [albums, singles, features];\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\tlet active = this.props.player.currentSongId === track.id ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\talbumName={this.state.albumName}\n\t\t\t\t\timage={track.album.images[0].url}\n\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\tsong={track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender() {\n\t\tlet backStyle = {\n\t\t\tbackground: `linear-gradient(160deg, ${this.state.colors.DarkVibrant} 15%, rgba(0,0,0, 0.9) 70%)`\n\t\t};\n\t\tlet bannerStyle = { backgroundImage: `url('${this.state.artistImg}')` };\n\t\t// let vibrantStyle = {backgroundColor: \"rgba(0,0,0, 0.75)\", color: this.state.vibrant}\n\t\tlet scrollStyle = {\n\t\t\tscrollbarColor: `${this.state.vibrant} rgba(0,0,0, 0.2)`\n\t\t};\n\t\tlet tracks = this.buildTracks();\n\t\tlet [albums, singles, features] = this.buildAlbums();\n\t\treturn (\n\t\t\t<div className='artist-page' style={backStyle}>\n\t\t\t\t<div className='artist-top-section'>\n\t\t\t\t\t<div className='left-section'>\n\t\t\t\t\t\t<div className='artist-banner' style={bannerStyle}></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='artist-description'>\n\t\t\t\t\t\t<h1>{this.state.artistName}</h1>\n\t\t\t\t\t\t<div className='artist-btn-row'>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.PlayArtist();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tPlay\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button className='btn btn-secondary'>Follow</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h3>Followers {this.state.followers}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div className='artist-content' style={scrollStyle}>\n\t\t\t\t\t\t<div className='album-songs2'>\n\t\t\t\t\t\t\t<Loader loading={this.state.loading} />\n\t\t\t\t\t\t\t<h2>Top Tracks</h2>\n\t\t\t\t\t\t\t{tracks}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='artist-albums-holder'>\n\t\t\t\t\t\t\t<h2>Albums</h2>\n\t\t\t\t\t\t\t{albums}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='artist-albums-holder'>\n\t\t\t\t\t\t\t<h2>Singles</h2>\n\t\t\t\t\t\t\t{singles}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='artist-albums-holder'>\n\t\t\t\t\t\t\t<h2>Features</h2>\n\t\t\t\t\t\t\t{features}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default withRouter(artistPage);\n","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\n\nimport { Link } from 'react-router-dom'\n\n\nlet Artist = ({ artist, idx, handleClick }) => {\n  let image = (artist.images.length > 0) ? artist.images[1].url : 'https://via.placeholder.com/150'\n  let backgroundStyle = { backgroundImage: `url(${image})`, }\n  return (\n    <div key={idx} className=\"artist-block\">\n      <div style={backgroundStyle} className=\"artist-img\">\n        <div className=\"artist-hover-state\" onClick={() => handleClick(artist.id)}>\n          <div className=\"artist-icon-holder\">\n            <PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n          </div>\n        </div>\n      </div>\n      <div className=\"artist-description\">\n        <Link className=\"album-link\" to={{ pathname: '/artist/' + artist.id }}><h3>{artist.name}</h3></Link>\n      </div>\n    </div>)\n}\n\nexport default Artist","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport '../../App.css';\n\nimport LensIcon from '@material-ui/icons/Lens';\nimport FavoriteRoundedIcon from '@material-ui/icons/FavoriteRounded';\nimport MoreHorizRoundedIcon from '@material-ui/icons/MoreHorizRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\n\nimport { Link } from 'react-router-dom';\n\nimport { getSongSeconds } from '../../utilityFunctions/util.js';\n\nlet Song = ({ song, idx, handleClick, active, isPlaying }) => {\n\tlet hoverClass = active ? 'song-hover-state active' : 'song-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet dotStyle = {\n\t\tfontSize: '.4em',\n\t\tpaddingBottom: '.2em',\n\t\tmarginLeft: '2em',\n\t\tmarginRight: '2em'\n\t};\n\tlet artist = song.artists.map((artist, ind) => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tclassName='album-link'\n\t\t\t\tkey={`artist-link-${ind}`}\n\t\t\t\tto={{ pathname: '/artist/' + artist.id }}>\n\t\t\t\t<h5>{artist.name}</h5>\n\t\t\t</Link>\n\t\t);\n\t});\n\tlet image =\n\t\tsong.album.images.length > 0\n\t\t\t? song.album.images[1].url\n\t\t\t: 'https://via.placeholder.com/150';\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='song-block'>\n\t\t\t<div style={backgroundStyle} className='song-img-item'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(song.uri, active)}>\n\t\t\t\t\t<div className='song-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-description'>\n\t\t\t\t<h3>{song.name}</h3>\n\t\t\t\t<div className='featured-artists'>\n\t\t\t\t\t{artist}\n\t\t\t\t\t<h5>\n\t\t\t\t\t\t<LensIcon style={dotStyle} />\n\t\t\t\t\t</h5>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tkey={`album-link2-${idx}`}\n\t\t\t\t\t\tclassName='album-link'\n\t\t\t\t\t\tto={{ pathname: '/album/' + song.album.id }}>\n\t\t\t\t\t\t<h5>{song.album.name}</h5>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-action'>\n\t\t\t\t<FavoriteRoundedIcon />\n\t\t\t\t<MoreHorizRoundedIcon />\n\t\t\t</div>\n\t\t\t<div className='song-duration'>\n\t\t\t\t<div>\n\t\t\t\t\t<h3>{getSongSeconds(song.duration_ms / 1000)}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Song;\n","import React from 'react';\nimport { searchArray } from '../utilityFunctions/util.js';\nimport SearchRoundedIcon from '@material-ui/icons/SearchRounded';\nimport ClearRoundedIcon from '@material-ui/icons/ClearRounded';\nimport {\n\tSearch,\n\tplaySong,\n\tStopPlayer,\n\tResumePlayer,\n\tgetAlbumTracks\n} from '../utilityFunctions/util.js';\nimport { withRouter } from 'react-router-dom';\nimport Artist from '../Components/Blocks/artist';\nimport Album from '../Components/Blocks/album';\nimport Song from '../Components/Blocks/songs';\n\nimport '../App.css';\n\nlet searchFilters = ['Top Results', 'Artist', 'Album', 'Track'];\n\nlet FilterItem = ({ name, isActive, onClick, color }) => {\n\tlet className =\n\t\tisActive === name.replace(' ', '').toLowerCase() ? 'active' : '';\n\tlet border =\n\t\tisActive === name.replace(' ', '').toLowerCase()\n\t\t\t? { borderBottom: `2px solid ${color}` }\n\t\t\t: {};\n\treturn (\n\t\t<li\n\t\t\tstyle={border}\n\t\t\tonClick={() => onClick(name.replace(' ', '').toLowerCase())}\n\t\t\tclassName={className}>\n\t\t\t{name}\n\t\t</li>\n\t);\n};\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\nclass SearchSection extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: this.props.spotifyData.token,\n\t\t\tsearch: this.props.searchState.search,\n\t\t\tloading: this.props.searchState.loading,\n\t\t\tactiveFilter: this.props.searchState.activeFilter,\n\t\t\tresult: this.props.searchState.result,\n\t\t\tfiring: false\n\t\t};\n\t\tthis.handleSearch = this.handleSearch.bind(this);\n\t\tthis.setSearchFilter = this.setSearchFilter.bind(this);\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n\t\tthis.PlayArtist = this.PlayArtist.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\t// document\n\t\t// \t.getElementById('search-body')\n\t\t// \t.addEventListener('scroll', this.checkScroll);\n\t\t// let token = StoreAPIToken();\n\t\t// let expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t// if (token !== undefined) {\n\t\t// \tlocalStorage.setItem('token', token);\n\t\t// \tlocalStorage.setItem('expiration', expiration);\n\t\t// } else if ((localStorage.getItem('expiration') - Date.now()) / 1000 < 60) {\n\t\t// \tlocalStorage.setItem('token', '');\n\t\t// \tlocalStorage.setItem('expiration', 0);\n\t\t// \tsetupSpotify();\n\t\t// }\n\t\tconst wrappedElement = document.getElementById('search-body');\n\t\twrappedElement.scrollTo(0, this.props.searchState.scroll);\n\t}\n\n\thandleSearch({ target }) {\n\t\tthis.props.setSearch(target);\n\t\tif (this.state.typingTimeout) {\n\t\t\tclearTimeout(this.state.typingTimeout);\n\t\t}\n\t\t/* if (this.props.searchState.search === '' && this.props.searchState.loading === true) {\n\t\t\tthis.props.clearSearchState()\n\t\t} */\n\n\t\tthis.setState({\n\t\t\ttypingTimeout: setTimeout(() => {\n\t\t\t\tlet type =\n\t\t\t\t\tthis.props.searchState.activeFilter === 'topresults'\n\t\t\t\t\t\t? 'album,artist,playlist,track'\n\t\t\t\t\t\t: this.props.searchState.activeFilter;\n\t\t\t\tSearch(this.props.searchState.search, type).then(result => {\n\t\t\t\t\tresult['type'] = this.state.activeFilter.toLowerCase() + 's';\n\t\t\t\t\tthis.props.setSearchResult(result);\n\t\t\t\t});\n\t\t\t}, 500)\n\t\t});\n\t}\n\n\tsetSearchFilter = name => {\n\t\tdocument.getElementById('search-body').scrollTo(0, 0);\n\t\tthis.props.setSearchFilter(name);\n\t\tif (this.props.searchState.search !== '') {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet type =\n\t\t\t\t\tthis.props.searchState.activeFilter === 'topresults'\n\t\t\t\t\t\t? 'album,artist,playlist,track'\n\t\t\t\t\t\t: this.props.searchState.activeFilter;\n\t\t\t\tSearch(this.props.searchState.search, type).then(result => {\n\t\t\t\t\tthis.props.setSearchResult(result);\n\t\t\t\t});\n\t\t\t}, 10);\n\t\t}\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.props.searchState.result.tracks.items.findIndex(\n\t\t\t\ttrack => track.uri === uri\n\t\t\t);\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.props.searchState.result.tracks.items\n\t\t\t\t\t.slice(index, this.props.searchState.result.tracks.items.length)\n\t\t\t\t\t.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t);\n\t\t\tplaySong(uris).then(data => {\n\t\t\t\tlet newItems = [];\n\t\t\t\tlet queue = this.props.searchState.result.tracks.items.slice(\n\t\t\t\t\tindex,\n\t\t\t\t\tthis.props.searchState.result.tracks.items.length\n\t\t\t\t);\n\t\t\t\tqueue.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tPlayAlbum = (id, active = false) => {\n\t\tif (!active) {\n\t\t\tgetAlbumTracks(id).then(result => {\n\t\t\t\tlet images = searchArray(\n\t\t\t\t\tid,\n\t\t\t\t\tthis.props.searchState.result.albums.items\n\t\t\t\t);\n\n\t\t\t\tlet newItems = [];\n\t\t\t\tresult.items.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\timages: images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.items.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tPlayArtist = (id, active = false) => {\n\t\tif (!active) {\n\t\t\tthis.props.spotifyData.player.getArtistTopTracks(id).then(result => {\n\t\t\t\tlet newItems = [];\n\t\t\t\tresult.tracks.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.tracks.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tbuildArtists = () => {\n\t\tlet artists = [];\n\t\tif ('artists' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.artists.items.forEach((artist, idx) => {\n\t\t\t\tartists.push(\n\t\t\t\t\t<Artist\n\t\t\t\t\t\tkey={`artist-${idx}`}\n\t\t\t\t\t\tartist={artist}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\thandleClick={this.PlayArtist}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn artists;\n\t};\n\n\tbuildAlbums = () => {\n\t\tlet albums = [];\n\t\tif ('albums' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.albums.items.forEach((album, idx) => {\n\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\talbums.push(\n\t\t\t\t\t<Album\n\t\t\t\t\t\tkey={`album-${idx}`}\n\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\tsearchState={this.state}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn albums;\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tif ('tracks' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.tracks.items.forEach((track, idx) => {\n\t\t\t\tlet active =\n\t\t\t\t\tthis.props.player.currentSong.uri === track.uri ? true : false;\n\t\t\t\ttracks.push(\n\t\t\t\t\t<Song\n\t\t\t\t\t\tkey={`song-${idx}`}\n\t\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\tsong={track}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn tracks;\n\t};\n\n\tcheckScroll = e => {\n\t\tconst wrappedElement = document.getElementById('search-body');\n\t\tthis.props.setCurrentScroll(wrappedElement.scrollTop);\n\t\tif (\n\t\t\twrappedElement.scrollHeight - wrappedElement.scrollTop <\n\t\t\t\twrappedElement.clientHeight + 300 &&\n\t\t\tthis.props.searchState.offset * 50 < this.props.searchState.total &&\n\t\t\tthis.state.firing !== true\n\t\t) {\n\t\t\tif (this.state.activeFilter !== 'topresults') {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tfiring: true\n\t\t\t\t});\n\t\t\t\tSearch(\n\t\t\t\t\tthis.props.searchState.search,\n\t\t\t\t\tthis.props.searchState.activeFilter,\n\t\t\t\t\t50,\n\t\t\t\t\tthis.props.searchState.offset + 1 * 50\n\t\t\t\t).then(result => {\n\t\t\t\t\tthis.props.extendSearchResults(result);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tfiring: false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet searchLeft = {\n\t\t\tborderLeft: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderTop: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderBottom: `2px solid ${this.props.player.colors.vibrant}`\n\t\t};\n\t\tlet searchRight = {\n\t\t\tborderRight: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderTop: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderBottom: `2px solid ${this.props.player.colors.vibrant}`\n\t\t};\n\t\tlet searchInput = {\n\t\t\tborderTop: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderBottom: `2px solid ${this.props.player.colors.vibrant}`\n\t\t};\n\t\tlet artists = this.buildArtists();\n\t\tlet albums = this.buildAlbums();\n\t\tlet tracks = this.buildTracks();\n\t\tlet topResultsSection =\n\t\t\tthis.state.activeFilter === 'topresults'\n\t\t\t\t? { height: '80%' }\n\t\t\t\t: { height: '0' };\n\t\tlet sectionStyle =\n\t\t\ttracks.length > 0 ? { height: '100%' } : { height: '0%' };\n\n\t\tlet ListItems = [];\n\t\tsearchFilters.forEach((name, idx) => {\n\t\t\tListItems.push(\n\t\t\t\t<FilterItem\n\t\t\t\t\tkey={`filter-${idx}`}\n\t\t\t\t\tonClick={this.setSearchFilter}\n\t\t\t\t\tname={name}\n\t\t\t\t\tisActive={this.props.searchState.activeFilter}\n\t\t\t\t\tcolor={this.props.player.colors.vibrant}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className='main'>\n\t\t\t\t<div className='search-filter'>\n\t\t\t\t\t<ul>{ListItems}</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className='input-holder'>\n\t\t\t\t\t<div className='search-icon' style={searchLeft}>\n\t\t\t\t\t\t<SearchRoundedIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='search-input'\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tonChange={event => this.handleSearch(event)}\n\t\t\t\t\t\tvalue={this.props.searchState.search}\n\t\t\t\t\t\tname='search'\n\t\t\t\t\t\tplaceholder='Search...'\n\t\t\t\t\t\tstyle={searchInput}\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={this.props.clearSearchState}\n\t\t\t\t\t\tclassName='cancel-icon'\n\t\t\t\t\t\tstyle={searchRight}>\n\t\t\t\t\t\t<ClearRoundedIcon />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='search-body' id='search-body'>\n\t\t\t\t\t<div className='topResultsSection' style={topResultsSection}></div>\n\t\t\t\t\t{artists}\n\t\t\t\t\t{albums}\n\t\t\t\t\t<div className='songs-container' style={sectionStyle}>\n\t\t\t\t\t\t{tracks}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Loader loading={this.props.searchState.loading} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(SearchSection);\n","import React from 'react';\n\n\nimport {\n\tplaySong,\n\tStopPlayer,\n\tResumePlayer,\n    getAlbumTracks,\n    getLikedTracks,\n    getLikedAlbums, \n    getFollowedArtists,\n    GetMyPlaylists, \n    getPersonalizedTopTracks\n} from '../utilityFunctions/util.js';\nimport { withRouter } from 'react-router-dom';\nimport Artist from '../Components/Blocks/artist';\nimport Album from '../Components/Blocks/album';\nimport Song from '../Components/Blocks/songs';\n\nimport '../App.css';\n\nlet searchFilters = ['PLAYLISTS', 'MADE FOR YOU', 'LIKED SONGS', 'ALBUMS', 'ARTISTS'];\n\nlet FilterItem = ({ name, isActive, onClick }) => {\n\tlet className =\n        isActive === name ? 'active' : '';\n\treturn (\n\t\t<li\n\t\t\tonClick={() => onClick(name)}\n\t\t\tclassName={className}>\n\t\t\t{name}\n\t\t</li>\n\t);\n};\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\n\n\nclass LibrarySection extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: this.props.spotifyData.token,\n\t\t\tloading: this.props.searchState.loading,\n\t\t\tactiveFilter: 'PLAYLISTS',\n\t\t\tresult: this.props.searchState.result,\n        };\n        console.info(\"these are your props\", props)\n\t\tthis.setSearchFilter = this.setSearchFilter.bind(this);\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n    }\n\n\tcomponentDidMount = () => {\n        getLikedAlbums().then(data => {\n            console.info(data)\n            this.setState({...this.state, albums: data})\n        })\n        getFollowedArtists().then(data => this.setState({...this.state, artists: data}))\n        getLikedTracks().then(data => this.setState({...this.state, likes: data}))\n        GetMyPlaylists().then(data => this.setState({...this.state, playlists: data}))\n        getPersonalizedTopTracks().then(data => this.setState({...this.state, personalized: data}))\n\t}\n\n\n\tsetSearchFilter = name => {\n\t\tdocument.getElementById('search-body').scrollTo(0, 0);\n\t\tthis.setState({\n            ...this.state,\n            activeFilter: name,\n        })\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.props.searchState.result.tracks.items.findIndex(\n\t\t\t\ttrack => track.uri === uri\n\t\t\t);\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.props.searchState.result.tracks.items\n\t\t\t\t\t.slice(index, this.props.searchState.result.tracks.items.length)\n\t\t\t\t\t.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t);\n\t\t\tconsole.log(uris);\n\t\t\tplaySong(uris).then(result =>\n\t\t\t\tconsole.log(result)\n\t\t\t);\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer().then(() =>\n\t\t\tconsole.log(0)\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\tconsole.log(1)\n\t\t\t);\n\t\t}\n\t};\n\n\tPlayAlbum = (id, active = false) => {\n\t\tif (!active) {\n\t\t\tgetAlbumTracks(id).then(result => {\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.items.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tconsole.log(result);\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer().then(() =>\n\t\t\t\tconsole.log(1)\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\t\tconsole.log(2)\n\t\t\t);\n\t\t}\n\t};\n\n\tbuildArtists = () => {\n\t\tlet artists = [];\n\t\tif ('artists' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.artists.items.forEach((artist, idx) => {\n\t\t\t\tartists.push(<Artist artist={artist} idx={idx} />);\n\t\t\t});\n\t\t}\n\t\treturn artists;\n\t};\n\n\tbuildAlbums = () => {\n\t\tlet albums = [];\n\t\tif ('albums' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.albums.items.forEach((album, idx) => {\n\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\talbums.push(\n\t\t\t\t\t<Album\n\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\tsearchState={this.state}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn albums;\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tif ('tracks' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.tracks.items.forEach((track, idx) => {\n\t\t\t\tlet active = this.props.player.currentSong.uri === track.uri ? true : false;\n\t\t\t\ttracks.push(\n\t\t\t\t\t<Song\n\t\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\tsong={track}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn tracks;\n\t};\n\n\trender() {\n        console.info('likes below')\n        console.info(this.state)\n        console.info('likes above')\n\t\tlet artists = this.buildArtists();\n\t\tlet albums = this.buildAlbums();\n\t\tlet tracks = this.buildTracks();\n\t\tlet sectionStyle =\n\t\t\ttracks.length > 0 ? { height: '100%' } : { height: '0%' };\n\n\t\tlet ListItems = [];\n\t\tsearchFilters.forEach(name => {\n\t\t\tListItems.push(\n\t\t\t\t<FilterItem\n\t\t\t\t\tonClick={this.setSearchFilter}\n\t\t\t\t\tname={name}\n\t\t\t\t\tisActive={this.state.activeFilter}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className='main'>\n\t\t\t\t<div className='search-filter'>\n\t\t\t\t\t<ul>{ListItems}</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className='search-body' id='search-body'>\n\t\t\t\t\t{artists}\n\t\t\t\t\t{albums}\n\t\t\t\t\t<div className='songs-container' style={sectionStyle}>\n\t\t\t\t\t\t{tracks}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Loader loading={this.props.searchState.loading} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(LibrarySection)\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\n\nimport { getColor } from '../../utilityFunctions/util.js';\n\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\n\nclass FeaturedArtist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'black',\n\t\t\t\tLightVibrant: 'white',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t\tthis.PlayArtist = this.PlayArtist.bind(this);\n\t}\n\tPlayArtist = () => {\n\t\tconst {\n\t\t\tResumePlayer,\n\t\t\tStopPlayer,\n\t\t\tplaySong,\n\t\t\tgetArtistTopTracks\n\t\t} = this.props.player.player;\n\t\tif (!this.props.active) {\n\t\t\tconsole.log(this.props.active, this.props.artistId);\n\t\t\tgetArtistTopTracks(this.props.artistId).then(result => {\n\t\t\t\tlet newItems = [];\n\t\t\t\tresult.tracks.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.tracks.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tplaySong(uris)\n\t\t\t\t\t.catch(e => console.debug(e))\n\t\t\t\t\t.then(e => console.debug(e));\n\t\t\t});\n\t\t} else if (this.props.active && this.props.isPlaying === false) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tcomponentDidMount = () => {\n\t\tthis.setColor(this.props.url);\n\t};\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\trender() {\n\t\tlet hoverState = this.props.active ? { opacity: 1 } : {};\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n                ${this.state.colors.DarkMuted})`\n\t\t};\n\t\tlet playIcon =\n\t\t\tthis.props.active && this.props.isPlaying ? (\n\t\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t\t) : (\n\t\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t\t);\n\t\treturn (\n\t\t\t<div className='container' style={containerStyle}>\n\t\t\t\t<div\n\t\t\t\t\tclassName='block'\n\t\t\t\t\tstyle={{ background: this.state.colors.DarkMuted }}>\n\t\t\t\t\t<img alt={`${this.props.name} cover`} src={this.props.url}></img>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner1'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Vibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner2'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.DarkVibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner3'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Muted }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner4'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.DarkVibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner5'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.LightVibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner6'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Muted }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='artist-hover-state'\n\t\t\t\t\t\tstyle={hoverState}\n\t\t\t\t\t\tonClick={() => this.PlayArtist()}>\n\t\t\t\t\t\t<div className='artist-icon-holder'>{playIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='artist-name'>\n\t\t\t\t\t<h1>{this.props.name}</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FeaturedArtist;\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\n\nimport { getColor } from '../../utilityFunctions/util.js';\n\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\n\nclass FeaturedPlaylist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'black',\n\t\t\t\tLightVibrant: 'white',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.setColor(this.props.url);\n\t};\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\t// var vibrant = new Vibrant(img);\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\tconsole.log(colors);\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\trender() {\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n                ${this.state.colors.DarkMuted})`\n\t\t};\n\t\treturn (\n\t\t\t<div className='playlist' style={containerStyle}>\n\t\t\t\t<div className='triangle-holder'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='triangle-left'\n\t\t\t\t\t\tstyle={{ borderBottom: `18em solid rgba(0,0,0,.1)` }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='triangle-right'\n\t\t\t\t\t\tstyle={{ borderTop: `22em solid rgba(0,0,0,.1)` }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName='artist-hover-state'\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tthis.props.handleClick(this.props.item.uri, this.props.active)\n\t\t\t\t\t}>\n\t\t\t\t\t<div className='artist-icon-holder'>\n\t\t\t\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<img alt='playlist-cover' src={this.props.url}></img>\n\t\t\t\t<div className='playlist-cover'>\n\t\t\t\t\t<h1>{this.props.name}</h1>\n\t\t\t\t\t<h3>{this.props.artistName}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FeaturedPlaylist;\n","import React from 'react';\n\nimport { withRouter } from 'react-router-dom';\n//import Artist from '../Components/Blocks/artist';\n//import Album from '../Components/Blocks/album';\n//import Song from '../Components/Blocks/songs';\n\nimport '../App.css';\nimport '../homepage.css';\n\nimport FeaturedArtist from '../Components/Blocks/featuredArtist';\nimport FeaturedPlaylist from '../Components/Blocks/featuredPlaylist';\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tresult: [],\n\t\t\ttracks: []\n\t\t};\n\t}\n\tcomponentDidMount() {\n\t\tthis.props.spotifyData.player\n\t\t\t.getPersonalizedTopTracks('artists', 10, 0)\n\t\t\t.then(result => {\n\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t.getPersonalizedTopTracks('tracks', 10, 0)\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tresult: result.items,\n\t\t\t\t\t\t\ttracks: data.items\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\thandleClick = (uri, active) => {\n\t\tlet { playSong, ResumePlayer, StopPlayer } = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.uri === uri);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tplaySong(uris).then(\n\t\t\t\tresult =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: uri,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t//hege.slice(1).concat(stale.slice(1)).forEach((item, idx) => list.push(item + idx))\n\t\t\t);\n\t\t} else if ((active, this.props.player.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t\tthis.props.togglePlay();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t\tthis.props.togglePlay();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet topArtists = [];\n\t\tlet topTracks = [];\n\t\tthis.state.result.forEach((item, idx) => {\n\t\t\tlet active = false;\n\t\t\tif (this.props.player.artistId === item.id) {\n\t\t\t\tactive = true;\n\t\t\t}\n\t\t\ttopArtists.push(\n\t\t\t\t<FeaturedArtist\n\t\t\t\t\tplayer={this.props.spotifyData}\n\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\tkey={`featured-artist-${idx}`}\n\t\t\t\t\turl={item.images[0].url}\n\t\t\t\t\tname={item.name}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tartistId={item.id}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\tthis.state.tracks.forEach((item, idx) => {\n\t\t\tlet active = false;\n\t\t\tif (this.props.player.currentSong.id === item.id) {\n\t\t\t\tactive = true;\n\t\t\t}\n\t\t\ttopTracks.push(\n\t\t\t\t<FeaturedPlaylist\n\t\t\t\t\tkey={`featured-playlist-${idx}`}\n\t\t\t\t\turl={item.album.images[0].url}\n\t\t\t\t\tname={item.name}\n\t\t\t\t\tartistName={item.artists[0].name}\n\t\t\t\t\tplayer={this.props.spotifyData}\n\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tsongUri={item.uri}\n\t\t\t\t\titem={item}\n\t\t\t\t\thandleClick={this.handleClick}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className='main'>\n\t\t\t\t<div className='favorites-title'>\n\t\t\t\t\t<h1>Favorite Artists</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className='recomended-artists'>{topArtists}</div>\n\t\t\t\t<h1>Recently Played</h1>\n\t\t\t\t<div className='recomended-artists'>{topTracks}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Home);\n","import { connect } from 'react-redux';\nimport Footer from '../Footer/footer';\nimport AlbumPage from '../../pages/albumPage.js';\nimport ArtistPage from '../../pages/artistPage.js';\nimport SearchSection from '../../pages/search';\nimport LibrarySection from '../../pages/library';\nimport Home from '../../pages/homePage';\nimport Navbar from '../Navbar/Navbar';\n\nconst mapStateToProps = state => ({ ...state });\n\nconst mapDispatchToProps = dispatch => ({\n\tsetSearch: payload => {\n\t\tdispatch({ type: 'SET_SEARCH', payload });\n\t},\n\tclearSearchState: () => {\n\t\tdispatch({ type: 'CLEAR_SEARCH_STATE' });\n\t},\n\tsetSearchResult: payload => {\n\t\tdispatch({ type: 'SEARCH_RESULT_RETURNED', payload });\n\t},\n\tsetSearchFilter: payload => {\n\t\tdispatch({ type: 'SET_SEARCH_FILTER', payload });\n\t},\n\tsetCurrentScroll: payload => {\n\t\tdispatch({ type: 'SET_CURRENT_SCROLL', payload });\n\t},\n\textendSearchResults: payload => {\n\t\tdispatch({ type: 'EXTEND_SEARCH_RESULTS', payload });\n\t},\n\tplaySong: payload => {\n\t\tdispatch({ type: 'PLAY_SONG', payload });\n\t},\n\tplayerStateChange: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_STATE', payload });\n\t},\n\tplayerSetArtistID: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_ARTIST_ID', payload });\n\t},\n\tsetCurrentTime: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_CURRENT_TIME', payload });\n\t},\n\ttogglePlay: payload => {\n\t\tdispatch({ type: 'PLAYER_TOGGLE_PLAY', payload });\n\t},\n\tinitializeSpotify: payload => {\n\t\talert(2);\n\t\tdispatch({ type: 'INITIALIZE_SPOTIFY_KEYS', payload });\n\t},\n\tPlayNext: payload => {\n\t\talert(2);\n\t\tdispatch({ type: 'PLAYER_PLAY_NEXT', payload });\n\t},\n\tSyncFromHost: () => {\n\t\tdispatch({ type: 'SYNC_FROM_HOST' });\n\t},\n\tSetColors: payload => {\n\t\tdispatch({ type: 'SET_PLAYER_COLORS', payload });\n\t},\n\tResetQueue: payload => {\n\t\tdispatch({ type: 'RESET_PLAYER_QUEUE', payload });\n\t},\n\tSetSecondaryColors: payload => {\n\t\tdispatch({ type: 'SET_SECONDARY_COLORS', payload });\n\t},\n\tsetPlayer: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_STATE_FROM_HOST', payload })\n\t},\n\tsetRoom: payload => dispatch({ type: 'SET_ROOM', payload })\n});\n\nexport const FooterContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Footer);\n\nexport const AlbumContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(AlbumPage);\nexport const ArtistContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ArtistPage);\nexport const SearchSectionContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SearchSection);\n\nexport const LibrarySectionContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(LibrarySection);\n\nexport const NavBarSection = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Navbar);\n\nexport const HomePageContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Home);\n","import axios from 'axios';\n\nexport class Spotify {\n\tconstructor(token) {\n\t\tthis.token = token;\n\t}\n\n\tGET = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response.data;\n\t};\n\n\tPOST = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUT = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tDELETE = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'DELETE',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUTBodyParamter = async (url, data) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tGetPlaylistTracks = (playlist_id, limit = 50, offset = 0) => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/tracks?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'Get Playlist Tracks');\n\t};\n\tGetPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}`;\n\t\treturn this.GET(url, 'Get Playlist');\n\t};\n\n\tGetPlaylistCover = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/images`;\n\t\treturn this.GET(url, 'Get Playlist Banner');\n\t};\n\n\tGetUsersPlaylists = (user_id, limit = 100, offset = 0) => {\n\t\tlet url = `https://api.spotify.com/v1/users/${user_id}/playlists?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'Get Users Playlists');\n\t};\n\tGetMyPlaylists = (limit = 50, offset = 0) => {\n\t\tlet url = `https://api.spotify.com/v1/me/playlists?limit=${limit}&offset=${offset}&market=US`;\n\t\treturn this.GET(url, 'Get All my Playlists');\n\t};\n\n\tCreatePlaylist = (\n\t\tuser_id,\n\t\tname,\n\t\tcollaborative = null,\n\t\tdescription = null,\n\t\tIspublic = null\n\t) => {\n\t\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\t\tdescription = description !== null ? `&description=${description}` : '';\n\t\tcollaborative =\n\t\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\t\tlet url =\n\t\t\t`https://api.spotify.com/v1/users/${user_id}/playlists?name=${name}` +\n\t\t\tIspublic +\n\t\t\tdescription +\n\t\t\tcollaborative;\n\t\treturn this.POST(url, 'Create new Playlist');\n\t};\n\n\tplaySong = song => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\t\tlet data = `{\"uris\": ${song}}`;\n\t\treturn this.PUTBodyParamter(url, data, 'Play specific song');\n\t};\n\n\tSpotifyLogout = () => {\n\t\tconst url = 'https://www.spotify.com/logout/';\n\t\tconst spotifyLogoutWindow = window.open(\n\t\t\turl,\n\t\t\t'Spotify Logout',\n\t\t\t'width=700,height=500,top=40,left=40'\n\t\t);\n\t\tsetTimeout(() => spotifyLogoutWindow.close(), 3000);\n\t};\n\t//!! All of these functions can be moved inside of the class as methods.\n\t//!! Instead of having to use spotify as a param we can target it using 'this'.\n\n\tgetAlbum = id => {\n\t\tlet url = `https://api.spotify.com/v1/albums/${id}`;\n\t\treturn this.GET(url, 'got albums');\n\t};\n\n\tgetAlbumTracks = id => {\n\t\tlet url = `https://api.spotify.com/v1/albums/${id}/tracks?limit=50`;\n\t\treturn this.GET(url, 'got album track list');\n\t};\n\n\tgetArtist = id => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}`;\n\t\treturn this.GET(url, 'got artists');\n\t};\n\n\tgetArtistAlbums = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}/albums?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got artist Albums');\n\t};\n\n\tgetArtistTopTracks = (id, offset = 0, limit = 50) => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}/top-tracks?offset=${offset}&limit=${limit}&market=US`;\n\t\treturn this.GET(url, 'got top tracks by artist');\n\t};\n\n\tgetArtistRelatedArtists = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}/related-artists?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got related Artists');\n\t};\n\n\tgetAllByCategory = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/categories/${id}?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got All results by category');\n\t};\n\n\tgetPlaylistByCategory = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/categories/${id}/playlists?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got playlists by category');\n\t};\n\n\tgetCategoriesList = () => {\n\t\tlet url = `https://api.spotify.com/v1/browse/categories/`;\n\t\treturn this.GET(url, 'got All Categories');\n\t};\n\n\tgetFeaturedPlaylists = (offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/featured-playlists?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got Featured Playlists');\n\t};\n\n\tgetNewReleases = (offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/new-releases?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got New Releases');\n\t};\n\n\tgetRecommendations = (offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/recommendations?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got recommendations');\n\t};\n\n\tgetFollowedArtists = (limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following?type=artist&limit=${limit}`;\n\t\treturn this.GET(url, 'got Followed Artists');\n\t};\n\n\tisFollowingUser = (type, ids) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following/contains?type=${type}&ids=${ids}`;\n\t\treturn this.GET(url, 'got if you are following user');\n\t};\n\n\tisFollowingPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/contains`;\n\t\treturn this.GET(url, 'got if you are following playlist');\n\t};\n\n\tfollowArtist = (type, ids) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\t\treturn this.PUT(url, 'PUT Followed New Artist');\n\t};\n\n\tfollowPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\t\treturn this.PUT(url, 'PUT Followed New Artist');\n\t};\n\n\tUnfollowArtist = (type, ids) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\t\treturn this.DELETE(url, 'DELETE Artist Removed');\n\t};\n\n\tUnfollowPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\t\treturn this.DELETE(url, 'DELETE Playlist Removed');\n\t};\n\n\tAlbumIsLiked = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums/contains?ids=${ids}`;\n\t\treturn this.GET(url, 'Boolean Album is Saved');\n\t};\n\n\tTrackIsLiked = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks/contains?ids=${ids}`;\n\t\treturn this.GET(url, 'Boolean Track is Saved');\n\t};\n\n\tgetLikedAlbums = (offset = 0, limit = 50) => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'get all liked albums');\n\t};\n\n\tgetLikedTracks = (offset = 0, limit = 50) => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'get all liked Songs');\n\t};\n\n\tDeleteAlbum = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\t\treturn this.DELETE(url, 'Delete Album');\n\t};\n\n\tDeleteSong = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\t\treturn this.DELETE(url, 'Delete Song');\n\t};\n\n\tAddSong = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\t\treturn this.PUT(url, 'ADD Song');\n\t};\n\n\tAddAlbum = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\t\treturn this.PUT(url, 'ADD Album');\n\t};\n\n\tgetPersonalizedTopTracks = (type, limit=10, offset=0) => {\n\t\tlet url = `https://api.spotify.com/v1/me/top/${type}?time_range=short_term&limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'got personalized top tracks');\n\t};\n\n\tgetAllDevices = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/devices`;\n\t\treturn this.GET(url, 'got Devices');\n\t};\n\n\tgetPlayer = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player`;\n\t\treturn this.GET(url, 'got Player');\n\t};\n\n\tgetRecentlyPlayed = (limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/recently-played?limit=${limit}`;\n\t\treturn this.GET(url, 'got recently played tracks');\n\t};\n\n\tgetCurrentlyPlaying = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/currently-playing`;\n\t\treturn this.GET(url, 'got Player');\n\t};\n\n\tStopPlayer = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/pause`;\n\t\treturn this.PUT(url, 'Put Player Paused');\n\t};\n\n\tResumePlayer = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\t\treturn this.PUT(url, 'Put Player Resume');\n\t};\n\n\tEnableRepeatMode = (context = 'context') => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/repeat?state=${context}`;\n\t\treturn this.PUT(url, 'Put Song/Album/Playlist on repeat');\n\t};\n\n\tEnableShuffleMode = (shuffle = 'true') => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/shuffle?state=${shuffle}`;\n\t\treturn this.PUT(url, 'Shuffle songs true/false');\n\t};\n\n\tChangeVolume = volume => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/volume?volume_percent=${volume}`;\n\t\treturn this.PUT(url, 'Put Volume Changed');\n\t};\n\n\tPlayNext = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/next`;\n\t\treturn this.POST(url, 'Post Play Next Song');\n\t};\n\n\tPlayPrevious = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/previous`;\n\t\treturn this.POST(url, 'Post Play Previous Song');\n\t};\n\n\tRestartSong = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/seek?position_ms=1000`;\n\t\treturn this.PUT(url, 'Start song over');\n\t};\n\tSeekSong = position => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/seek?position_ms=${position}`;\n\t\treturn this.PUT(url, 'Start song over');\n\t};\n\n\tTransferPlayback = device_id => {\n\t\tlet url = `https://api.spotify.com/v1/me/player`;\n\t\tlet data = { device_ids: [device_id], play: true };\n\t\treturn this.PUTBodyParamter(url, data, 'Transfer Playback');\n\t};\n\n\tgetMyProfile = () => {\n\t\tlet url = `https://api.spotify.com/v1/me`;\n\t\treturn this.GET(url, 'got my profile');\n\t};\n\n\tgetUserProfile = user_id => {\n\t\tlet url = `https://api.spotify.com/v1/users/${user_id}`;\n\t\treturn this.GET(url, 'got user profile');\n\t};\n\n\tgetTrack = track_id => {\n\t\tlet url = `https://api.spotify.com/v1/tracks/${track_id}`;\n\t\treturn this.GET(url, 'got track by id');\n\t};\n\n\tSearch = (query, type, limit = 50, offset = 0) => {\n\t\tquery = query.replace(' ', '%20') + '*';\n\t\tlet url = `https://api.spotify.com/v1/search?q=${query}&type=${type}&q=${query}&limit=${limit}&offset=${offset}`;\n\n\t\treturn this.GET(url, 'Search Spotify');\n\t};\n\n\tAddSongToPlaylist = (playlist_id, uris, position = null) => {\n\t\tposition = position !== null ? `&position=${position}` : '';\n\t\tlet url =\n\t\t\t`https://api.spotify.com/v1/playlists/${playlist_id}/tracks?uris=${uris}` +\n\t\t\tposition;\n\t\treturn this.POST(url, 'Post Add song to playlist');\n\t};\n\n\tChangePlayListDetails = (\n\t\tplaylist_id,\n\t\tname,\n\t\tcollaborative = null,\n\t\tdescription = null,\n\t\tIspublic = null\n\t) => {\n\t\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\t\tdescription = description !== null ? `&description=${description}` : '';\n\t\tcollaborative =\n\t\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\t\tlet url =\n\t\t\t`https://api.spotify.com/v1/playlists/${playlist_id}?=${name}` +\n\t\t\tIspublic +\n\t\t\tdescription +\n\t\t\tcollaborative;\n\t\treturn this.POST(url, 'Update playlist details');\n\t};\n}\n","import React, { useState, useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { setupSpotify, StoreAPIToken } from '../../utilityFunctions/util';\nimport { Spotify } from '../../utilityFunctions/util2';\nimport { withRouter } from 'react-router-dom';\n\nfunction Copyright() {\n\treturn (\n\t\t<Typography variant='body2' color='textSecondary' align='center'>\n\t\t\t{'Copyright © '}\n\t\t\t<Link color='inherit' href='https://material-ui.com/'>\n\t\t\t\tSound Good Music\n\t\t\t</Link>{' '}\n\t\t\t{new Date().getFullYear()}\n\t\t\t{'.'}\n\t\t</Typography>\n\t);\n}\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\theight: '100hv',\n\t\tbackground: 'linear-gradient(45deg, #BA55D3 10%, #000000 60%)'\n\t},\n\timage: {\n\t\tbackgroundImgae: 'url(http://127.0.0.1:5501/img/card1.jpg)',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'cover',\n\t\tbackgroundPosition: 'center'\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center'\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t}\n}));\nfunction SignInSide(props) {\n\tconst SpotifyToken = StoreAPIToken();\n\tconst classes = useStyles();\n\tconst [state, setState] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t\tremember: false,\n\t\tisLoggedIn: false\n\t});\n\tconst [error, setError] = useState('');\n\tconst onChange = e => {\n\t\treturn setState({ ...state, [e.target.name]: e.target.value });\n\t};\n\tconst { spotifyToken, initiatePlayer, history, authUser, spotifyData, user } = props\n\tuseEffect(() => {\n\t\tconst authTokens = localStorage.getItem('jwtTokens') || null;\n\t\tconst abortController = new AbortController();\n\t\tlet loginWithToken;\n\t\tif (authTokens && !user.isLoggedIn) {\n\t\t\tloginWithToken = fetch('/api/token', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: authTokens,\n\t\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t\t})\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.error) {\n\t\t\t\t\t\tlocalStorage.removeItem('jwtTokens');\n\t\t\t\t\t}\n\t\t\t\t\tconst { data, tokens } = response;\n\t\t\t\t\tif (tokens) {\n\t\t\t\t\t\tlocalStorage.setItem('jwtTokens', JSON.stringify({ ...tokens }));\n\t\t\t\t\t}\n\t\t\t\t\tsetState(s => ({\n\t\t\t\t\t\t...s,\n\t\t\t\t\t\tisLoggedIn: true\n\t\t\t\t\t}));\n\t\t\t\t\treturn authUser({ ...data, isLoggedIn: true });\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tlet expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t\t\t\tconst expirationTS =\n\t\t\t\t\t\t(localStorage.getItem('expiration') - Date.now()) / 1000;\n\t\t\t\t\tif (SpotifyToken) {\n\t\t\t\t\t\tlocalStorage.setItem('token', SpotifyToken);\n\t\t\t\t\t\tlocalStorage.setItem('expiration', expiration);\n\t\t\t\t\t\tspotifyToken(SpotifyToken);\n\t\t\t\t\t\tinitiatePlayer(new Spotify(SpotifyToken));\n\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t} else if (expirationTS < 60 || !spotifyData.userToken) {\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\n\t\t\t\t\t\tlocalStorage.setItem('expiration', 0);\n\t\t\t\t\t\tsetupSpotify();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\treturn () => {\n\t\t\tabortController.abort(loginWithToken);\n\t\t};\n\t}, [SpotifyToken, history, authUser, initiatePlayer, user, spotifyData, spotifyToken]);\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tsetError('');\n\t\tconst formData = JSON.stringify({\n\t\t\temail: state.email,\n\t\t\tpassword: state.password\n\t\t});\n\t\tfetch('/api/login', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\treturn res.json();\n\t\t\t\t} else {\n\t\t\t\t\tsetError('Please check user name & password!');\n\t\t\t\t\treturn 'Error';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(({ data, tokens }) => {\n\t\t\t\tif (tokens && state.remember) {\n\t\t\t\t\tlocalStorage.setItem('jwtTokens', JSON.stringify({ ...tokens }));\n\t\t\t\t}\n\t\t\t\tauthUser({ ...data, isLoggedIn: true });\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tlet expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t\t\tconst expirationTS =\n\t\t\t\t\t(localStorage.getItem('expiration') - Date.now()) / 1000;\n\t\t\t\tif (SpotifyToken) {\n\t\t\t\t\tlocalStorage.setItem('token', SpotifyToken);\n\t\t\t\t\tlocalStorage.setItem('expiration', expiration);\n\t\t\t\t\tspotifyToken(SpotifyToken);\n\t\t\t\t\tinitiatePlayer(new Spotify(SpotifyToken));\n\t\t\t\t\thistory.push('/');\n\t\t\t\t} else if (expirationTS < 60 || !spotifyData.userToken) {\n\t\t\t\t\tlocalStorage.setItem('token', '');\n\t\t\t\t\tlocalStorage.setItem('expiration', 0);\n\t\t\t\t\tsetupSpotify();\n\t\t\t\t}\n\t\t\t});\n\t\te.target.reset();\n\t};\n\treturn (\n\t\t<Grid container component='main' className={classes.root}>\n\t\t\t<CssBaseline />\n\t\t\t<Grid item xs={false} sm={4} md={7} className={classes.image} />\n\t\t\t<Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component='h1' variant='h5'>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{error && <p style={{ color: 'red' }}>{error}</p>}\n\t\t\t\t\t<form className={classes.form} onSubmit={handleSubmit} noValidate>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\tlabel='Email Address'\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tautoComplete='email'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tvalue={state.email}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\tvalue={state.password}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tautoComplete='current-password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetState({ ...state, remember: !state.remember })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue='remember'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel='Remember me'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\t{\"Don't have an account? Sign Up\"}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t\t<Copyright />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport default withRouter(SignInSide);\n","import React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { setupSpotify, StoreAPIToken } from '../../utilityFunctions/util';\nimport { Spotify } from '../../utilityFunctions/util2';\nimport { withRouter } from 'react-router-dom';\n\nfunction Copyright() {\n\treturn (\n\t\t<Typography variant='body2' color='textSecondary' align='center'>\n\t\t\t{'Copyright © '}\n\t\t\t<Link color='inherit' href='https://material-ui.com/'>\n\t\t\t\tSound Good Music\n\t\t\t</Link>{' '}\n\t\t\t{new Date().getFullYear()}\n\t\t\t{'.'}\n\t\t</Typography>\n\t);\n}\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\theight: '100hv',\n\t\tbackground: 'linear-gradient(45deg, #BA55D3 10%, #000000 60%)'\n\t},\n\timage: {\n\t\tbackgroundImgae: 'url(http://127.0.0.1:5501/img/card1.jpg)',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'cover',\n\t\tbackgroundPosition: 'center'\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center'\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t}\n}));\nfunction SignUp(props) {\n\tconst SpotifyToken = StoreAPIToken();\n\tconst classes = useStyles();\n\tconst [state, setState] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t\tusername: '',\n\t\tremember: false,\n\t\tisLoggedIn: false\n\t});\n\tconst [error, setError] = useState('');\n\tconst onChange = e => {\n\t\treturn setState({ ...state, [e.target.name]: e.target.value });\n\t};\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tsetError('');\n\t\tconst formData = JSON.stringify({\n\t\t\temail: state.email,\n\t\t\tpassword: state.password,\n\t\t\tusername: state.username\n\t\t});\n\t\tdebugger;\n\t\tfetch('/api/signup', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\treturn res.json();\n\t\t\t\t} else {\n\t\t\t\t\tsetError('Check your email!');\n\t\t\t\t\treturn 'Error';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(({ data, tokens }) => {\n\t\t\t\tif (tokens && state.remember) {\n\t\t\t\t\tlocalStorage.setItem('jwtTokens', JSON.stringify({ ...tokens }));\n\t\t\t\t}\n\t\t\t\tprops.authUser({ ...data, isLoggedIn: true });\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tlet expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t\t\tconst expirationTS =\n\t\t\t\t\t(localStorage.getItem('expiration') - Date.now()) / 1000;\n\t\t\t\tif (SpotifyToken) {\n\t\t\t\t\tlocalStorage.setItem('token', SpotifyToken);\n\t\t\t\t\tlocalStorage.setItem('expiration', expiration);\n\t\t\t\t\tprops.spotifyToken(SpotifyToken);\n\t\t\t\t\tprops.initiatePlayer(new Spotify(SpotifyToken));\n\t\t\t\t\tprops.history.push('/');\n\t\t\t\t} else if (expirationTS < 60 || !props.spotifyData.userToken) {\n\t\t\t\t\tlocalStorage.setItem('token', '');\n\t\t\t\t\tlocalStorage.setItem('expiration', 0);\n\t\t\t\t\tsetupSpotify();\n\t\t\t\t}\n\t\t\t});\n\t\te.target.reset();\n\t};\n\treturn (\n\t\t<Grid container component='main' className={classes.root}>\n\t\t\t<CssBaseline />\n\t\t\t<Grid item xs={false} sm={4} md={7} className={classes.image} />\n\t\t\t<Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component='h1' variant='h5'>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{error && <p style={{ color: 'red' }}>{error}</p>}\n\t\t\t\t\t<form className={classes.form} onSubmit={handleSubmit} noValidate>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid='username'\n\t\t\t\t\t\t\tlabel='User Name'\n\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\tautocomplete='new-password'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tvalue={state.username}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\tlabel='Email Address'\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tautoComplete='email'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tvalue={state.email}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\tvalue={state.password}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tautoComplete='new-password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetState({ ...state, remember: !state.remember })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue='remember'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel='Remember me'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\tSign up\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\t{\"Don't have an account? Sign Up\"}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t\t<Copyright />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport default withRouter(SignUp);\n","import { connect } from 'react-redux';\nimport SignInSide from '../Pages/SignIn';\nimport SignUp from '../Pages/SignUp';\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\t...state\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tauthUser: payload => {\n\t\t\tdispatch({ type: 'LOGIN', payload });\n\t\t},\n\t\tspotifyToken: payload => {\n\t\t\tdispatch({ type: 'SAVE_SPOTIFY_TOKEN', payload });\n\t\t},\n\t\tinitiatePlayer: payload => {\n\t\t\tdispatch({ type: 'INITIATE_SPOTIFY', payload });\n\t\t}\n\t};\n};\nexport const SignUpContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SignUp);\nexport const SignInContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SignInSide);\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport io from 'socket.io-client';\nimport '../../style/Chatroom.scss';\n\nclass Chatroom extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: this.props.username || '',\n\t\t\tmessage: '',\n\t\t\tmessages: this.props.messages || [],\n\t\t\tcurrentTyper: ''\n\t\t};\n\t\tthis.socket = io(`localhost:4000/rooms`);\n\t\tthis.socket.on('connect', function(data) {\n\t\t\tjoinRoom();\n\t\t});\n\t\t// once the client recieve a message send it to the server\n\t\tthis.socket.on('RECEIVE_MESSAGE', function(data) {\n\t\t\taddMessage(data);\n\t\t});\n\t\tconst joinRoom = () => {\n\t\t\tthis.socket.emit('JOIN_ROOM', {\n\t\t\t\troomId: this.props.roomId\n\t\t\t});\n\t\t};\n\t\t// the server will then send the message back and update the state\n\t\tconst addMessage = data => {\n\t\t\tthis.setState({\n\t\t\t\tmessages: [...this.state.messages, data],\n\t\t\t\tcurrentTyper: ''\n\t\t\t});\n\t\t};\n\t\t// when a user sends a message in the chatroom it will display the author and message\n\t\tthis.sendMessage = ev => {\n\t\t\tev.preventDefault();\n\t\t\tconst message = {\n\t\t\t\tauthor: this.props.user.username,\n\t\t\t\tauthorId: this.props.user.id,\n\t\t\t\tmessage: this.state.message,\n\t\t\t\troomId: this.props.roomId\n\t\t\t};\n\t\t\tthis.socket.emit('SEND_MESSAGE', message);\n\t\t\tthis.setState({\n\t\t\t\tmessage: '',\n\t\t\t\tmessages: [...this.state.messages, message]\n\t\t\t});\n\t\t};\n\n\t\t// whenever someone is typing a messgae, everyone in the chatroom will be able to see it\n\t\tthis.socket.on('typing', function(data) {\n\t\t\taddFeedback();\n\t\t});\n\n\t\tconst addFeedback = data => {\n\t\t\tthis.setState({ currentTyper: this.props.username });\n\t\t};\n\t}\n\n\tscrollToBottom = () => {\n\t\tconst messagesContainer = ReactDOM.findDOMNode(this.messagesContainer);\n\t\tmessagesContainer.scrollTop = messagesContainer.scrollHeight;\n\t};\n\tcomponentDidMount() {\n\t\tthis.scrollToBottom();\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.scrollToBottom();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='main-chatroom'>\n\t\t\t\t<div className='chat'>\n\t\t\t\t\t<div className='chat-title'>\n\t\t\t\t\t\t<h1>Chat room</h1>\n\t\t\t\t\t\t<h2>Sound Good Music</h2>\n\t\t\t\t\t\t{this.state.currentTyper && (\n\t\t\t\t\t\t\t<h4>{this.state.currentTyper} is typing...</h4>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<figure className='avatar'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc='https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg'\n\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\tthis.messagesContainer = el;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='messages'\n\t\t\t\t\t\tstyle={{ overflowY: 'scroll', scrollbarColor: 'yellow blue' }}>\n\t\t\t\t\t\t{this.state.messages.map((message, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className='message new' key={i}>\n\t\t\t\t\t\t\t\t\t<figure className='avatar'>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg'\n\t\t\t\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t\t{message.author}:\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t{message.message}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<form onSubmit={this.sendMessage}>\n\t\t\t\t\t\t<div className='message-box'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='message-input'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={this.props.user.username}\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='message-input'\n\t\t\t\t\t\t\t\tplaceholder='Enter a message'\n\t\t\t\t\t\t\t\tvalue={this.state.message}\n\t\t\t\t\t\t\t\tonChange={ev => this.setState({ message: ev.target.value })}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<button className='message-submit' type='submit'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<br />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapState = state => {\n\treturn { ...state };\n};\nexport default connect(\n\tmapState,\n\tnull\n)(Chatroom);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Song from '../../Components/Blocks/songshort';\nimport styled from 'styled-components';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { GET_ROOM, CREATE_LIKE } from '../../Apollo';\nimport Chatroom from '../Pages/Chatroom';\nfunction Room({ match, player, user, setRoom, spotifyData }) {\n\tconst { playSong } = spotifyData.player;\n\treturn (\n\t\t<MainRoom color={player.colors.darkVibrant}>\n\t\t\t<div className='main_room_header'>\n\t\t\t\t<h1>{user.room && user.room.roomName}</h1>\n\t\t\t</div>\n\t\t\t<QueryRoom\n\t\t\t\tid={Number(match.params.id)}\n\t\t\t\tqueue={player.queue}\n\t\t\t\tuser={user}\n\t\t\t\tsetRoom={setRoom}\n\t\t\t\tplayer={player}\n\t\t\t\tplaySong={playSong}\n\t\t\t/>\n\t\t</MainRoom>\n\t);\n}\n\nexport function QueryRoom({ id, player, user, setRoom, playSong }) {\n\tconst { loading, error, data } = useQuery(GET_ROOM, {\n\t\tvariables: { id },\n\t\tpollInterval: 1500\n\t});\n\tlet isHost;\n\tlet host;\n\tlet likes = [];\n\tlet messages = [];\n\tlet roomName = '';\n\tif (loading) {\n\t\treturn (\n\t\t\t<MainContainer style={{ display: 'flex', alignItems: 'center' }}>\n\t\t\t\t<Loader loading={true} />\n\t\t\t</MainContainer>\n\t\t);\n\t}\n\tif (error) {\n\t\treturn <MainContainer>Error</MainContainer>;\n\t}\n\tif (data) {\n\t\tconst { getRoom } = data;\n\t\tmessages = getRoom.messages.map(m => {\n\t\t\treturn {\n\t\t\t\tauthor: m.user.username,\n\t\t\t\tmessage: m.message\n\t\t\t};\n\t\t});\n\t\tlikes = getRoom.likes.map(like => {\n\t\t\treturn {\n\t\t\t\tspotifyId: like.spotifyId,\n\t\t\t\tuserId: like.user.id,\n\t\t\t\troomId: like.room.id\n\t\t\t};\n\t\t});\n\t\troomName = getRoom.roomName;\n\t\thost = getRoom.host;\n\t\tisHost = Number(getRoom.host.id) === user.id;\n\t\tconsole.log(likes);\n\t}\n\treturn (\n\t\t<MainContainer>\n\t\t\t{isHost ? (\n\t\t\t\t<HostView\n\t\t\t\t\tqueue={player.queue}\n\t\t\t\t\tmessages={messages}\n\t\t\t\t\troomId={id}\n\t\t\t\t\tisHost={isHost ? 1 : 0}\n\t\t\t\t\tsetRoom={setRoom}\n\t\t\t\t\thost={host}\n\t\t\t\t\tplayer={player}\n\t\t\t\t\tlikes={likes}\n\t\t\t\t\tplaySong={playSong}\n\t\t\t\t\troomName={roomName}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<ListenerView\n\t\t\t\t\tqueue={player.queue}\n\t\t\t\t\tmessages={messages}\n\t\t\t\t\troomId={id}\n\t\t\t\t\troomName={roomName}\n\t\t\t\t\tisHost={isHost ? 1 : 0}\n\t\t\t\t\tsetRoom={setRoom}\n\t\t\t\t\thost={host}\n\t\t\t\t\tlikes={likes}\n\t\t\t\t\tplayer={player}\n\t\t\t\t\tuser={user}\n\t\t\t\t\tplaySong={playSong}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</MainContainer>\n\t);\n}\n\nfunction HostView({\n\tmessages,\n\tqueue,\n\tplayer,\n\troomId,\n\tisHost,\n\thost,\n\tsetRoom,\n\tlikes,\n\tplaySong,\n\troomName\n}) {\n\tuseEffect(() => {\n\t\tsetRoom({ roomId, roomName, host: { isHost, ...host } });\n\t}, [setRoom, roomId, isHost, host, roomName]);\n\treturn (\n\t\t<>\n\t\t\t<h1>Host!</h1>\n\t\t\t<h1>Queue</h1>\n\t\t\t<div>\n\t\t\t\t{queue.map((song, i) => {\n\t\t\t\t\tconst active = player.currentSongId === song.id;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Song\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tsong={song}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\tconst newQueue = queue.filter(s => s.uri === song.uri);\n\t\t\t\t\t\t\t\treturn playSong(\n\t\t\t\t\t\t\t\t\tJSON.stringify([\n\t\t\t\t\t\t\t\t\t\tsong.uri,\n\t\t\t\t\t\t\t\t\t\tplayer.currentSong.uri,\n\t\t\t\t\t\t\t\t\t\t...newQueue.map(s => s.uri)\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tidx={i}\n\t\t\t\t\t\t\tisPlaying={player.isPlaying}\n\t\t\t\t\t\t\tshowLikes={1}\n\t\t\t\t\t\t\tlikes={likes.filter(e => e.spotifyId === song.id).length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<Chatroom messages={messages} roomId={roomId} isHost={isHost ? 1 : 0} />\n\t\t</>\n\t);\n}\n\nfunction ListenerView({\n\tmessages,\n\tqueue,\n\tplayer,\n\troomId,\n\tisHost,\n\thost,\n\tsetRoom,\n\tlikes,\n\tuser,\n\tplaySong,\n\troomName\n}) {\n\tuseEffect(() => {\n\t\tsetRoom({ roomId, roomName, host: { isHost, ...host } });\n\t}, [setRoom, roomId, isHost, host, roomName]);\n\tconst [createLike] = useMutation(CREATE_LIKE);\n\tconst handleClick = (roomId, userId, spotifyId) => {\n\t\tconst like = {\n\t\t\troomId,\n\t\t\tuserId,\n\t\t\tspotifyId\n\t\t};\n\t\tif (\n\t\t\tlikes.findIndex(\n\t\t\t\tl =>\n\t\t\t\t\tNumber(l.userId) === userId &&\n\t\t\t\t\tl.spotifyId === spotifyId &&\n\t\t\t\t\tNumber(l.roomId) === roomId\n\t\t\t) > -1\n\t\t) {\n\t\t\tconsole.log('Already Liked');\n\t\t\treturn;\n\t\t} else {\n\t\t\tlikes = [...likes, like];\n\t\t\treturn createLike({ variables: { roomId, userId, spotifyId } });\n\t\t}\n\t};\n\treturn (\n\t\t<>\n\t\t\t<h1>Queue</h1>\n\t\t\t<div>\n\t\t\t\t{queue.map((song, i) => {\n\t\t\t\t\tconst active = player.currentSongId === song.id;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Song\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tsong={song}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\tconst newQueue = queue.filter(s => s.uri === song.uri);\n\t\t\t\t\t\t\t\treturn playSong(\n\t\t\t\t\t\t\t\t\tJSON.stringify([\n\t\t\t\t\t\t\t\t\t\tsong.uri,\n\t\t\t\t\t\t\t\t\t\tplayer.currentSong.uri,\n\t\t\t\t\t\t\t\t\t\t...newQueue.map(s => s.uri)\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tidx={i}\n\t\t\t\t\t\t\tshowLikes={1}\n\t\t\t\t\t\t\tlikes={likes.filter(e => e.spotifyId === song.id).length}\n\t\t\t\t\t\t\tisPlaying={player.isPlaying}\n\t\t\t\t\t\t\tcreateLike={() => handleClick(roomId, user.id, song.id)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<Chatroom messages={messages} roomId={roomId} isHost={isHost ? 1 : 0} />\n\t\t</>\n\t);\n}\n\nconst MainRoom = styled.div`\n\twidth: 100vw;\n\theight: 100vh;\n\tmargin: auto;\n\tpadding-top: 30px;\n\tbackground: ${props =>\n\t\t`linear-gradient(160deg, ${props.color} 15%, rgba(0,0,0, 0.9) 70%)`};\n\th1 {\n\t\tfont-size: 25px;\n\t\tcolor: rgba(255, 255, 255, 0.75);\n\t\tline-height: 1em;\n\t}\n\t.main_room_hero {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`;\nconst MainContainer = styled.div`\n\twidth: 60vw;\n\theight: 60vh;\n\tpadding: 20px;\n\tbackground: rgba(0, 0, 0, 0.5);\n\tmargin-top: 5vh;\n\toverflow-y: scroll;\n\tdisplay: flex;\n\tflex-direction: column;\n\t::-webkit-scrollbar {\n\t\tbackground-color: rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1);\n\t}\n\t.song-block {\n\t\twidth: 100%;\n\t}\n`;\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\nconst mapState = state => {\n\treturn { ...state };\n};\nconst mapDispatch = dispatch => {\n\treturn {\n\t\tsetRoom: payload => dispatch({ type: 'SET_ROOM', payload })\n\t};\n};\nexport default connect(\n\tmapState,\n\tmapDispatch\n)(Room);\n","import { BrowserRouter as Router, Redirect } from 'react-router-dom';\nimport { Route, Switch } from 'react-router-dom';\nimport history from './history';\nimport React, { useState } from 'react';\nimport Navbar from './Components/Navbar/Navbar';\nimport { connect } from 'react-redux';\nimport SideDrawer from './Components/Navbar/SideDrawer/SideDrawer';\nimport Backdrop from './Components/Navbar/Backdrop/Backdrop';\nimport './App.css';\nimport './reset.css';\nimport {\n\tAlbumContainer as Album,\n\tArtistContainer as Artist,\n\tFooterContainer as Footer,\n\tSearchSectionContainer as SearchSection,\n\tLibrarySectionContainer as LibrarySection,\n\tHomePageContainer as Home\n} from './Components/Containers/MainContainer';\nimport {\n\tSignInContainer as SignInSide,\n\tSignUpContainer as SignUp\n} from './Components/Containers/SignInContainer';\n\nimport Room from './Components/Pages/Room';\n//!!! You can do this inline withing the Route component using render={()=> <Main page=\"home\"/>}\nlet SearchPage = () => <SearchSection />;\nlet HomePage = () => <Home />;\nlet LibraryPage = () => <LibrarySection />;\nlet AlbumPage = () => <Album />;\nlet ArtistPage = () => <Artist />;\nlet SignIN = () => <SignInSide />;\nfunction App(props) {\n\tconst [sideDrawerOpen, setSideDrawerOpen] = useState(false);\n\tconst style = {\n\t\tcolor: 'black',\n\t\twidth: '100vw'\n\t};\n\tconst drawerToggleClickHandler = () => {\n\t\tsetSideDrawerOpen(prevState => {\n\t\t\treturn !sideDrawerOpen;\n\t\t});\n\t};\n\tconst closeSideDrawerHandler = () => {\n\t\tsetSideDrawerOpen(false);\n\t};\n\tlet backdrop;\n\tif (sideDrawerOpen) {\n\t\tbackdrop = <Backdrop click={closeSideDrawerHandler} />;\n\t}\n\treturn (\n\t\t<Router history={history}>\n\t\t\t<div className='App' style={{ height: '100vh' }}>\n\t\t\t\t<Navbar draweronClick={drawerToggleClickHandler} />\n\t\t\t\t<SideDrawer click={closeSideDrawerHandler} show={sideDrawerOpen} />;\n\t\t\t\t{backdrop}\n\t\t\t\t<div className='header'></div>\n\t\t\t\t<main style={style}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{/* <Route path='/login' component={ExtraPage} /> */}\n\t\t\t\t\t\t<Route exact path='/login' component={SignIN} />\n\t\t\t\t\t\t<Route exact path='/signup' component={SignUp} />\n\t\t\t\t\t\t{props.spotifyData.userToken ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Route exact path='/room/:id' component={Room} />\n\t\t\t\t\t\t\t\t<Route path='/album/:id' component={AlbumPage} />\n\t\t\t\t\t\t\t\t<Route path='/artist/:id' component={ArtistPage} />\n\t\t\t\t\t\t\t\t<Route exact path='/library' component={LibraryPage} />\n\t\t\t\t\t\t\t\t<Route exact path='/search' component={SearchPage} />\n\t\t\t\t\t\t\t\t<Route exact path='/' component={HomePage} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Redirect to='/login' />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Switch>\n\t\t\t\t</main>\n\t\t\t\t{props.spotifyData.userToken && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Router>\n\t);\n}\nconst mapStateToProps = state => {\n\treturn {\n\t\t...state\n\t};\n};\n//  const {token} = this.props\n//  return (\n//   // *** Wrapping the entire app with the Spotify Context Provider\n//   //! Antony we need to handle the token generating within react so we can pass an instance\n//   //! Of the spotify class using the context API. I need a token to for the constructor\n//          <Router history={history}>\n//              <div className='App'>\n//                  <div className='header'></div>\n//                  <Switch>\n//                      <Route path='/login' component={ExtraPage} />\n//           <Route path='/album/:id' component={AlbumPage} />\n//           <Route path='/artist/:id' component={ArtistPage} />\n//                      <Route path='/' component={HomePage} />\n//                  {/*     <Route path='/second' render={() =>{\n//                          {token !== null ?\n//                          <SpotifyContext.Provider value={new Spotify(this.state.token)}>\n//                          <MainPage />\n//                          </SpotifyContext.Provider>\n//                          <Redirect to='/login' />\n//                          }\n//                      }} /> */}\n//                  </Switch>\n//                  <Footer />\n//              </div>\n//          </Router>\n//  );\n// }\nexport default connect(\n\tmapStateToProps,\n\tnull\n)(App);\n","const initialState = {\n\temail: '',\n\tid: '',\n\tusername: '',\n\tisLoggedIn: false,\n\troom: null\n};\n\nconst authReducer = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'LOGIN':\n\t\t\treturn {\n\t\t\t\t...payload,\n\t\t\t\troom: null\n\t\t\t};\n\t\tcase 'LOGOUT':\n\t\t\treturn {\n\t\t\t\t...initialState\n\t\t\t};\n\t\tcase 'REDIRECT_TO_SIGNIN':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...payload\n\t\t\t};\n\t\tcase 'SET_ROOM':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\troom: { ...state.room, ...payload }\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default authReducer;\n","const initialState = {\n\tcurrentSong: {},\n\tnextSong: {},\n\tqueue: [],\n\trecentlyPlayed: [],\n\tisPlaying: false,\n\tpreviousBtn: true,\n\tsongLength: 321,\n\talbumId: '',\n\tartistId: '',\n\tsongImg: '',\n\tsongName: '',\n\tcolors: {\n\t\tvibrant: 'black'\n\t},\n\tsecondaryColors: {\n\t\tvibrant: 'black'\n\t}\n};\n\nconst playerReducer = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'PLAYER_SET_STATE':\n\t\t\tlet newQueue;\n\t\t\tlet recentlyPlayed;\n\t\t\tlet previousBtn = true;\n\t\t\tif (state.queue.length === 0) {\n\t\t\t\tnewQueue = JSON.parse(localStorage.getItem('queue')) || [];\n\t\t\t\trecentlyPlayed = JSON.parse(localStorage.getItem('recentlyPlayed'));\n\t\t\t\trecentlyPlayed = recentlyPlayed !== null ? recentlyPlayed : [];\n\t\t\t} else if (\n\t\t\t\tstate.queue.length > 1 &&\n\t\t\t\tpayload.track_window.current_track.id === state.queue[1].id\n\t\t\t) {\n\t\t\t\tnewQueue = state.queue.slice(1);\n\t\t\t\trecentlyPlayed = [state.queue[0], ...state.recentlyPlayed];\n\t\t\t\tlocalStorage.setItem('queue', JSON.stringify(newQueue));\n\t\t\t\tlocalStorage.setItem('recentlyPlayed', JSON.stringify(recentlyPlayed));\n\t\t\t} else if (\n\t\t\t\tstate.recentlyPlayed.length > 0 &&\n\t\t\t\tpayload.track_window.current_track.id === state.recentlyPlayed[0].id\n\t\t\t) {\n\t\t\t\trecentlyPlayed = state.recentlyPlayed.slice(1);\n\t\t\t\tnewQueue = [state.recentlyPlayed[0], ...state.queue];\n\t\t\t\tlocalStorage.setItem('queue', JSON.stringify(newQueue));\n\t\t\t\tlocalStorage.setItem('recentlyPlayed', JSON.stringify(recentlyPlayed));\n\t\t\t} else {\n\t\t\t\tnewQueue = state.queue;\n\t\t\t\trecentlyPlayed = state.recentlyPlayed;\n\t\t\t}\n\t\t\tif (payload.track_window.previous_tracks.length === 0) {\n\t\t\t\tpreviousBtn = false;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tnewQueue.length > 0 &&\n\t\t\t\tnewQueue[0].id !== payload.track_window.current_track\n\t\t\t) {\n\t\t\t\t//newQueue = []\n\t\t\t\t//localStorage.setItem('queue', JSON.stringify([]))\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSong: payload.track_window.current_track,\n\t\t\t\tcurrentSongId: payload.track_window.current_track.id,\n\t\t\t\tartist: payload.track_window.current_track.artists[0].name,\n\t\t\t\tsongLength: payload.track_window.current_track.duration_ms / 1000,\n\t\t\t\tsongImg: payload.track_window.current_track.album.images[2].url,\n\t\t\t\talbumName: payload.track_window.current_track.album.name,\n\t\t\t\tsongName: payload.track_window.current_track.name,\n\t\t\t\tplaying: !payload.paused,\n\t\t\t\tisPlaying: !payload.paused,\n\t\t\t\tshuffle: payload.shuffle,\n\t\t\t\trepeat: payload.repeat_mode === 1 ? true : false,\n\t\t\t\tqueue: newQueue,\n\t\t\t\trecentlyPlayed: recentlyPlayed,\n\t\t\t\tpreviousBtn: previousBtn\n\t\t\t};\n\t\tcase 'PLAYER_PLAY_NEXT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSong: payload.item,\n\t\t\t\tcurrentSongId: payload.item.id,\n\t\t\t\tartist: payload.item.artists[0].name,\n\t\t\t\tsongLength: payload.item.duration_ms / 1000,\n\t\t\t\tsongImg: payload.item.album.images[2].url,\n\t\t\t\talbumName: payload.item.album.name,\n\t\t\t\tsongName: payload.item.name,\n\t\t\t\tplaying: !payload.paused\n\t\t\t};\n\t\tcase 'PLAYER_SET_ARTIST_ID':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tartistId: payload.artistId,\n\t\t\t\talbumId: payload.albumId\n\t\t\t};\n\n\t\tcase 'PLAY_SONG':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSong: { ...payload }\n\t\t\t};\n\t\tcase 'ADD_TO_QUEUE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tqueue: [...state.queue, payload]\n\t\t\t};\n\t\tcase 'RESET_PLAYER_QUEUE':\n\t\t\tlocalStorage.setItem('queue', JSON.stringify([...payload]));\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tqueue: [...payload]\n\t\t\t};\n\t\tcase 'PLAYER_SET_PlAYING': {\n\t\t\treturn {\n\t\t\t\t...state\n\t\t\t};\n\t\t}\n\t\tcase 'PLAYER_TOGGLE_PLAY': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPlaying: !state.isPlaying\n\t\t\t};\n\t\t}\n\t\tcase 'SET_PLAYER_COLORS': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcolors: payload\n\t\t\t};\n\t\t}\n\t\tcase 'SET_SECONDARY_COLORS': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsecondaryColors: payload\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default playerReducer;\n","const initialState = {\n\ttoken: '',\n\tsearch: '',\n\tloading: false,\n\tactiveFilter: 'artist',\n\tresult: {},\n\tfiring: false,\n\tscroll: 0\n};\n\nconst searchReducer = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'SET_SEARCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch: payload.value,\n\t\t\t\tloading: true,\n\t\t\t\tresult: {},\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'SEARCH_RESULT_RETURNED':\n\t\t\talert(payload.type.toLowerCase());\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tresult: payload,\n\t\t\t\tloading: false,\n\t\t\t\toffset: payload[state.activeFilter.toLowerCase() + 's'].offset,\n\t\t\t\ttotal: payload[state.activeFilter.toLowerCase() + 's'].total,\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'EXTEND_SEARCH_RESULTS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\toffset: payload[state.activeFilter.toLowerCase() + 's'].offset,\n\t\t\t\ttotal: payload[state.activeFilter.toLowerCase() + 's'].total,\n\t\t\t\tresult: {\n\t\t\t\t\t...state.result,\n\t\t\t\t\t[state.activeFilter.toLowerCase() + 's']: {\n\t\t\t\t\t\t...state.result[state.activeFilter.toLowerCase() + 's'],\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t...state.result[state.activeFilter.toLowerCase() + 's'].items,\n\t\t\t\t\t\t\t...payload[state.activeFilter.toLowerCase() + 's'].items\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\tcase 'CLEAR_SEARCH_STATE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch: '',\n\t\t\t\tresult: {},\n\t\t\t\tloading: false,\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'SET_SEARCH_FILTER':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tresult: {},\n\t\t\t\tactiveFilter: payload,\n\t\t\t\tloading: false,\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'SET_CURRENT_SCROLL':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tscroll: payload\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default searchReducer;\n","const initialState = {\n\tsongs: [],\n\tartists: [],\n\talbums: [],\n\tplaylists: [],\n\tpersonalized: [],\n\tuserToken: '',\n\tsearchQuery: ''\n};\n\nconst spotifyData = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'LIKE_SONG':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsongs: [...state.songs, payload]\n\t\t\t};\n\t\tcase 'LIKE_ALBUM':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\talbums: [...state.albums, payload]\n\t\t\t};\n\t\tcase 'LIKE_PLAYLIST':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplaylists: [...state.playlists, payload]\n\t\t\t};\n\t\tcase 'LIKE_ARTIST':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tartist: [...state.artists, payload]\n\t\t\t};\n\t\tcase 'SAVE_SPOTIFY_TOKEN':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserToken: payload\n\t\t\t};\n\t\tcase 'INITIATE_SPOTIFY': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayer: payload\n\t\t\t};\n\t\t}\n\t\tcase 'INITIALIZE_SPOTIFY_KEYS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[payload.key] : payload.data,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default spotifyData;\n","import { combineReducers } from 'redux';\nimport authReducers from './authReducers';\nimport playerReducers from './playerReducers';\nimport searchReducer from './searchReducers';\nimport spotifyData from './spotifyData';\n\nexport default combineReducers({\n\tuser: authReducers,\n\tplayer: playerReducers,\n\tspotifyData: spotifyData,\n\tsearchState: searchReducer\n});\n","import { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(\n\trootReducer,\n\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './Store';\nimport * as serviceWorker from './serviceWorker';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport client from './Apollo';\n// import { Provider } from 'react-redux';\n// import store from './Store';\n\nReactDOM.render(\n\t<ApolloProvider client={client}>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</ApolloProvider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}