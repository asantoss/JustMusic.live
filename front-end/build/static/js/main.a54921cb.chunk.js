(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{225:function(t,e,a){t.exports=a(414)},235:function(t,e,a){},237:function(t,e,a){},283:function(t,e){},410:function(t,e,a){},411:function(t,e,a){},412:function(t,e,a){},413:function(t,e,a){},414:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(17),i=a.n(o),s=a(9),c=a(38),l=a(10),u=a(63),p=a(41),m=Object(p.a)(),d=a(27),g=a(19),f=a(35);function h(){var t=Object(d.a)(["\n  height: 2px;\n  width:5vw;\n  background: white;\n"]);return h=function(){return t},t}function y(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  height: 3vh;\n  width: 4vw;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  box-sizing: border-box;\n\n  @media (min-width: 768px) {\n      display: none;\n      \n    }\n\n  &:focus{\n    outline: none;\n  }\n"]);return y=function(){return t},t}function b(t){return n.a.createElement(v,{className:"toggle_button",onClick:t.toggleButton},n.a.createElement(O,null),n.a.createElement(O,null),n.a.createElement(O,null))}var v=f.a.button(y()),O=f.a.div(h());a(55);function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function k(){var t=Object(d.a)(["\n\t@media (max-width: 768px) {\n\t\tdisplay: none;\n\t}\n\t.navCurrent {\n\t\tcolor: gold;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tdisplay: flex;\n\n\t\tli {\n\t\t\tpadding: 0 2rem;\n\t\t\tfont-size: 1.4em;\n\t\t\tletter-spacing: 3px;\n\t\t\tfont-weight: 300;\n\t\t\tcolor: white;\n\t\t\t&:hover {\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\ta {\n\t\t\t\tcolor: inherit;\n\t\t\t\ttext-decoration: none;\n\t\t\t}\n\t\t}\n\t}\n"]);return k=function(){return t},t}function S(){var t=Object(d.a)(["\n\tflex: 1;\n"]);return S=function(){return t},t}function P(){var t=Object(d.a)(["\n\tmargin-left: 1.1rem;\n\t@media (min-width: 769px) {\n\t\tmargin-left: 0;\n\t}\n\n\ta {\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t\tfont-size: 1.5rem;\n\t}\n"]);return P=function(){return t},t}function w(){var t=Object(d.a)(["\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tpadding: 0 1rem;\n"]);return w=function(){return t},t}function j(){var t=Object(d.a)(["\n\tposition: fixed;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbackground: linear-gradient(160deg, #0b1313 25%, rgba(0, 0, 0, 1) 75%);\n\theight: 8vh;\n"]);return j=function(){return t},t}var T=f.a.header(j()),N=f.a.nav(w()),I=f.a.div(P()),D=f.a.div(S()),C=f.a.div(k()),x=Object(g.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)}),(function(t){return{logOut:function(){t({type:"LOGOUT"})}}}))(Object(u.g)((function(t){var e,a="15%",r=window.location.pathname.split("/")[1];return e=["album","artist","playlist"].includes(r)?t.player.secondaryColors.DarkVibrant:"#000000 ",window.innerWidth<1100&&(a="30%"),n.a.createElement(T,{style:{background:"linear-gradient(50deg,".concat(e," ").concat(a,", rgba(0,0,0, 1) ").concat(a,")")}},n.a.createElement(N,null,n.a.createElement("div",null,n.a.createElement(b,{toggleButton:t.draweronClick})),n.a.createElement(I,null,n.a.createElement(l.c,{to:"/",style:{fontWeight:100,fontFamily:"roboto",fontSize:"2vw",textTransform:"capitalize"}},"JustMusic.live")),n.a.createElement(D,null),n.a.createElement(C,null,n.a.createElement("ul",null,t.user.room&&n.a.createElement("li",null,n.a.createElement(l.c,{activeStyle:{color:t.player.colors.vibrant,borderBottom:"2px solid ".concat(t.player.colors.vibrant)},className:"nav-link",activeClassName:"active",to:"/room/"+t.user.room.roomId},"STATION")),n.a.createElement("li",null,n.a.createElement(l.c,{activeStyle:{color:t.player.colors.vibrant,borderBottom:"2px solid ".concat(t.player.colors.vibrant)},className:"nav-link",activeClassName:"active",to:"/search"},"SEARCH")),n.a.createElement("li",null,n.a.createElement(l.c,{activeStyle:{color:t.player.colors.vibrant,borderBottom:"2px solid ".concat(t.player.colors.vibrant)},className:"nav-link",activeClassName:"active",to:"/library"},"LIBRARY")),t.user.isLoggedIn?n.a.createElement("li",{onClick:function(){localStorage.removeItem("jwtTokens"),t.logOut(),fetch("/api/signout",{method:"DELETE"}),t.history.go("/")}},"SIGN OUT"):n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(l.c,{className:"nav-link",activeClassName:"active",to:"/login"},"SIGN IN")),n.a.createElement("li",null,n.a.createElement(l.c,{className:"nav-link",activeClassName:"active",to:"/signup"},"SIGN UP")))))))})));function A(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function R(){var t=Object(d.a)(["\n\theight: 100vh;\n\tbackground: white;\n\tbox-shadow: 1px 0px 7px rgba(0, 0, 0, 0.5);\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 70%;\n\tmax-width: 400px;\n\tz-index: 200;\n\ttransition: transform 400ms ease-out;\n\ttransform: ",";\n\n\t@media (min-width: 769px) {\n\t\tdisplay: none;\n\t}\n\n\tul {\n\t\theight: 100%;\n\t\tlist-style: none;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\n\t\tli {\n\t\t\tmargin: 0.5rem 0;\n\n\t\t\ta {\n\t\t\t\tcolor: #521751;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tfont-size: 1.2rem;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tcolor: #fa923f;\n\t\t\t\t}\n\n\t\t\t\t&:active {\n\t\t\t\t\tcolor: #fa923f;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return R=function(){return t},t}var L=f.a.nav(R(),(function(t){return t.show?"translateX(0)":"translateX(-105%)"})),_=Object(g.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?A(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)}),(function(t){return{logOut:function(){t({type:"LOGOUT"})}}}))(Object(u.g)((function(t){return n.a.createElement(L,{onClick:t.click,style:{},show:t.show},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(l.b,{to:"/"},"HOME")),t.user.isLoggedIn?n.a.createElement("li",{onClick:function(){t.logOut(),fetch("/api/signout",{method:"DELETE"})}},"SIGN OUT"):n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(l.b,{to:"/login"},"SIGN IN")),n.a.createElement("li",null,n.a.createElement(l.b,{to:"/signup"},"SIGN UP")))))})));function V(){var t=Object(d.a)(["\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.3);\n        z-index: 100;\n        top: 0;\n        left: 0;\n"]);return V=function(){return t},t}function M(t){return n.a.createElement(F,{onClick:t.click})}var F=f.a.div(V()),G=(a(235),a(20)),U=a.n(G),q=a(15),z=a(29),Q=a(23),B=a(22),Y=a(14),J=a(24),H=a(36),W=(a(237),a(47)),$=a.n(W),K=function(t){var e="".concat(Math.floor(t/60));return t="".concat(Math.round(t%60)),e=e.length<2?0+e:e,(t=t.length<2?0+t:t)>59?"".concat(e[0]+1,":00"):"".concat(e,":").concat(t)},X=function(t,e){for(var a=0;a<e.length;a++)if(e[a].id===t)return e[a].images},Z=function(t,e){return e in t&&null!==t[e]?t[e].getHex():null},tt=function(){var t=window.location.hash.substr(1).split("&"),e=[];if(t.length&&t.forEach((function(t){var a=t.split("=");e[a[0]]=a[1]})),e.access_token)return e.access_token},et=function(){var t=["user-read-playback-state","streaming","user-read-private","user-read-currently-playing","user-modify-playback-state","user-top-read"].join(" "),e="https://accounts.spotify.com/authorize?client_id=".concat("42c128e85c9c4eddad1930a129937c94","&redirect_uri=").concat("http://127.0.0.1:3000/login","&scope=").concat(t,"&response_type=").concat("token");window.location=e},at=function(t,e){e=null==e?new dt(localStorage.getItem("token")):e;var a='{"uris": '.concat(t,"}");return e.PUTBodyParamter("https://api.spotify.com/v1/me/player/play",a,"Play specific song")},rt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=null==e?new dt(localStorage.getItem("token")):e;var a="https://api.spotify.com/v1/albums/".concat(t,"/tracks?limit=50");return e.GET(a,"got album track list")},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;t=null==t?new dt(localStorage.getItem("token")):t;var a="https://api.spotify.com/v1/me/following?type=artist&limit=".concat(e);return t.GET(a,"got Followed Artists")},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;t=null==t?new dt(localStorage.getItem("token")):t;var r="https://api.spotify.com/v1/me/albums?limit=".concat(a,"&offset=").concat(e);return t.GET(r,"get all liked albums")},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;t=null==t?new dt(localStorage.getItem("token")):t;var r="https://api.spotify.com/v1/me/tracks?limit=".concat(a,"&offset=").concat(e,"&market=US");return t.GET(r,"get all liked Songs")},st=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=null==e?new dt(localStorage.getItem("token")):e;var a="https://api.spotify.com/v1/me/top/".concat(t);return e.GET(a,"got personalized top tracks")},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="https://api.spotify.com/v1/me/player/pause";return(t=null==t?new dt(localStorage.getItem("token")):t).PUT(e,"Put Player Paused")},lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="https://api.spotify.com/v1/me/player/play";return(t=null==t?new dt(localStorage.getItem("token")):t).PUT(e,"Put Player Resume")},ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=null==e?new dt(localStorage.getItem("token")):e;var a="https://api.spotify.com/v1/me/player/volume?volume_percent=".concat(t);return e.PUT(a,"Put Volume Changed")},pt=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;n=null==n?new dt(localStorage.getItem("token")):n,t=t.replace(" ","%20")+"*";var o="https://api.spotify.com/v1/search?q=".concat(t,"&type=").concat(e,"&q=").concat(t,"&limit=").concat(a,"&offset=").concat(r);return n.GET(o,"Search Spotify")},mt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a=null==a?new dt(localStorage.getItem("token")):a;var r="https://api.spotify.com/v1/me/playlists?limit=".concat(t,"&offset=").concat(e);return a.GET(r,"Get All my Playlists")},dt=function t(e){var a=this;Object(q.a)(this,t),this.GET=function(){var t=Object(H.a)(U.a.mark((function t(e,r){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"GET",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.POST=function(){var t=Object(H.a)(U.a.mark((function t(e,r){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"POST",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.PUT=function(){var t=Object(H.a)(U.a.mark((function t(e,r){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"PUT",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.DELETE=function(){var t=Object(H.a)(U.a.mark((function t(e,r){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"DELETE",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.PUTBodyParamter=function(){var t=Object(H.a)(U.a.mark((function t(e,r,n){var o;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"PUT",url:e,data:r,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return o=t.sent,t.abrupt("return",o);case 4:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}(),this.token=e},gt=a(101),ft=a.n(gt),ht=a(8),yt=a(468),bt=Object(ht.a)({root:{color:"green",height:4,width:"50vw"},thumb:{height:15,width:15,backgroundColor:"white",color:"red",border:"2px solid white",marginTop:-6,marginLeft:-5,"&:focus,&:hover,&$active":{boxShadow:"inherit"}},active:{},valueLabel:{backgroundColor:"transparent",color:"transparent",left:"calc(-50% + 6px)",marginTop:10},track:{height:4,width:"47vw",borderRadius:4},rail:{height:4,width:"47vw",borderRadius:4}})(yt.a);function vt(t){var e=t.max,a=t.current,r=t.color,o=t.ChangeTime,i=t.handleTimeChange,s=(t.height,K(a)),c=K(e);return"NaN:NaN"===s&&(s="00:00",c="00:00"),n.a.createElement("div",{className:"slider-holder"},n.a.createElement("div",{className:"label current-label"},n.a.createElement("p",null,s)),n.a.createElement(bt,{onChange:o,width:"100vw",onChangeCommitted:function(t){var e=t.value;return i(e)},getAriaValueText:function(){return s},getAriaLabel:function(){return s},valueLabelDisplay:"off",valueLabelFormat:function(){return s},"aria-label":"song-slider",style:{color:r},value:a,max:e,min:0,defaultValue:a,className:"slider-guy"}),n.a.createElement("div",{className:"label song-length"},n.a.createElement("p",null,c)))}var Ot=a(195),Et=a.n(Ot),kt=a(194),St=a.n(kt),Pt=Object(ht.a)({root:{color:"green",height:4,width:"5vw"},thumb:{height:15,width:15,backgroundColor:"white",color:"red",border:"2px solid white",marginTop:-6,marginLeft:-5,"&:focus,&:hover,&$active":{boxShadow:"inherit"}},active:{},valueLabel:{backgroundColor:"transparent",color:"transparent",left:"calc(-50% + 6px)",marginTop:10},track:{height:4,width:"5vw",borderRadius:4},rail:{height:4,width:"5vw",borderRadius:4}})(yt.a),wt=function(t){var e=t.Muted,a=t.onClick,r={fontSize:"1.6em",color:t.color,marginBottom:"-.1em"};return e?n.a.createElement(St.a,{onClick:a,style:r}):n.a.createElement(Et.a,{onClick:a,style:r})};function jt(t){var e=t.toggleSound,a=t.muted,r=t.current,o=t.handleVolumeChange,i=t.height,s=t.ChangeVolume,c="rgba(255,255,255, 0.8)",l="horizontal",u="on";return a&&(r=0,u="off"),i<1e3&&(l="vertical"),n.a.createElement("div",{className:"volume-slider"},n.a.createElement("div",{className:"play-holder vol-holder"},n.a.createElement(wt,{color:c,onClick:function(){return e()},Muted:a})),n.a.createElement(Pt,{onChange:s,onChangeCommitted:function(t){var e=t.value;return o(e)},getAriaValueText:function(){return r},getAriaLabel:function(){return r},valueLabelDisplay:u,valueLabelFormat:function(){return r},"aria-label":"volume-slider",orientation:l,style:{color:c},value:r,max:100,min:0,defaultValue:r,className:"slider-guy",disabled:a}))}var Tt=a(12),Nt=a(198),It=a.n(Nt),Dt=a(37),Ct=a(54),xt=a(71);function At(){var t=Object(d.a)(["\n\tmutation createRoom($hostId: Int!, $roomName: String!) {\n\t\tcreateRoom(hostId: $hostId, roomName: $roomName) {\n\t\t\tid\n\t\t\thost {\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n"]);return At=function(){return t},t}function Rt(){var t=Object(d.a)(["\n\tmutation createLike($userId: Int!, $roomId: Int!, $spotifyId: String!) {\n\t\tcreateLike(userId: $userId, roomId: $roomId, spotifyId: $spotifyId) {\n\t\t\troom {\n\t\t\t\tlikes {\n\t\t\t\t\tuser {\n\t\t\t\t\t\tusername\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return Rt=function(){return t},t}function Lt(){var t=Object(d.a)(["\n\tquery getAllRooms {\n\t\tgetAllRooms {\n\t\t\tid\n\t\t\troomName\n\t\t\thost {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]);return Lt=function(){return t},t}function _t(){var t=Object(d.a)(["\n\tquery getRoom($id: Int!) {\n\t\tgetRoom(id: $id) {\n\t\t\troomName\n\t\t\thost {\n\t\t\t\tusername\n\t\t\t\tid\n\t\t\t}\n\t\t\tmessages {\n\t\t\t\tuser {\n\t\t\t\t\tusername\n\t\t\t\t}\n\t\t\t\tmessage\n\t\t\t}\n\t\t\tlikes {\n\t\t\t\troom {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tuser {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tspotifyId\n\t\t\t}\n\t\t}\n\t}\n"]);return _t=function(){return t},t}var Vt=new xt.a({uri:"/graphql"}),Mt=Object(xt.b)(_t()),Ft=Object(xt.b)(Lt()),Gt=Object(xt.b)(Rt()),Ut=Object(xt.b)(At()),qt=Vt,zt=a(444);function Qt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var Bt=Object(g.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Qt(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)}),(function(t){return{ResetQueue:function(e){t({type:"RESET_PLAYER_QUEUE",payload:e})}}}))(Object(u.g)((function(t){var e=t.userId,a=t.active,r=t.playlist,o=t.rooms,i=t.spotifyData,s=t.ResetQueue,l=t.history,u=t.toggleQ,p=Object(Ct.a)(Ut),m=Object(c.a)(p,1)[0],d=i.player,g=function(t,e){d.GetPlaylistTracks(t).then((function(t){var a=t.items.map((function(t){return t.track.uri})),r=t.items.map((function(t,e){return"track"in t&&(t=t.track),t.order=e,t}));d.playSong(JSON.stringify(a)).then((function(){s(r),l.push("/room/"+e)}))}))};return n.a.createElement("div",{className:"start-station=btn",style:{display:a?"flex":"none",flexDirection:"column",alignItems:"center"},onClick:function(){var t=o.map((function(t){return{id:Number(t.id),hostId:t.host.id,roomName:t.roomName}})),a=e,n=r.name,i=t.findIndex((function(t){return Number(t.hostId)===a&&t.roomName===n}));if(u(),i>-1){var s=t[i].id;return g(r.id,s)}return m({variables:{hostId:e,roomName:r.name}}).then((function(t){var e=t.data.createRoom.id;g(r.id,e)}))}},n.a.createElement(zt.a,{style:{fontSize:"1.5em"}}),"Start Station")}))),Yt=a(445),Jt=a(446),Ht=a(447),Wt=function(t){var e=t.song,a=t.idx,r=t.handleClick,o=t.active,i=t.isPlaying,s=(t.searchState,t.likes),c=t.showLikes,l=t.createLike,u=o?"song-hover-state active":"song-hover-state",p=o&&i?n.a.createElement(Yt.a,{style:{fontSize:".8em"}}):n.a.createElement(Jt.a,{style:{fontSize:".8em"}}),m=n.a.createElement("h5",null,e.artists[0].name),d=void 0!==e.album&&e.album.images.length>0?e.album.images[1].url:"https://via.placeholder.com/150",g={backgroundImage:"url(".concat(d,")")};return n.a.createElement("div",{key:a,className:"song-block"},n.a.createElement("div",{style:g,className:"song-img-item"},n.a.createElement("div",{className:u,onClick:function(){return r(e.id,o)}},n.a.createElement("div",{className:"song-icon-holder"},p))),n.a.createElement("div",{className:"song-description"},n.a.createElement("h3",null,e.name),n.a.createElement("div",{className:"featured-artists"},m)),c&&n.a.createElement("div",{style:{alignSelf:"center",display:"flex",justifyContent:"flex-end",flexGrow:1,padding:5}},s>0&&n.a.createElement("div",{style:{fontWeight:"bold",fontSize:"1.5rem",color:"white"}},s),n.a.createElement(Ht.a,{style:{color:"#28a745",fontSize:"1.8em",marginLeft:"2px",cursor:"pointer"},onClick:l})))};function $t(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Kt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$t(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$t(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Xt=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).setColor=function(t){var e=new Image;e.crossOrigin="Anonymous",e.src=t,e.addEventListener("load",(function(){Dt.from(e).getPalette((function(t,e){var r={Vibrant:Z(e,"Vibrant"),DarkMuted:Z(e,"DarkMuted"),DarkVibrant:Z(e,"DarkVibrant"),LightVibrant:Z(e,"LightVibrant"),Muted:Z(e,"Muted")};a.setState(Kt({},a.state,{colors:r}))}))}))},a.setActive=function(){0===a.state.tracks.length?a.props.getPlaylistTracks(a.props.playlist.id).then((function(t){a.setState(Kt({},a.state,{active:!a.state.active,tracks:t.items}))})):a.setState(Kt({},a.state,{active:!a.state.active}))},a.componentDidMount=function(){a.setColor(a.props.playlist.images[0].url)},a.handleClick=function(t,e){if(e)!1===a.props.isPlaying?a.props.player.ResumePlayer():a.props.player.StopPlayer();else{var r=a.state.tracks.findIndex((function(e){return e.track.id===t})),n=a.state.tracks.slice(r,a.state.tracks.length).map((function(t){return t.track.uri})),o=[];a.state.tracks.slice(r,a.state.tracks.length).concat(a.state.tracks.slice(0,r-1)).forEach((function(t,e){t.track.order=e,t.track.album={images:t.track.album.images},o.push(t)})),a.props.ResetQueue(o);var i=a.state.tracks.slice(0,r).map((function(t){return t.track.uri})),s=JSON.stringify([].concat(Object(Tt.a)(n),Object(Tt.a)(i)));a.props.playSong(s)}},a.buildTracks=function(){var t=[];return a.state.tracks.forEach((function(e,r){var o=a.props.currentURI===e.track.uri;t.push(n.a.createElement(Wt,{handleClick:a.handleClick,active:o,isPlaying:a.props.isPlaying,song:e.track,idx:r,key:r}))})),t},a.render=function(){var t={height:"0em",background:"rgba(0,0,0, 0)"};a.state.active&&(t={height:"",background:"rgba(0,0,0, 0.7)"});var e=a.buildTracks(),r={backgroundSize:"800vw 800vw",animation:"rotate 20s ease infinite",background:"linear-gradient(160deg, \n                ".concat(a.state.colors.Vibrant,", \n                ").concat(a.state.colors.DarkMuted,")")};return n.a.createElement("div",{className:"playlist-section",style:r},n.a.createElement(Bt,{userId:a.props.userId,active:a.state.active,playlist:a.props.playlist,rooms:a.props.rooms,toggleQ:a.props.toggleQ}),n.a.createElement("div",{className:"queue-block",onClick:function(){return a.setActive()}},n.a.createElement("div",{className:"cover"},n.a.createElement("h1",null,a.props.playlist.name))),n.a.createElement("div",{className:"playlist-body",style:t},e))},a.state={active:!1,tracks:[],colors:{DarkMuted:"black",Vibrant:"white",DarkVibrant:"red",LightVibrant:"green",Muted:"blue"}},a}return Object(J.a)(e,t),e}(n.a.Component);function Zt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var te=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).setColor=function(t){var e=new Image;e.crossOrigin="Anonymous",e.src=t,e.addEventListener("load",(function(){Dt.from(e).getPalette((function(t,e){var r={Vibrant:Z(e,"Vibrant"),DarkMuted:Z(e,"DarkMuted"),DarkVibrant:Z(e,"DarkVibrant"),LightVibrant:Z(e,"LightVibrant"),Muted:Z(e,"Muted")};console.log(r),a.setState(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Zt(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Zt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a.state,{colors:r}))}))}))},a.setActive=function(){a.setState({active:!a.state.active}),a.props.history.push("/room/"+a.props.roomId)},a.componentDidMount=function(){a.setColor(a.props.image)},a.render=function(){var t={backgroundSize:"800vw 800vw",animation:"rotate 20s ease infinite",background:"linear-gradient(160deg, \n                ".concat(a.state.colors.Vibrant,", \n\t\t\t\t").concat(a.state.colors.DarkMuted,")"),border:a.props.isHost&&"1px solid red"};return n.a.createElement("div",{style:t,className:"playlist-section",onClick:function(){return a.setActive()}},n.a.createElement("div",{className:"queue-block",onClick:function(){return a.setActive()}},n.a.createElement("div",{className:"cover"},n.a.createElement("h1",null,a.props.roomName))),n.a.createElement("div",{className:"playlist-body",style:{height:"0em",background:"rgba(0,0,0, 0)"}}))},a.state={active:!1,colors:{DarkMuted:"black",Vibrant:"white",DarkVibrant:"red",LightVibrant:"green",Muted:"blue"}},a}return Object(J.a)(e,t),e}(n.a.Component),ee=Object(u.g)(te),ae=a(469);function re(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function ne(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?re(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var oe=function(t){var e=t.name,a=t.isActive,r=t.onClick,o=t.color,i=a===e?"active":"",s=a===e?{borderBottom:"2px solid ".concat(o)}:{};return n.a.createElement("li",{style:s,onClick:function(){return r(e)},className:i},e)},ie=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).setSearchFilter=function(t){a.setState(ne({},a.state,{activeFilter:t}))},a.getFilterItems=function(){var t=[];return["Queue","Playlists","Stations"].forEach((function(e,r){t.push(n.a.createElement(oe,{key:"queue-filter-".concat(r),onClick:a.setSearchFilter,name:e,isActive:a.state.activeFilter,color:a.props.color}))})),t},a.handleClick=function(t,e){if(e)!1===a.props.isPlaying?a.props.spotifyData.player.ResumePlayer():a.props.spotifyData.player.StopPlayer();else{var r=a.props.player.queue.findIndex((function(e){return"track"in e&&(e=e.track),e.id===t})),n=a.props.player.queue.slice(r,a.props.player.queue.length).map((function(t){return"track"in t&&(t=t.track),t.uri})),o=[];a.props.player.queue.slice(r,a.props.player.queue.length).forEach((function(t,e){"track"in t&&(t=t.track),t.order=e,t.album={images:t.album.images},o.push(t)})),a.props.ResetQueue(o);var i=JSON.stringify(Object(Tt.a)(n));a.props.playSong(i)}},a.renderPlaylists=function(){var t=[];return void 0!==a.props.playlists&&a.props.playlists.forEach((function(e,r){t.push(n.a.createElement(Xt,{player:a.props.spotifyData.player,playlist:e,isPlaying:a.props.isPlaying,currentURI:a.props.currentURI,id:r,key:r,userId:a.props.user.id,playSong:a.props.playSong,ResetQueue:a.props.ResetQueue,getPlaylistTracks:a.props.getPlaylistTracks,rooms:a.state.rooms,toggleQ:a.props.toggleQ}))})),t},a.buildStations=function(){return a.state.rooms.map((function(t,e){var r=a.props.currentSong&&a.props.currentSong.album.images[0].url||"https://source.unsplash.com/random";a.props.queue&&a.props.queue[e]&&a.props.queue.track&&(r=a.props.queue[e].track.album.images[0].url);var o=a.props.user.id===Number(t.host.id);return n.a.createElement(ee,{roomId:t.id,roomName:t.roomName,key:e,isHost:o?1:0,image:r})}))},a.buildTracks=function(){var t=[];return a.props.queue.forEach((function(e,r){"track"in e&&(e=e.track);var o=a.props.currentURI===e.uri;t.push(n.a.createElement(Wt,{key:"que-song-".concat(r),PlaySong:a.props.PlaySong,handleClick:a.handleClick,active:o,isPlaying:a.props.isPlaying,song:e,idx:r}))})),t},a.state={activeFilter:"Queue",color:a.props.color,isActive:a.props.isActive,toggleQ:a.props.toggleQ,rooms:[]},a.setSearchFilter=a.setSearchFilter.bind(Object(Y.a)(a)),a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.props.client,t.watchQuery({query:Ft,fetchPolicy:"cache-and-network",pollInterval:2500})).subscribe({next:function(t){var a=t.data;if(void 0!==a){var r=a.getAllRooms;e.setState({rooms:r})}},error:function(t){return console.error(t)}})}},{key:"render",value:function(){var t=this,e=[],a=[],r=[],o={opacity:(this.props.isActive,1),height:this.props.isActive?"":0},i={background:this.props.isActive?"":"transparent"};"Playlists"===this.state.activeFilter?e=this.renderPlaylists():"Queue"===this.state.activeFilter?a=this.buildTracks():"Stations"===this.state.activeFilter&&(r=this.buildStations());var s=this.getFilterItems();return n.a.createElement("div",{className:"queue",style:o},n.a.createElement("div",{className:"queue-header",style:o},n.a.createElement("div",{className:"queue-list",style:o},n.a.createElement("ul",null,s))),n.a.createElement("div",{className:"queue-playlist-holder"},e,a,r),n.a.createElement("div",{className:"downward-arrow",style:i,onClick:function(){return t.props.toggleQ()}},n.a.createElement(It.a,{style:{fontSize:"1.7em",color:this.props.color,borderRadius:"50px",boxShadow:"1px 1px 10px 1px rgba(0,0,0, 0.6)"}})))}}]),e}(n.a.Component),se=Object(g.b)((function(t){return ne({},t)}),null)(Object(ae.a)(ie)),ce=a(448),le=a(449),ue=a(450),pe=a(451),me=a(452),de=a(453),ge=a(454),fe=a(455),he=a(456),ye=a(457),be=a(199),ve=a.n(be);function Oe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Ee(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Oe(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Oe(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ke=function(t){var e=t.colors,a={background:"linear-gradient(45deg, ".concat(e.vibrant," 15%,  rgba(255,255,255, 1) 70%)")};return n.a.createElement("div",{className:"alert",style:a},n.a.createElement("div",{className:"alert-inner"},n.a.createElement("div",{className:"alert-header"},n.a.createElement("h2",null,"Sucess Song Added to Likes"))))};function Se(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(H.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){window.Spotify?t(window.Spotify):window.onSpotifyWebPlaybackSDKReady=function(){t(window.Spotify)}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var we=function(t){var e=t.IsPlaying,a={fontSize:"2em",color:t.color};return e?n.a.createElement(Yt.a,{style:a}):n.a.createElement(Jt.a,{style:a})},je=function(t){var e=t.liked,a=t.onClick,r={fontSize:"1.6em",paddingRight:"5%",color:t.color};return e?n.a.createElement(ce.a,{onClick:a,style:r}):n.a.createElement(le.a,{onClick:a,style:r})},Te=function(t){function e(t){var a;Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).sendStateFromHost=function(){a.socket.emit("SEND_PLAYER_STATE",{roomId:a.props.user.room.roomId,player:a.props.player})},a.updateDimensions=function(){a.setState(Ee({},a.state,{height:window.innerWidth}))},a.componentDidMount=function(){window.addEventListener("resize",a.updateDimensions.bind(Object(Y.a)(a)))},a.componentWillUnmount=function(){window.removeEventListener("resize",a.updateDimensions.bind(Object(Y.a)(a)))},a.requestPlayerState=function(t){console.log(t);var e=a.props.user.room;a.socket.emit("REQUEST_PLAYER_STATE",{socketId:t,roomId:e.roomId,hostId:e.host.id})},a.toggleQueue=function(){a.setState(Ee({},a.state,{QueueActive:!a.state.QueueActive}))},a.ChangeVolume=function(t,e){a.setState(Ee({},a.state,{volume:e}))},a.handleVolumeChange=function(t,e){ut(a.state.volume)},a.ChangeTime=function(t,e){a.setState(Ee({},a.state,{currentTime:e}))},a.handleTimeChange=function(t,e){a.props.spotifyData.player.SeekSong(1e3*a.state.currentTime)},a.togglePlay=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=a.props.spotifyData.player,e=t.StopPlayer,r=t.ResumePlayer;a.props.player.isPlaying?e():r(),a.props.togglePlay()},a.toggleShuffle=function(){(0,a.props.spotifyData.player.EnableShuffleMode)(!a.props.player.shuffle)},a.toggleRepeat=function(){var t=a.props.player.repeat?"off":"context";(0,a.props.spotifyData.player.EnableRepeatMode)(t)},a.toggleSound=function(){a.state.muted?ut(a.state.volume):ut(0),a.setState(Ee({},a.state,{muted:!a.state.muted}))},a.toggleLike=function(){var t=a.props.spotifyData.player,e=t.AddSong,r=t.getCurrentlyPlaying,n=t.DeleteSong;r();var o=!a.state.liked;a.state.liked?n([a.props.player.currentSongId]):e([a.props.player.currentSongId]).then((function(t){setTimeout((function(){a.setState(Ee({},a.state,{NewLike:!1}))}),2500)})),a.setState(Ee({},a.state,{liked:!a.state.liked,NewLike:o}))},a.setColor=function(t){var e=new Image;e.crossOrigin="Anonymous",e.src=t,e.addEventListener("load",function(){var t=this;Dt.from(e).getPalette((function(e,a){var r=Z(a,"Vibrant"),n={vibrant:r,darkMuted:Z(a,"DarkMuted"),darkVibrant:Z(a,"DarkVibrant"),lightVibrant:Z(a,"LightVibrant"),muted:Z(a,"Muted")};t.props.SetColors(n),t.setState(Ee({},t.state,{Vibrant:r,colors:n}))}))}.bind(Object(Y.a)(a)))},a.setTabID=function(){var t=sessionStorage.getItem("tabID");if(null===t){var e=localStorage.getItem("tabID");t=null==e?1:Number(e)+1,localStorage.setItem("tabID",t),sessionStorage.setItem("tabID",t),a.setState(Ee({},a.state,{currentTab:t}))}},a.updatePageOn=function(t){a.setState(Ee({},a.state,{pageOn:t}))},a.state={height:window.innerWidth,colors:{},playing:a.props.player.isPlaying,muted:!1,liked:!1,loaded:!1,currentTime:0,volume:100,QueueActive:!1,songLength:a.props.player.songLength,pageOn:!1},a.toggleSound=a.toggleSound.bind(Object(Y.a)(a)),a.toggleLike=a.toggleLike.bind(Object(Y.a)(a)),a.toggleQueue=a.toggleQueue.bind(Object(Y.a)(a)),a.playNext=a.playNext.bind(Object(Y.a)(a)),a.setupSpotifyPlayer=a.setupSpotifyPlayer.bind(Object(Y.a)(a)),a.setTabID=a.setTabID.bind(Object(Y.a)(a)),a.handleScriptMount=a.handleScriptMount.bind(Object(Y.a)(a)),a.startTimer=a.startTimer.bind(Object(Y.a)(a)),a.setColor=a.setColor.bind(Object(Y.a)(a)),a.socket=ft()("/"),a.socket.on("SYNC_PLAYER",(function(t){var e=a.props.user,n=e.room;if(n&&t.roomId===n.roomId&&e.id===Number(t.hostId)){var o=t.socketId,i=Ee({},a.props.player,{currentTime:a.state.currentTime});r(o,i)}})),a.socket.on("RECEIVE_PLAYER_STATE",(function(t){var e=t.player,r=t.roomId,n=t.socketId;a.props.user.room&&a.props.user.room.subscribed&&r?(a.props.setPlayer(e),a.props.spotifyData.player.playSong(JSON.stringify(e.queue.map((function(t){return t.uri})))).then((function(){a.props.spotifyData.player.SeekSong(1e3*e.currentTime).then((function(){a.props.ResetQueue(e.queue)}))}))):a.socket.id===n&&(a.props.setPlayer(e),a.props.spotifyData.player.playSong(JSON.stringify(e.queue.map((function(t){return t.uri})))).then((function(){a.props.spotifyData.player.SeekSong(1e3*e.currentTime).then((function(){a.props.ResetQueue(e.queue)}))})))}));var r=function(t,e){a.socket.emit("SEND_PLAYER_STATE",{socketId:t,player:e}),t||a.socket.emit("SEND_PLAYER_STATE",{roomId:a.props.user.room.roomId,player:e})};return a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"startTimer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.stopTimer(),this.setState(Ee({},this.state,{currentTime:e,timer:setInterval((function(){t.setState(Ee({},t.state,{currentTime:t.state.currentTime+.25}))}),250)}))}},{key:"stopTimer",value:function(){clearInterval(this.state.timer)}},{key:"resetTimer",value:function(){this.setState(Ee({},this.state,{currentTime:0}))}},{key:"playNext",value:function(){var t,e=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props.spotifyData.player,n=r.PlayPrevious,o=r.getCurrentlyPlaying,i=r.RestartSong;!1===a&&this.state.currentTime<4?(this.resetTimer(),t=n()):!0===a&&(this.resetTimer(),t=this.props.spotifyData.player.PlayNext()),void 0!==t?t.then((function(t){o().then((function(t){e.setState(Ee({},e.state,{init:!0}))}))})):this.state.currentTime>4&&!1===a&&(this.resetTimer(),i())}},{key:"handleScriptMount",value:function(){var t=this;Object(H.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se();case 2:t.setupSpotifyPlayer();case 3:case"end":return e.stop()}}),e)})))()}},{key:"setupSpotifyPlayer",value:function(){var t=this,e=this.props.spotifyData.player,a=e.TransferPlayback,r=e.getTrack,n=this.props.spotifyData.userToken;this.setTabID();var o=new window.Spotify.Player({name:"Sound Good Music ".concat(Math.floor(10*Math.random())),getOAuthToken:function(t){t(n)}});o.addListener("player_state_changed",(function(e){console.debug("new state",e);var a=null===e?window.close():null;null===a&&t.props.player.songImg!==e.track_window.current_track.album.images[2].url&&(r(e.track_window.current_track.id).then((function(a){document.title="".concat(e.track_window.current_track.name," \xb7 ").concat(a.artists[0].name),t.props.playerSetArtistID({albumId:a.album.id,artistId:a.artists[0].id})})),t.setColor(e.track_window.current_track.album.images[2].url)),null===a&&(e.paused?t.stopTimer():t.startTimer(e.position/1e3),t.props.playerStateChange(e))})),o.addListener("ready",(function(e){var r=e.device_id;console.debug("Ready with Device ID",r),a(r).then((function(e){t.props.spotifyData.player.ResumePlayer()}))})),o.addListener("not_ready",(function(t){var e=t.device_id;console.debug("Device ID has gone offline",e)})),o.on("initialization_error",(function(t){var e=t.message;console.debug("Failed to initialize",e)})),window.addEventListener("storage",(function(){t.state.currentTab!==localStorage.getItem("tabID")&&o.disconnect().then((function(){return window.close()}))})),o.connect().then((function(){o.resume()})),o.setName("Sound Good Music ".concat(Math.floor(10*Math.random()))),this.props.spotifyData.player.GetMyPlaylists().then((function(e){t.setState(Ee({},t.state,{playlists:e.items}))}))}},{key:"render",value:function(){var t=this,e=this.props.location.pathname.split("/")[1],a=["album","artist","playlist"].indexOf(e)>-1;a!==this.state.pageOn&&this.updatePageOn(a);var r=[];void 0===window.Spotify&&(r=[n.a.createElement(ve.a,{key:1,url:"https://sdk.scdn.co/spotify-player.js",onLoad:this.handleScriptMount})]);var o={fontSize:"4em"},i=this.state.NewLike?n.a.createElement(ke,{img:this.props.player.songImg,color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant,songName:this.props.player.songName,artistName:this.props.player.artist,colors:this.state.colors}):"";return n.a.createElement("div",{className:"footer"},n.a.createElement(se,{color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant,isActive:this.state.QueueActive,toggleQ:this.toggleQueue,playlists:this.state.playlists,queue:this.props.player.queue,currentURI:this.props.player.currentSong.uri,isPlaying:this.props.player.isPlaying,ResetQueue:this.props.ResetQueue,player:this.props.spotifyData.player,playSong:this.props.spotifyData.player?this.props.spotifyData.player.playSong:null,getPlaylistTracks:this.props.spotifyData.player?this.props.spotifyData.player.GetPlaylistTracks:null}),i,n.a.createElement("div",{className:"song-info"},n.a.createElement("div",{className:"song-img"},n.a.createElement("img",{id:"currently-playing",alt:"currently playing song",src:this.props.player.songImg})),n.a.createElement("div",{className:"title-holder"},n.a.createElement(l.b,{className:"album-link",to:"/album/"+this.props.player.albumId},n.a.createElement("h3",null,this.props.player.songName)),n.a.createElement(l.b,{className:"album-link",to:{pathname:"/artist/"+this.props.player.artistId}},n.a.createElement("h6",null,this.props.player.artist)))),n.a.createElement("div",{className:"slider-section-container"},n.a.createElement("div",{className:"player-section"},n.a.createElement("div",{className:"like-holder"},n.a.createElement(je,{liked:this.state.liked,onClick:this.toggleLike,className:"action-icon",color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant})),n.a.createElement("div",{className:"more-icon"},n.a.createElement(ue.a,null)),n.a.createElement("div",{className:"main-play-buttons"},n.a.createElement("div",{className:"swap-icon"},n.a.createElement(pe.a,{onClick:this.toggleShuffle,style:{fontSize:"1.7em",marginRight:"1.5em",color:this.props.player.shuffle?this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant:"rgba(255,255,255, 0.4)",borderBottom:this.props.player.shuffle?"2px solid ".concat(this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant):"2px solid transparent",borderRadius:"50px",boxShadow:"1px 1px 10px 1px rgba(0,0,0, 0.6)"},className:"action-icon"})),n.a.createElement(me.a,{onClick:function(){return t.playNext(!1)},className:"action-icon",style:Ee({},o,{color:this.props.player.previousBtn||this.state.currentTime>4?"white":"rgba(255,255,255,0.2)",cursor:this.props.player.previousBtn||this.state.currentTime>4?"pointer":"not-allowed"})}),n.a.createElement("div",{className:"play-holder",style:{border:"1px solid rgba(255,255,255, 0.4)",borderRadius:"50px",width:"2.15em",padding:".1em",height:"2.15em"},onClick:this.togglePlay},n.a.createElement(we,{className:"action-icon",IsPlaying:this.props.player.isPlaying,color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant})),n.a.createElement(de.a,{onClick:function(){return t.playNext(!0)},className:"action-icon",style:o}),n.a.createElement("div",{className:"repeat-icon"},n.a.createElement(ge.a,{onClick:this.toggleRepeat,style:{fontSize:"1.7em",marginLeft:"1.5em",color:this.props.player.repeat?this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant:"rgba(255,255,255, 0.4)",borderBottom:this.props.player.repeat?"2px solid ".concat(this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant):"2px solid transparent",borderRadius:"50px",boxShadow:"1px 1px 10px 1px rgba(0,0,0, 0.6)"},className:"action-icon"}))),n.a.createElement("div",{className:"play-holder vol-holder"})),r,n.a.createElement(vt,{color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant,ChangeTime:this.ChangeTime,handleTimeChange:this.handleTimeChange,current:this.state.currentTime,max:this.props.player.songLength,height:this.state.height})),n.a.createElement("div",{className:"icon-section"},this.props.user.room&&!this.props.user.room.host.isHost&&(this.props.user.room.subscribed?n.a.createElement(fe.a,{onClick:function(){t.props.setRoom({subscribed:!t.props.user.room.subscribed}),t.requestPlayerState(t.socket.id)},style:{fontSize:"1.7em",marginLeft:"1.5em",color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant,borderBottom:this.props.player.repeat?"2px solid ".concat(this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant):"2px solid transparent",borderRadius:"50px",boxShadow:"1px 1px 10px 1px rgba(0,0,0, 0.6)"}}):n.a.createElement(he.a,{onClick:function(){t.props.user.room&&(t.props.setRoom({subscribed:!t.props.user.room.subscribed}),t.requestPlayerState(t.socket.id))},style:{fontSize:"1.7em",marginLeft:"1.5em",color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant,borderBottom:this.props.player.repeat?"2px solid ".concat(this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant):"2px solid transparent",borderRadius:"50px",boxShadow:"1px 1px 10px 1px rgba(0,0,0, 0.6)"}})),this.props.user.room&&this.props.user.room.host.isHost&&n.a.createElement(ye.a,{onClick:this.sendStateFromHost,style:{fontSize:"1.7em",marginLeft:"1.5em",color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant,borderBottom:this.props.player.repeat?"2px solid ".concat(this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant):"2px solid transparent",borderRadius:"50px",boxShadow:"1px 1px 10px 1px rgba(0,0,0, 0.6)"}})),n.a.createElement(jt,{color:this.pageOn?this.props.player.secondaryColors.Vibrant:this.props.player.colors.vibrant,current:this.state.volume,toggleSound:this.toggleSound,muted:this.state.muted,handleVolumeChange:this.handleVolumeChange,ChangeVolume:this.ChangeVolume,height:this.state.height}))}}]),e}(n.a.Component),Ne=Object(u.g)(Te),Ie=a(46),De=a.n(Ie),Ce=a(105),xe=a.n(Ce),Ae=a(106),Re=a.n(Ae),Le=a(59),_e=a.n(Le),Ve=function(t){var e=t.song,a=t.idx,r=t.handleClick,o=t.active,i=t.isPlaying,s=t.image,c=o?"song-hover-state active":"song-hover-state",u=o&&i?n.a.createElement(_e.a,{style:{fontSize:".8em"}}):n.a.createElement(De.a,{style:{fontSize:".8em"}}),p=e.artists.map((function(t,e){return n.a.createElement(l.b,{key:"link-album-".concat(e),className:"album-link",to:{pathname:"/artist/"+t.id}},n.a.createElement("h5",null,t.name))})),m=e.explicit?n.a.createElement("h5",{className:"explicit-tag"},"EXPLICIT"):"",d={backgroundImage:"url(".concat(s,")")};return n.a.createElement("div",{key:a,className:"song-block"},n.a.createElement("div",{style:d,className:"song-img-item"},n.a.createElement("div",{className:c,onClick:function(){return r(e.uri,o)}},n.a.createElement("div",{className:"song-icon-holder"},u))),n.a.createElement("div",{className:"song-description"},n.a.createElement("h3",null,e.name),n.a.createElement("div",{className:"featured-artists"},m,p)),n.a.createElement("div",{className:"song-action"},n.a.createElement(xe.a,null),n.a.createElement(Re.a,null)),n.a.createElement("div",{className:"song-duration"},n.a.createElement("div",null,n.a.createElement("h3",null,K(e.duration_ms/1e3)))))};a(410);function Me(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Fe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Me(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Me(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ge=function(t){var e={display:t.loading?"block":"none"};return n.a.createElement("div",{className:"loader",style:e},"Loading...")},Ue=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).setColor=function(t){var e=Object(Y.a)(a),r=new Image;r.crossOrigin="Anonymous",r.src=t,r.addEventListener("load",(function(){var t=this;Dt.from(r,5).getPalette((function(a,r){var n={Vibrant:Z(r,"Vibrant"),DarkMuted:Z(r,"DarkMuted"),DarkVibrant:Z(r,"DarkVibrant"),LightVibrant:Z(r,"LightVibrant"),Muted:Z(r,"Muted")};e.setState(Fe({},t.state,{vibrant:n.vibrant,dark:n.DarkMuted,muted:n.Muted,darkvibrant:n.DarkVibrant,colors:n})),e.props.SetSecondaryColors(n)}))}))},a.PlaySong=function(t,e){if(e)!1===a.props.player.isPlaying?(lt(),a.props.togglePlay()):(ct(),a.props.togglePlay());else{var r=a.state.tracks.findIndex((function(e){return e.uri===t})),n=a.state.tracks.slice(r,a.state.tracks.length).map((function(t){return t.uri})),o=[];a.state.tracks.slice(r,a.state.tracks.length).concat(a.state.tracks.slice(0,r-1)).forEach((function(t,e){t.order=e,t.album={images:a.state.albumObj.images},o.push(t)})),a.props.ResetQueue(o);var i=a.state.tracks.slice(0,r).map((function(t){return t.uri})),s=JSON.stringify([].concat(Object(Tt.a)(n),Object(Tt.a)(i)));at(s).then((function(e){return a.setState(Fe({},a.state,{currentSong:t,isPlaying:!0}))}))}},a.PlayAlbum=function(t){var e=window.location.pathname.split("/")[2],r=a.props.player.albumId===e;if(r)!1===a.props.player.isPlaying?(lt(),a.props.togglePlay()):(a.props.togglePlay(),ct());else{var n=JSON.stringify(a.state.tracks.map((function(t){return t.uri})));at(n);var o=[];a.state.tracks.forEach((function(t,e){t.order=e,t.album={images:a.state.albumObj.images},o.push(t)})),a.props.ResetQueue(o)}},a.buildTracks=function(){var t=[];return a.state.tracks.forEach((function(e,r){var o=a.props.player.currentSongId===e.id;t.push(n.a.createElement(Ve,{key:"link-song-".concat(r),albumName:a.state.albumName,image:a.state.albumImg,handleClick:a.PlaySong,active:o,isPlaying:a.props.player.isPlaying,song:e,idx:r}))})),t},a.state={token:"",loading:!0,activeFilter:"artist",result:[],firing:!1,tracks:[],vibrant:"green"},a.PlaySong=a.PlaySong.bind(Object(Y.a)(a)),a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){var t=this;(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=null==e?new dt(localStorage.getItem("token")):e;var a="https://api.spotify.com/v1/albums/".concat(t);return e.GET(a,"got albums")})(window.location.pathname.split("/")[2]).then((function(e){var a=e.copyrights.length>0?e.copyrights[0].text:"";t.setState(Fe({},t.state,{artistName:e.artists[0].name,artistId:e.artists[0].id,albumImg:e.images[0].url,albumObj:e,albumName:e.name,tracks:e.tracks.items,loading:!1,trackCount:e.total_tracks,albumYear:new Date(e.release_date).getFullYear(),copyRight:a})),t.setColor(e.images[0].url)}))}},{key:"render",value:function(){var t=window.location.pathname.split("/")[2],e=this.props.player.albumId===t&&this.props.player.isPlaying?"Pause":"Play",a={background:"linear-gradient(160deg, ".concat(this.state.darkvibrant," 15%, rgba(0,0,0, 0.9) 70%)")},r={scrollbarColor:"".concat(this.state.vibrant," rgba(0,0,0, 0.2)")},o=this.buildTracks();return n.a.createElement("div",{className:"page-content",style:a},n.a.createElement("div",{className:"album-container"},n.a.createElement("div",{className:"album-image"},n.a.createElement("div",{className:"img-wrapper"},n.a.createElement("img",{alt:"album-cover",src:this.state.albumImg})),n.a.createElement("div",{className:"album-description-holder"},n.a.createElement("h1",null,this.state.albumName),n.a.createElement("h3",null,this.state.artistName),n.a.createElement("button",{onClick:this.PlayAlbum,className:"btn btn-primary btn-primary2"},e),n.a.createElement("p",null,this.state.albumYear," \u2022 ",this.state.trackCount," songs"))),n.a.createElement("div",{className:"album-songs",style:r},o,n.a.createElement("p",null,this.state.copyRight)),n.a.createElement(Ge,{loading:this.state.loading})))}}]),e}(n.a.Component),qe=Object(u.g)(Ue);function ze(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Qe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ze(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ze(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Be=Object(u.g)((function(t){var e=t.album,a=t.idx,r=t.active,o=t.isPlaying,i=t.handleClick,s=t.searchState,c=r?"album-hover-state active":"album-hover-state",u=r&&o?n.a.createElement(_e.a,{style:{fontSize:".8em"}}):n.a.createElement(De.a,{style:{fontSize:".8em"}}),p=e.images.length>0?e.images[1].url:"https://via.placeholder.com/150",m={backgroundImage:"url(".concat(p,")")};return n.a.createElement("div",{key:a,className:"album-block"},n.a.createElement("div",{style:m,className:"album-img"},n.a.createElement("div",{className:c,onClick:function(){return i(e.id,r)}},n.a.createElement("div",{className:"album-icon-holder"},u))),n.a.createElement("div",{className:"album-description"},n.a.createElement(l.b,{key:"link-album-".concat(a),className:"album-link",to:{pathname:"/album/"+e.id,state:Qe({},s)}},n.a.createElement("h3",null,e.name)),n.a.createElement(l.b,{key:"link-artist-".concat(a),className:"album-link",to:{pathname:"/artist/"+e.artists[0].id}},n.a.createElement("h5",null,e.artists[0].name))))}));a(411);function Ye(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Je(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ye(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ye(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var He=function(t){var e={display:t.loading?"block":"none"};return n.a.createElement("div",{className:"loader",style:e},"Loading...")},We=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).PlayArtist=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=a.props.spotifyData.player,r=e.playSong,n=e.ResumePlayer,o=e.StopPlayer;if(t)!1===a.state.isPlaying?n():o();else{var i=[];a.state.tracks.forEach((function(t,e){t.order=e,i.push(t)})),a.props.ResetQueue(i);var s=JSON.stringify(a.state.tracks.map((function(t){return t.uri})));r(s).then((function(t){return a.setState(Je({},a.state,{currentSong:a.state.tracks[0].id,isPlaying:!0}))}))}},a.setColor=function(t){var e=Object(Y.a)(a),r=new Image;r.crossOrigin="Anonymous",r.src=t,r.addEventListener("load",(function(){var t=this;Dt.from(r,5).getPalette((function(a,r){var n={Vibrant:Z(r,"Vibrant"),DarkMuted:Z(r,"DarkMuted"),DarkVibrant:Z(r,"DarkVibrant"),LightVibrant:Z(r,"LightVibrant"),Muted:Z(r,"Muted")};e.props.SetSecondaryColors(n),e.setState(Je({},t.state,{vibrant:n.vibrant,dark:n.DarkMuted,muted:n.Muted,colors:n}))}))}))},a.PlaySong=function(t,e){var r=a.props.spotifyData.player,n=r.playSong,o=r.ResumePlayer,i=r.StopPlayer;if(e)e&&!1===a.state.isPlaying?o().then((function(){return a.setState(Je({},a.state,{isPlaying:!0}))})):i().then((function(){return a.setState(Je({},a.state,{isPlaying:!1}))}));else{var s=a.state.tracks.findIndex((function(e){return e.uri===t}));a.setColor(a.state.tracks[s].album.images[0].url);var c=a.state.tracks.slice(s,a.state.tracks.length).map((function(t){return t.uri})),l=a.state.tracks.slice(0,s).map((function(t){return t.uri}));n(JSON.stringify([].concat(Object(Tt.a)(c),Object(Tt.a)(l)))).then((function(e){return a.setState(Je({},a.state,{currentSong:t,isPlaying:!0}))}));var u=[];a.state.tracks.slice(s,a.state.tracks.length).concat(a.state.tracks.slice(0,s-1)).forEach((function(t,e){t.order=e,u.push(t)})),a.props.ResetQueue(u)}},a.PlayAlbum=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=a.props.spotifyData.player,n=r.getAlbumTracks,o=r.getAlbum,i=r.playSong,s=r.ResumePlayer,c=r.StopPlayer;e?e&&!1===a.state.isPlaying?s().then((function(){return a.setState(Je({},a.state,{isPlaying:!0}))})):c().then((function(){return a.setState(Je({},a.state,{isPlaying:!1}))})):n(t).then((function(e){var r=JSON.stringify(e.items.map((function(t){return t.uri})));i(r).then((function(e){return a.setState(Je({},a.state,{currentSong:t,isPlaying:!0}))})),o(t).then((function(t){var r=[];e.items.forEach((function(e,a){e.order=a,e.album={images:t.images},r.push(e)})),a.props.ResetQueue(r)}))}))},a.buildAlbums=function(){var t=[],e=[],r=[];if(a.state.albums){var o=0,i=0,s=0;a.state.albums.items.forEach((function(c,l){if("album"===c.album_group&&o<10){o++;var u=a.props.player.albumId===c.id;t.push(n.a.createElement(Be,{handleClick:a.PlayAlbum,active:u,isPlaying:a.state.isPlaying,album:c,idx:l}))}else if("single"===c.album_group&&i<10){i++;var p=a.props.player.albumId===c.id;e.push(n.a.createElement(Be,{handleClick:a.PlayAlbum,active:p,isPlaying:a.state.isPlaying,album:c,idx:l}))}else if("appears_on"===c.album_group&&s<10){s++;var m=a.props.player.albumId===c.id;r.push(n.a.createElement(Be,{handleClick:a.PlayAlbum,active:m,isPlaying:a.state.isPlaying,album:c,idx:l}))}}))}return[t,e,r]},a.buildTracks=function(){var t=[];return a.state.tracks.forEach((function(e,r){var o=a.props.player.currentSongId===e.id;t.push(n.a.createElement(Ve,{albumName:a.state.albumName,image:e.album.images[0].url,handleClick:a.PlaySong,active:o,isPlaying:a.state.isPlaying,song:e,idx:r}))})),t},a.state={token:"",loading:!0,activeFilter:"artist",result:[],tracks:[],vibrant:"green",colors:{}},a.PlaySong=a.PlaySong.bind(Object(Y.a)(a)),a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id;(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=null==e?new dt(localStorage.getItem("token")):e;var a="https://api.spotify.com/v1/artists/".concat(t);return e.GET(a,"got artists")})(e).then((function(a){(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;e=null==e?new dt(localStorage.getItem("token")):e;var n="https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?offset=").concat(a,"&limit=").concat(r,"&country=US");return e.GET(n,"got top tracks by artist")})(e).then((function(r){(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;e=null==e?new dt(localStorage.getItem("token")):e;var n="https://api.spotify.com/v1/artists/".concat(t,"/albums?offset=").concat(a,"&limit=").concat(r,"&country=US");return e.GET(n,"got artist Albums")})(e).then((function(e){t.setState(Je({},t.state,{artistName:a.name,artistId:a.id,artistImg:a.images[0].url,followers:a.followers.total.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),loading:!1,tracks:r.tracks,albums:e})),t.setColor(r.tracks[0].album.images[0].url)}))}))}))}},{key:"render",value:function(){var t=this,e={background:"linear-gradient(160deg, ".concat(this.state.colors.DarkVibrant," 15%, rgba(0,0,0, 0.9) 70%)")},a={backgroundImage:"url('".concat(this.state.artistImg,"')")},r={scrollbarColor:"".concat(this.state.vibrant," rgba(0,0,0, 0.2)")},o=this.buildTracks(),i=this.buildAlbums(),s=Object(c.a)(i,3),l=s[0],u=s[1],p=s[2];return n.a.createElement("div",{className:"artist-page",style:e},n.a.createElement("div",{className:"artist-top-section"},n.a.createElement("div",{className:"left-section"},n.a.createElement("div",{className:"artist-banner",style:a})),n.a.createElement("div",{className:"artist-description"},n.a.createElement("h1",null,this.state.artistName),n.a.createElement("div",{className:"artist-btn-row"},n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary",onClick:function(){t.PlayArtist()}},"Play")),n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-secondary"},"Follow"))),n.a.createElement("h3",null,"Followers ",this.state.followers))),n.a.createElement("div",null,n.a.createElement("div",{className:"artist-content",style:r},n.a.createElement("div",{className:"album-songs2"},n.a.createElement(He,{loading:this.state.loading}),n.a.createElement("h2",null,"Top Tracks"),o),n.a.createElement("div",{className:"artist-albums-holder"},n.a.createElement("h2",null,"Albums"),l),n.a.createElement("div",{className:"artist-albums-holder"},n.a.createElement("h2",null,"Singles"),u),n.a.createElement("div",{className:"artist-albums-holder"},n.a.createElement("h2",null,"Features"),p))))}}]),e}(n.a.Component),$e=Object(u.g)(We),Ke=a(201),Xe=a.n(Ke),Ze=a(202),ta=a.n(Ze),ea=function(t){var e=t.artist,a=t.idx,r=t.handleClick,o=e.images.length>0?e.images[1].url:"https://via.placeholder.com/150",i={backgroundImage:"url(".concat(o,")")};return n.a.createElement("div",{key:a,className:"artist-block"},n.a.createElement("div",{style:i,className:"artist-img"},n.a.createElement("div",{className:"artist-hover-state",onClick:function(){return r(e.id)}},n.a.createElement("div",{className:"artist-icon-holder"},n.a.createElement(De.a,{style:{fontSize:".8em"}})))),n.a.createElement("div",{className:"artist-description"},n.a.createElement(l.b,{className:"album-link",to:{pathname:"/artist/"+e.id}},n.a.createElement("h3",null,e.name))))},aa=a(200),ra=a.n(aa),na=function(t){var e=t.song,a=t.idx,r=t.handleClick,o=t.active,i=t.isPlaying,s=o?"song-hover-state active":"song-hover-state",c=o&&i?n.a.createElement(_e.a,{style:{fontSize:".8em"}}):n.a.createElement(De.a,{style:{fontSize:".8em"}}),u=e.artists.map((function(t,e){return n.a.createElement(l.b,{className:"album-link",key:"artist-link-".concat(e),to:{pathname:"/artist/"+t.id}},n.a.createElement("h5",null,t.name))})),p=e.album.images.length>0?e.album.images[1].url:"https://via.placeholder.com/150",m={backgroundImage:"url(".concat(p,")")};return n.a.createElement("div",{key:a,className:"song-block"},n.a.createElement("div",{style:m,className:"song-img-item"},n.a.createElement("div",{className:s,onClick:function(){return r(e.uri,o)}},n.a.createElement("div",{className:"song-icon-holder"},c))),n.a.createElement("div",{className:"song-description"},n.a.createElement("h3",null,e.name),n.a.createElement("div",{className:"featured-artists"},u,n.a.createElement("h5",null,n.a.createElement(ra.a,{style:{fontSize:".4em",paddingBottom:".2em",marginLeft:"2em",marginRight:"2em"}})),n.a.createElement(l.b,{key:"album-link2-".concat(a),className:"album-link",to:{pathname:"/album/"+e.album.id}},n.a.createElement("h5",null,e.album.name)))),n.a.createElement("div",{className:"song-action"},n.a.createElement(xe.a,null),n.a.createElement(Re.a,null)),n.a.createElement("div",{className:"song-duration"},n.a.createElement("div",null,n.a.createElement("h3",null,K(e.duration_ms/1e3)))))};function oa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function ia(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?oa(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oa(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var sa=["Top Results","Artist","Album","Track"],ca=function(t){var e=t.name,a=t.isActive,r=t.onClick,o=t.color,i=a===e.replace(" ","").toLowerCase()?"active":"",s=a===e.replace(" ","").toLowerCase()?{borderBottom:"2px solid ".concat(o)}:{};return n.a.createElement("li",{style:s,onClick:function(){return r(e.replace(" ","").toLowerCase())},className:i},e)},la=function(t){var e={display:t.loading?"block":"none"};return n.a.createElement("div",{className:"loader",style:e},"Loading...")},ua=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).setSearchFilter=function(t){document.getElementById("search-body").scrollTo(0,0),a.props.setSearchFilter(t),""!==a.props.searchState.search&&setTimeout((function(){var t="topresults"===a.props.searchState.activeFilter?"album,artist,playlist,track":a.props.searchState.activeFilter;pt(a.props.searchState.search,t).then((function(t){a.props.setSearchResult(t)}))}),10)},a.PlaySong=function(t,e){if(e)!1===a.state.isPlaying?lt():ct();else{var r=a.props.searchState.result.tracks.items.findIndex((function(e){return e.uri===t})),n=JSON.stringify(a.props.searchState.result.tracks.items.slice(r,a.props.searchState.result.tracks.items.length).map((function(t){return t.uri})));at(n).then((function(t){var e=[];a.props.searchState.result.tracks.items.slice(r,a.props.searchState.result.tracks.items.length).forEach((function(t,a){t.order=a,e.push(t)})),a.props.ResetQueue(e)}))}},a.PlayAlbum=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?!1===a.state.isPlaying?lt():ct():rt(t).then((function(e){var r=X(t,a.props.searchState.result.albums.items),n=[];e.items.forEach((function(t,e){t.order=e,t.album={images:r},n.push(t)})),a.props.ResetQueue(n);var o=JSON.stringify(e.items.map((function(t){return t.uri})));at(o).then((function(e){return a.setState(ia({},a.state,{currentSong:t,isPlaying:!0}))}))}))},a.PlayArtist=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?!1===a.state.isPlaying?lt():ct():a.props.spotifyData.player.getArtistTopTracks(t).then((function(e){var r=[];e.tracks.forEach((function(t,e){t.order=e,r.push(t)})),a.props.ResetQueue(r);var n=JSON.stringify(e.tracks.map((function(t){return t.uri})));at(n).then((function(e){return a.setState(ia({},a.state,{currentSong:t,isPlaying:!0}))}))}))},a.buildArtists=function(){var t=[];return"artists"in a.props.searchState.result&&a.props.searchState.result.artists.items.forEach((function(e,r){t.push(n.a.createElement(ea,{key:"artist-".concat(r),artist:e,idx:r,handleClick:a.PlayArtist}))})),t},a.buildAlbums=function(){var t=[];return"albums"in a.props.searchState.result&&a.props.searchState.result.albums.items.forEach((function(e,r){var o=a.props.player.albumId===e.id;t.push(n.a.createElement(Be,{key:"album-".concat(r),handleClick:a.PlayAlbum,active:o,isPlaying:a.state.isPlaying,album:e,idx:r,searchState:a.state}))})),t},a.buildTracks=function(){var t=[];return"tracks"in a.props.searchState.result&&a.props.searchState.result.tracks.items.forEach((function(e,r){var o=a.props.player.currentSong.uri===e.uri;t.push(n.a.createElement(na,{key:"song-".concat(r),handleClick:a.PlaySong,active:o,isPlaying:a.state.isPlaying,song:e,idx:r}))})),t},a.checkScroll=function(t){var e=document.getElementById("search-body");a.props.setCurrentScroll(e.scrollTop),e.scrollHeight-e.scrollTop<e.clientHeight+300&&50*a.props.searchState.offset<a.props.searchState.total&&!0!==a.state.firing&&"topresults"!==a.state.activeFilter&&(a.setState(ia({},a.state,{firing:!0})),pt(a.props.searchState.search,a.props.searchState.activeFilter,50,a.props.searchState.offset+50).then((function(t){a.props.extendSearchResults(t),a.setState(ia({},a.state,{firing:!1}))})))},a.state={token:a.props.spotifyData.token,search:a.props.searchState.search,loading:a.props.searchState.loading,activeFilter:a.props.searchState.activeFilter,result:a.props.searchState.result,firing:!1},a.handleSearch=a.handleSearch.bind(Object(Y.a)(a)),a.setSearchFilter=a.setSearchFilter.bind(Object(Y.a)(a)),a.PlaySong=a.PlaySong.bind(Object(Y.a)(a)),a.PlayArtist=a.PlayArtist.bind(Object(Y.a)(a)),a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){document.getElementById("search-body").scrollTo(0,this.props.searchState.scroll)}},{key:"handleSearch",value:function(t){var e=this,a=t.target;this.props.setSearch(a),this.state.typingTimeout&&clearTimeout(this.state.typingTimeout),this.setState({typingTimeout:setTimeout((function(){var t="topresults"===e.props.searchState.activeFilter?"album,artist,playlist,track":e.props.searchState.activeFilter;pt(e.props.searchState.search,t).then((function(t){t.type=e.state.activeFilter.toLowerCase()+"s",e.props.setSearchResult(t)}))}),500)})}},{key:"render",value:function(){var t=this,e={borderLeft:"2px solid ".concat(this.props.player.colors.vibrant),borderTop:"2px solid ".concat(this.props.player.colors.vibrant),borderBottom:"2px solid ".concat(this.props.player.colors.vibrant)},a={borderRight:"2px solid ".concat(this.props.player.colors.vibrant),borderTop:"2px solid ".concat(this.props.player.colors.vibrant),borderBottom:"2px solid ".concat(this.props.player.colors.vibrant)},r={borderTop:"2px solid ".concat(this.props.player.colors.vibrant),borderBottom:"2px solid ".concat(this.props.player.colors.vibrant)},o=this.buildArtists(),i=this.buildAlbums(),s=this.buildTracks(),c="topresults"===this.state.activeFilter?{height:"80%"}:{height:"0"},l=s.length>0?{height:"100%"}:{height:"0%"},u=[];return sa.forEach((function(e,a){u.push(n.a.createElement(ca,{key:"filter-".concat(a),onClick:t.setSearchFilter,name:e,isActive:t.props.searchState.activeFilter,color:t.props.player.colors.vibrant}))})),n.a.createElement("div",{className:"main"},n.a.createElement("div",{className:"search-filter"},n.a.createElement("ul",null,u)),n.a.createElement("div",{className:"input-holder"},n.a.createElement("div",{className:"search-icon",style:e},n.a.createElement(Xe.a,null)),n.a.createElement("input",{className:"search-input",autoComplete:"off",onChange:function(e){return t.handleSearch(e)},value:this.props.searchState.search,name:"search",placeholder:"Search...",style:r}),n.a.createElement("div",{onClick:this.props.clearSearchState,className:"cancel-icon",style:a},n.a.createElement(ta.a,null))),n.a.createElement("div",{className:"search-body",id:"search-body"},n.a.createElement("div",{className:"topResultsSection",style:c}),o,i,n.a.createElement("div",{className:"songs-container",style:l},s),n.a.createElement(la,{loading:this.props.searchState.loading})))}}]),e}(n.a.Component),pa=Object(u.g)(ua);function ma(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function da(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ma(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ma(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ga=["PLAYLISTS","MADE FOR YOU","LIKED SONGS","ALBUMS","ARTISTS"],fa=function(t){var e=t.name,a=t.isActive,r=t.onClick,o=a===e?"active":"";return n.a.createElement("li",{onClick:function(){return r(e)},className:o},e)},ha=function(t){var e={display:t.loading?"block":"none"};return n.a.createElement("div",{className:"loader",style:e},"Loading...")},ya=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).componentDidMount=function(){ot().then((function(t){console.info(t),a.setState(da({},a.state,{albums:t}))})),nt().then((function(t){return a.setState(da({},a.state,{artists:t}))})),it().then((function(t){return a.setState(da({},a.state,{likes:t}))})),mt().then((function(t){return a.setState(da({},a.state,{playlists:t}))})),st().then((function(t){return a.setState(da({},a.state,{personalized:t}))}))},a.setSearchFilter=function(t){document.getElementById("search-body").scrollTo(0,0),a.setState(da({},a.state,{activeFilter:t}))},a.PlaySong=function(t,e){if(e)!1===a.state.isPlaying?lt().then((function(){return console.log(0)})):ct().then((function(){return console.log(1)}));else{var r=a.props.searchState.result.tracks.items.findIndex((function(e){return e.uri===t})),n=JSON.stringify(a.props.searchState.result.tracks.items.slice(r,a.props.searchState.result.tracks.items.length).map((function(t){return t.uri})));console.log(n),at(n).then((function(t){return console.log(t)}))}},a.PlayAlbum=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?!1===a.state.isPlaying?lt().then((function(){return console.log(1)})):ct().then((function(){return console.log(2)})):rt(t).then((function(e){var r=JSON.stringify(e.items.map((function(t){return t.uri})));console.log(e),at(r).then((function(e){return a.setState(da({},a.state,{currentSong:t,isPlaying:!0}))}))}))},a.buildArtists=function(){var t=[];return"artists"in a.props.searchState.result&&a.props.searchState.result.artists.items.forEach((function(e,a){t.push(n.a.createElement(ea,{artist:e,idx:a}))})),t},a.buildAlbums=function(){var t=[];return"albums"in a.props.searchState.result&&a.props.searchState.result.albums.items.forEach((function(e,r){var o=a.props.player.albumId===e.id;t.push(n.a.createElement(Be,{handleClick:a.PlayAlbum,active:o,isPlaying:a.state.isPlaying,album:e,idx:r,searchState:a.state}))})),t},a.buildTracks=function(){var t=[];return"tracks"in a.props.searchState.result&&a.props.searchState.result.tracks.items.forEach((function(e,r){var o=a.props.player.currentSong.uri===e.uri;t.push(n.a.createElement(na,{handleClick:a.PlaySong,active:o,isPlaying:a.state.isPlaying,song:e,idx:r}))})),t},a.state={token:a.props.spotifyData.token,loading:a.props.searchState.loading,activeFilter:"PLAYLISTS",result:a.props.searchState.result},console.info("these are your props",t),a.setSearchFilter=a.setSearchFilter.bind(Object(Y.a)(a)),a.PlaySong=a.PlaySong.bind(Object(Y.a)(a)),a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this;console.info("likes below"),console.info(this.state),console.info("likes above");var e=this.buildArtists(),a=this.buildAlbums(),r=this.buildTracks(),o=r.length>0?{height:"100%"}:{height:"0%"},i=[];return ga.forEach((function(e){i.push(n.a.createElement(fa,{onClick:t.setSearchFilter,name:e,isActive:t.state.activeFilter}))})),n.a.createElement("div",{className:"main"},n.a.createElement("div",{className:"search-filter"},n.a.createElement("ul",null,i)),n.a.createElement("div",{className:"search-body",id:"search-body"},e,a,n.a.createElement("div",{className:"songs-container",style:o},r),n.a.createElement(ha,{loading:this.props.searchState.loading})))}}]),e}(n.a.Component),ba=Object(u.g)(ya);a(412);function va(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var Oa=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).PlayArtist=function(){var t=a.props.player.player,e=t.ResumePlayer,r=t.StopPlayer,n=t.playSong,o=t.getArtistTopTracks;a.props.active?a.props.active&&!1===a.props.isPlaying?e():r():(console.log(a.props.active,a.props.artistId),o(a.props.artistId).then((function(t){var e=[];t.tracks.forEach((function(t,a){t.order=a,e.push(t)})),a.props.ResetQueue(e);var r=JSON.stringify(t.tracks.map((function(t){return t.uri})));n(r).catch((function(t){return console.debug(t)})).then((function(t){return console.debug(t)}))})))},a.componentDidMount=function(){a.setColor(a.props.url)},a.setColor=function(t){var e=new Image;e.crossOrigin="Anonymous",e.src=t,e.addEventListener("load",(function(){Dt.from(e).getPalette((function(t,e){var r={Vibrant:Z(e,"Vibrant"),DarkMuted:Z(e,"DarkMuted"),DarkVibrant:Z(e,"DarkVibrant"),LightVibrant:Z(e,"LightVibrant"),Muted:Z(e,"Muted")};a.setState(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?va(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):va(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a.state,{colors:r}))}))}))},a.state={colors:{DarkMuted:"black",Vibrant:"white",DarkVibrant:"black",LightVibrant:"white",Muted:"blue"}},a.PlayArtist=a.PlayArtist.bind(Object(Y.a)(a)),a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this,e=this.props.active?{opacity:1}:{},a={backgroundSize:"800vw 800vw",animation:"rotate 20s ease infinite",background:"linear-gradient(160deg, \n                ".concat(this.state.colors.Vibrant,", \n                ").concat(this.state.colors.DarkMuted,")")},r=this.props.active&&this.props.isPlaying?n.a.createElement(_e.a,{style:{fontSize:".8em"}}):n.a.createElement(De.a,{style:{fontSize:".8em"}});return n.a.createElement("div",{className:"container",style:a},n.a.createElement("div",{className:"block",style:{background:this.state.colors.DarkMuted}},n.a.createElement("img",{alt:"".concat(this.props.name," cover"),src:this.props.url}),n.a.createElement("div",{className:"inner1",style:{background:this.state.colors.Vibrant}}),n.a.createElement("div",{className:"inner2",style:{background:this.state.colors.DarkVibrant}}),n.a.createElement("div",{className:"inner3",style:{background:this.state.colors.Muted}}),n.a.createElement("div",{className:"inner4",style:{background:this.state.colors.DarkVibrant}}),n.a.createElement("div",{className:"inner5",style:{background:this.state.colors.LightVibrant}}),n.a.createElement("div",{className:"inner6",style:{background:this.state.colors.Muted}}),n.a.createElement("div",{className:"artist-hover-state",style:e,onClick:function(){return t.PlayArtist()}},n.a.createElement("div",{className:"artist-icon-holder"},r))),n.a.createElement("div",{className:"artist-name"},n.a.createElement("h1",null,this.props.name)))}}]),e}(n.a.Component);function Ea(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var ka=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).componentDidMount=function(){a.setColor(a.props.url)},a.setColor=function(t){var e=new Image;e.crossOrigin="Anonymous",e.src=t,e.addEventListener("load",(function(){Dt.from(e).getPalette((function(t,e){var r={Vibrant:Z(e,"Vibrant"),DarkMuted:Z(e,"DarkMuted"),DarkVibrant:Z(e,"DarkVibrant"),LightVibrant:Z(e,"LightVibrant"),Muted:Z(e,"Muted")};console.log(r),a.setState(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ea(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ea(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a.state,{colors:r}))}))}))},a.state={colors:{DarkMuted:"black",Vibrant:"white",DarkVibrant:"black",LightVibrant:"white",Muted:"blue"}},a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this,e={backgroundSize:"800vw 800vw",animation:"rotate 20s ease infinite",background:"linear-gradient(160deg, \n                ".concat(this.state.colors.Vibrant,", \n                ").concat(this.state.colors.DarkMuted,")")};return n.a.createElement("div",{className:"playlist",style:e},n.a.createElement("div",{className:"triangle-holder"},n.a.createElement("div",{className:"triangle-left",style:{borderBottom:"18em solid rgba(0,0,0,.1)"}}),n.a.createElement("div",{className:"triangle-right",style:{borderTop:"22em solid rgba(0,0,0,.1)"}})),n.a.createElement("div",{className:"artist-hover-state",onClick:function(){return t.props.handleClick(t.props.item.uri,t.props.active)}},n.a.createElement("div",{className:"artist-icon-holder"},n.a.createElement(De.a,{style:{fontSize:".8em"}}))),n.a.createElement("img",{alt:"playlist-cover",src:this.props.url}),n.a.createElement("div",{className:"playlist-cover"},n.a.createElement("h1",null,this.props.name),n.a.createElement("h3",null,this.props.artistName)))}}]),e}(n.a.Component);function Sa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Pa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Sa(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Sa(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var wa=function(t){function e(t){var a;return Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).handleClick=function(t,e){var r=a.props.spotifyData.player,n=r.playSong,o=r.ResumePlayer,i=r.StopPlayer;if(e)!1===a.props.player.isPlaying?(o(),a.props.togglePlay()):(i(),a.props.togglePlay());else{var s=a.state.tracks.findIndex((function(e){return e.uri===t})),c=a.state.tracks.slice(s,a.state.tracks.length).map((function(t){return t.uri})),l=[];a.state.tracks.slice(s,a.state.tracks.length).concat(a.state.tracks.slice(0,s-1)).forEach((function(t,e){t.order=e,l.push(t)})),a.props.ResetQueue(l);var u=a.state.tracks.slice(0,s).map((function(t){return t.uri}));n(JSON.stringify([].concat(Object(Tt.a)(c),Object(Tt.a)(u)))).then((function(e){return a.setState(Pa({},a.state,{currentSong:t,isPlaying:!0}))}))}},a.state={result:[],tracks:[]},a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.spotifyData.player.getPersonalizedTopTracks("artists",10,0).then((function(e){t.props.spotifyData.player.getPersonalizedTopTracks("tracks",10,0).then((function(a){t.setState(Pa({},t.state,{result:e.items,tracks:a.items}))}))}))}},{key:"render",value:function(){var t=this,e=[],a=[];return this.state.result.forEach((function(a,r){var o=!1;t.props.player.artistId===a.id&&(o=!0),e.push(n.a.createElement(Oa,{player:t.props.spotifyData,ResetQueue:t.props.ResetQueue,key:"featured-artist-".concat(r),url:a.images[0].url,name:a.name,active:o,artistId:a.id,isPlaying:t.props.player.isPlaying}))})),this.state.tracks.forEach((function(e,r){var o=!1;t.props.player.currentSong.id===e.id&&(o=!0),a.push(n.a.createElement(ka,{key:"featured-playlist-".concat(r),url:e.album.images[0].url,name:e.name,artistName:e.artists[0].name,player:t.props.spotifyData,ResetQueue:t.props.ResetQueue,active:o,songUri:e.uri,item:e,handleClick:t.handleClick,isPlaying:t.props.player.isPlaying}))})),n.a.createElement("div",{className:"main"},n.a.createElement("div",{className:"favorites-title"},n.a.createElement("h1",null,"Favorite Artists")),n.a.createElement("div",{className:"recomended-artists"},e),n.a.createElement("h1",null,"Recently Played"),n.a.createElement("div",{className:"recomended-artists"},a))}}]),e}(n.a.Component),ja=Object(u.g)(wa);function Ta(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var Na=function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ta(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ta(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)},Ia=function(t){return{setSearch:function(e){t({type:"SET_SEARCH",payload:e})},clearSearchState:function(){t({type:"CLEAR_SEARCH_STATE"})},setSearchResult:function(e){t({type:"SEARCH_RESULT_RETURNED",payload:e})},setSearchFilter:function(e){t({type:"SET_SEARCH_FILTER",payload:e})},setCurrentScroll:function(e){t({type:"SET_CURRENT_SCROLL",payload:e})},extendSearchResults:function(e){t({type:"EXTEND_SEARCH_RESULTS",payload:e})},playSong:function(e){t({type:"PLAY_SONG",payload:e})},playerStateChange:function(e){t({type:"PLAYER_SET_STATE",payload:e})},playerSetArtistID:function(e){t({type:"PLAYER_SET_ARTIST_ID",payload:e})},setCurrentTime:function(e){t({type:"PLAYER_SET_CURRENT_TIME",payload:e})},togglePlay:function(e){t({type:"PLAYER_TOGGLE_PLAY",payload:e})},initializeSpotify:function(e){alert(2),t({type:"INITIALIZE_SPOTIFY_KEYS",payload:e})},PlayNext:function(e){alert(2),t({type:"PLAYER_PLAY_NEXT",payload:e})},SyncFromHost:function(){t({type:"SYNC_FROM_HOST"})},SetColors:function(e){t({type:"SET_PLAYER_COLORS",payload:e})},ResetQueue:function(e){t({type:"RESET_PLAYER_QUEUE",payload:e})},SetSecondaryColors:function(e){t({type:"SET_SECONDARY_COLORS",payload:e})},setPlayer:function(e){t({type:"PLAYER_SET_STATE_FROM_HOST",payload:e})},setRoom:function(e){return t({type:"SET_ROOM",payload:e})}}},Da=Object(g.b)(Na,Ia)(Ne),Ca=Object(g.b)(Na,Ia)(qe),xa=Object(g.b)(Na,Ia)($e),Aa=Object(g.b)(Na,Ia)(pa),Ra=Object(g.b)(Na,Ia)(ba),La=(Object(g.b)(Na,Ia)(x),Object(g.b)(Na,Ia)(ja)),_a=a(462),Va=a(464),Ma=a(460),Fa=a(465),Ga=a(463),Ua=a(467),qa=a(458),za=a(461),Qa=a(466),Ba=a(459),Ya=a(107),Ja=a.n(Ya),Ha=a(206),Wa=a(203),$a=function t(e){var a=this;Object(q.a)(this,t),this.GET=function(){var t=Object(H.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"GET",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.POST=function(){var t=Object(H.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"POST",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.PUT=function(){var t=Object(H.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"PUT",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.DELETE=function(){var t=Object(H.a)(U.a.mark((function t(e){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"DELETE",url:e,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.PUTBodyParamter=function(){var t=Object(H.a)(U.a.mark((function t(e,r){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$()({method:"PUT",url:e,data:r,headers:{Authorization:"Bearer ".concat(a.token)}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),this.GetPlaylistTracks=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n="https://api.spotify.com/v1/playlists/".concat(t,"/tracks?limit=").concat(e,"&offset=").concat(r);return a.GET(n,"Get Playlist Tracks")},this.GetPlaylist=function(t){var e="https://api.spotify.com/v1/playlists/".concat(t);return a.GET(e,"Get Playlist")},this.GetPlaylistCover=function(t){var e="https://api.spotify.com/v1/playlists/".concat(t,"/images");return a.GET(e,"Get Playlist Banner")},this.GetUsersPlaylists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n="https://api.spotify.com/v1/users/".concat(t,"/playlists?limit=").concat(e,"&offset=").concat(r);return a.GET(n,"Get Users Playlists")},this.GetMyPlaylists=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r="https://api.spotify.com/v1/me/playlists?limit=".concat(t,"&offset=").concat(e,"&market=US");return a.GET(r,"Get All my Playlists")},this.CreatePlaylist=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;o=null!==o?"&public=".concat(o):"",n=null!==n?"&description=".concat(n):"",r=null!==r?"&collaborative=".concat(r):"";var i="https://api.spotify.com/v1/users/".concat(t,"/playlists?name=").concat(e)+o+n+r;return a.POST(i,"Create new Playlist")},this.playSong=function(t){var e='{"uris": '.concat(t,"}");return a.PUTBodyParamter("https://api.spotify.com/v1/me/player/play",e,"Play specific song")},this.SpotifyLogout=function(){var t=window.open("https://www.spotify.com/logout/","Spotify Logout","width=700,height=500,top=40,left=40");setTimeout((function(){return t.close()}),3e3)},this.getAlbum=function(t){var e="https://api.spotify.com/v1/albums/".concat(t);return a.GET(e,"got albums")},this.getAlbumTracks=function(t){var e="https://api.spotify.com/v1/albums/".concat(t,"/tracks?limit=50");return a.GET(e,"got album track list")},this.getArtist=function(t){var e="https://api.spotify.com/v1/artists/".concat(t);return a.GET(e,"got artists")},this.getArtistAlbums=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n="https://api.spotify.com/v1/artists/".concat(t,"/albums?offset=").concat(e,"&limit=").concat(r);return a.GET(n,"got artist Albums")},this.getArtistTopTracks=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n="https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?offset=").concat(e,"&limit=").concat(r,"&market=US");return a.GET(n,"got top tracks by artist")},this.getArtistRelatedArtists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n="https://api.spotify.com/v1/artists/".concat(t,"/related-artists?offset=").concat(e,"&limit=").concat(r);return a.GET(n,"got related Artists")},this.getAllByCategory=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n="https://api.spotify.com/v1/browse/categories/".concat(t,"?offset=").concat(e,"&limit=").concat(r);return a.GET(n,"got All results by category")},this.getPlaylistByCategory=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n="https://api.spotify.com/v1/browse/categories/".concat(t,"/playlists?offset=").concat(e,"&limit=").concat(r);return a.GET(n,"got playlists by category")},this.getCategoriesList=function(){return a.GET("https://api.spotify.com/v1/browse/categories/","got All Categories")},this.getFeaturedPlaylists=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r="https://api.spotify.com/v1/browse/featured-playlists?offset=".concat(t,"&limit=").concat(e);return a.GET(r,"got Featured Playlists")},this.getNewReleases=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r="https://api.spotify.com/v1/browse/new-releases?offset=".concat(t,"&limit=").concat(e);return a.GET(r,"got New Releases")},this.getRecommendations=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r="https://api.spotify.com/v1/browse/recommendations?offset=".concat(t,"&limit=").concat(e);return a.GET(r,"got recommendations")},this.getFollowedArtists=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e="https://api.spotify.com/v1/me/following?type=artist&limit=".concat(t);return a.GET(e,"got Followed Artists")},this.isFollowingUser=function(t,e){var r="https://api.spotify.com/v1/me/following/contains?type=".concat(t,"&ids=").concat(e);return a.GET(r,"got if you are following user")},this.isFollowingPlaylist=function(t){var e="https://api.spotify.com/v1/playlists/".concat(t,"/followers/contains");return a.GET(e,"got if you are following playlist")},this.followArtist=function(t,e){var r="https://api.spotify.com/v1/me/following?type=".concat(t,"&ids=").concat(e);return a.PUT(r,"PUT Followed New Artist")},this.followPlaylist=function(t){var e="https://api.spotify.com/v1/playlists/".concat(t,"/followers/");return a.PUT(e,"PUT Followed New Artist")},this.UnfollowArtist=function(t,e){var r="https://api.spotify.com/v1/me/following?type=".concat(t,"&ids=").concat(e);return a.DELETE(r,"DELETE Artist Removed")},this.UnfollowPlaylist=function(t){var e="https://api.spotify.com/v1/playlists/".concat(t,"/followers/");return a.DELETE(e,"DELETE Playlist Removed")},this.AlbumIsLiked=function(t){var e="https://api.spotify.com/v1/me/albums/contains?ids=".concat(t);return a.GET(e,"Boolean Album is Saved")},this.TrackIsLiked=function(t){var e="https://api.spotify.com/v1/me/tracks/contains?ids=".concat(t);return a.GET(e,"Boolean Track is Saved")},this.getLikedAlbums=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r="https://api.spotify.com/v1/me/albums?limit=".concat(e,"&offset=").concat(t);return a.GET(r,"get all liked albums")},this.getLikedTracks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r="https://api.spotify.com/v1/me/tracks?limit=".concat(e,"&offset=").concat(t);return a.GET(r,"get all liked Songs")},this.DeleteAlbum=function(t){var e="https://api.spotify.com/v1/me/albums?ids=".concat(t);return a.DELETE(e,"Delete Album")},this.DeleteSong=function(t){var e="https://api.spotify.com/v1/me/tracks?ids=".concat(t);return a.DELETE(e,"Delete Song")},this.AddSong=function(t){var e="https://api.spotify.com/v1/me/tracks?ids=".concat(t);return a.PUT(e,"ADD Song")},this.AddAlbum=function(t){var e="https://api.spotify.com/v1/me/albums?ids=".concat(t);return a.PUT(e,"ADD Album")},this.getPersonalizedTopTracks=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n="https://api.spotify.com/v1/me/top/".concat(t,"?time_range=short_term&limit=").concat(e,"&offset=").concat(r);return a.GET(n,"got personalized top tracks")},this.getAllDevices=function(){return a.GET("https://api.spotify.com/v1/me/player/devices","got Devices")},this.getPlayer=function(){return a.GET("https://api.spotify.com/v1/me/player","got Player")},this.getRecentlyPlayed=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e="https://api.spotify.com/v1/me/player/recently-played?limit=".concat(t);return a.GET(e,"got recently played tracks")},this.getCurrentlyPlaying=function(){return a.GET("https://api.spotify.com/v1/me/player/currently-playing","got Player")},this.StopPlayer=function(){return a.PUT("https://api.spotify.com/v1/me/player/pause","Put Player Paused")},this.ResumePlayer=function(){return a.PUT("https://api.spotify.com/v1/me/player/play","Put Player Resume")},this.EnableRepeatMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"context",e="https://api.spotify.com/v1/me/player/repeat?state=".concat(t);return a.PUT(e,"Put Song/Album/Playlist on repeat")},this.EnableShuffleMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true",e="https://api.spotify.com/v1/me/player/shuffle?state=".concat(t);return a.PUT(e,"Shuffle songs true/false")},this.ChangeVolume=function(t){var e="https://api.spotify.com/v1/me/player/volume?volume_percent=".concat(t);return a.PUT(e,"Put Volume Changed")},this.PlayNext=function(){return a.POST("https://api.spotify.com/v1/me/player/next","Post Play Next Song")},this.PlayPrevious=function(){return a.POST("https://api.spotify.com/v1/me/player/previous","Post Play Previous Song")},this.RestartSong=function(){return a.PUT("https://api.spotify.com/v1/me/player/seek?position_ms=1000","Start song over")},this.SeekSong=function(t){var e="https://api.spotify.com/v1/me/player/seek?position_ms=".concat(t);return a.PUT(e,"Start song over")},this.TransferPlayback=function(t){var e={device_ids:[t],play:!0};return a.PUTBodyParamter("https://api.spotify.com/v1/me/player",e,"Transfer Playback")},this.getMyProfile=function(){return a.GET("https://api.spotify.com/v1/me","got my profile")},this.getUserProfile=function(t){var e="https://api.spotify.com/v1/users/".concat(t);return a.GET(e,"got user profile")},this.getTrack=function(t){var e="https://api.spotify.com/v1/tracks/".concat(t);return a.GET(e,"got track by id")},this.Search=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t=t.replace(" ","%20")+"*";var o="https://api.spotify.com/v1/search?q=".concat(t,"&type=").concat(e,"&q=").concat(t,"&limit=").concat(r,"&offset=").concat(n);return a.GET(o,"Search Spotify")},this.AddSongToPlaylist=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r=null!==r?"&position=".concat(r):"";var n="https://api.spotify.com/v1/playlists/".concat(t,"/tracks?uris=").concat(e)+r;return a.POST(n,"Post Add song to playlist")},this.ChangePlayListDetails=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;o=null!==o?"&public=".concat(o):"",n=null!==n?"&description=".concat(n):"",r=null!==r?"&collaborative=".concat(r):"";var i="https://api.spotify.com/v1/playlists/".concat(t,"?=").concat(e)+o+n+r;return a.POST(i,"Update playlist details")},this.token=e};function Ka(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Xa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ka(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ka(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Za(){return n.a.createElement(Ha.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",n.a.createElement(qa.a,{color:"inherit",href:"https://material-ui.com/"},"Sound Good Music")," ",(new Date).getFullYear(),".")}var tr=Object(Wa.a)((function(t){return{root:{height:"100hv",background:"linear-gradient(45deg, #BA55D3 10%, #000000 60%)"},image:{backgroundImgae:"url(http://127.0.0.1:5501/img/card1.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:t.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,2)}}}));var er=Object(u.g)((function(t){var e=tt(),a=tr(),o=Object(r.useState)({email:"",password:"",remember:!1,isLoggedIn:!1}),i=Object(c.a)(o,2),l=i[0],u=i[1],p=Object(r.useState)(""),m=Object(c.a)(p,2),d=m[0],g=m[1],f=function(t){return u(Xa({},l,Object(s.a)({},t.target.name,t.target.value)))},h=t.spotifyToken,y=t.initiatePlayer,b=t.history,v=t.authUser,O=t.spotifyData,E=t.user;return Object(r.useEffect)((function(){var t,a=localStorage.getItem("jwtTokens")||null,r=new AbortController;return a&&!E.isLoggedIn&&(t=fetch("/api/token",{method:"POST",body:a,headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t.error&&localStorage.removeItem("jwtTokens");var e=t.data,a=t.tokens;return a&&localStorage.setItem("jwtTokens",JSON.stringify(Xa({},a))),u((function(t){return Xa({},t,{isLoggedIn:!0})})),v(Xa({},e,{isLoggedIn:!0}))})).then((function(){var t=Date.now()+36e5,a=(localStorage.getItem("expiration")-Date.now())/1e3;e?(localStorage.setItem("token",e),localStorage.setItem("expiration",t),h(e),y(new $a(e)),b.push("/")):(a<60||!O.userToken)&&(localStorage.setItem("token",""),localStorage.setItem("expiration",0),et())}))),function(){r.abort(t)}}),[e,b,v,y,E,O,h]),n.a.createElement(Ba.a,{container:!0,component:"main",className:a.root},n.a.createElement(Ma.a,null),n.a.createElement(Ba.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),n.a.createElement(Ba.a,{item:!0,xs:12,sm:8,md:5,component:za.a,elevation:6,square:!0},n.a.createElement("div",{className:a.paper},n.a.createElement(_a.a,{className:a.avatar},n.a.createElement(Ja.a,null)),n.a.createElement(Ha.a,{component:"h1",variant:"h5"},"Sign in"),d&&n.a.createElement("p",{style:{color:"red"}},d),n.a.createElement("form",{className:a.form,onSubmit:function(t){t.preventDefault(),g("");var a=JSON.stringify({email:l.email,password:l.password});fetch("/api/login",{method:"POST",body:a,headers:{"Content-Type":"application/json"}}).then((function(t){return 200===t.status?t.json():(g("Please check user name & password!"),"Error")})).then((function(t){var e=t.data,a=t.tokens;return a&&l.remember&&localStorage.setItem("jwtTokens",JSON.stringify(Xa({},a))),e&&v(Xa({},e,{isLoggedIn:!0})),e})).then((function(a){if(a){var r=Date.now()+36e5,n=(localStorage.getItem("expiration")-Date.now())/1e3;e?(localStorage.setItem("token",e),localStorage.setItem("expiration",r),h(e),y(new $a(e)),b.push("/")):(n<60||!O.userToken)&&(localStorage.setItem("token",""),localStorage.setItem("expiration",0),et()),t.target.reset()}}))},noValidate:!0},n.a.createElement(Fa.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:l.email,onChange:f}),n.a.createElement(Fa.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:l.password,onChange:f,autoComplete:"current-password"}),n.a.createElement(Ga.a,{control:n.a.createElement(Ua.a,{onClick:function(){return u(Xa({},l,{remember:!l.remember}))},value:"remember",color:"primary"}),label:"Remember me"}),n.a.createElement(Va.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),n.a.createElement(Ba.a,{container:!0},n.a.createElement(Ba.a,{item:!0,xs:!0},n.a.createElement(qa.a,{href:"#",variant:"body2"},"Forgot password?")),n.a.createElement(Ba.a,{item:!0},n.a.createElement(qa.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))),n.a.createElement(Qa.a,{mt:5},n.a.createElement(Za,null))))))}));function ar(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function rr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ar(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ar(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function nr(){return n.a.createElement(Ha.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",n.a.createElement(qa.a,{color:"inherit",href:"https://material-ui.com/"},"Sound Good Music")," ",(new Date).getFullYear(),".")}var or=Object(Wa.a)((function(t){return{root:{height:"100hv",background:"linear-gradient(45deg, #BA55D3 10%, #000000 60%)"},image:{backgroundImgae:"url(http://127.0.0.1:5501/img/card1.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:t.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,2)}}}));var ir=Object(u.g)((function(t){var e=tt(),a=or(),o=Object(r.useState)({email:"",password:"",username:"",remember:!1,isLoggedIn:!1}),i=Object(c.a)(o,2),l=i[0],u=i[1],p=Object(r.useState)(""),m=Object(c.a)(p,2),d=m[0],g=m[1],f=function(t){return u(rr({},l,Object(s.a)({},t.target.name,t.target.value)))};return n.a.createElement(Ba.a,{container:!0,component:"main",className:a.root},n.a.createElement(Ma.a,null),n.a.createElement(Ba.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),n.a.createElement(Ba.a,{item:!0,xs:12,sm:8,md:5,component:za.a,elevation:6,square:!0},n.a.createElement("div",{className:a.paper},n.a.createElement(_a.a,{className:a.avatar},n.a.createElement(Ja.a,null)),n.a.createElement(Ha.a,{component:"h1",variant:"h5"},"Sign in"),d&&n.a.createElement("p",{style:{color:"red"}},d),n.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault(),g("");var r=JSON.stringify({email:l.email,password:l.password,username:l.username});fetch("/api/signup",{method:"POST",body:r,headers:{"Content-Type":"application/json"}}).then((function(t){return 200===t.status?t.json():(g("Check your email!"),"Error")})).then((function(e){var a=e.data,r=e.tokens;r&&l.remember&&localStorage.setItem("jwtTokens",JSON.stringify(rr({},r))),t.authUser(rr({},a,{isLoggedIn:!0}))})).then((function(){var a=Date.now()+36e5,r=(localStorage.getItem("expiration")-Date.now())/1e3;e?(localStorage.setItem("token",e),localStorage.setItem("expiration",a),t.spotifyToken(e),t.initiatePlayer(new $a(e)),t.history.push("/")):(r<60||!t.spotifyData.userToken)&&(localStorage.setItem("token",""),localStorage.setItem("expiration",0),et())})),a.target.reset()},noValidate:!0},n.a.createElement(Fa.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autocomplete:"new-password",autoFocus:!0,value:l.username,onChange:f}),n.a.createElement(Fa.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:l.email,onChange:f}),n.a.createElement(Fa.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:l.password,onChange:f,autoComplete:"new-password"}),n.a.createElement(Ga.a,{control:n.a.createElement(Ua.a,{onClick:function(){return u(rr({},l,{remember:!l.remember}))},value:"remember",color:"primary"}),label:"Remember me"}),n.a.createElement(Va.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign up"),n.a.createElement(Ba.a,{container:!0},n.a.createElement(Ba.a,{item:!0,xs:!0},n.a.createElement(qa.a,{href:"#",variant:"body2"},"Forgot password?")),n.a.createElement(Ba.a,{item:!0},n.a.createElement(qa.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))),n.a.createElement(Qa.a,{mt:5},n.a.createElement(nr,null))))))}));function sr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var cr=function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?sr(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sr(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)},lr=function(t){return{authUser:function(e){t({type:"LOGIN",payload:e})},spotifyToken:function(e){t({type:"SAVE_SPOTIFY_TOKEN",payload:e})},initiatePlayer:function(e){t({type:"INITIATE_SPOTIFY",payload:e})}}},ur=Object(g.b)(cr,lr)(ir),pr=Object(g.b)(cr,lr)(er);a(413);function mr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var dr=function(t){function e(t){var a;Object(q.a)(this,e),(a=Object(Q.a)(this,Object(B.a)(e).call(this,t))).scrollToBottom=function(){var t=i.a.findDOMNode(a.messagesContainer);t.scrollTop=t.scrollHeight},a.state={username:a.props.username||"",message:"",messages:a.props.messages||[],currentTyper:""},a.socket=ft()("/rooms"),a.socket.on("connect",(function(t){r()})),a.socket.on("RECEIVE_MESSAGE",(function(t){n(t)}));var r=function(){a.socket.emit("JOIN_ROOM",{roomId:a.props.roomId})},n=function(t){a.setState({messages:[].concat(Object(Tt.a)(a.state.messages),[t]),currentTyper:""})};a.sendMessage=function(t){t.preventDefault();var e={author:a.props.user.username,authorId:a.props.user.id,message:a.state.message,roomId:a.props.roomId};a.socket.emit("SEND_MESSAGE",e),a.setState({message:"",messages:[].concat(Object(Tt.a)(a.state.messages),[e])})},a.socket.on("typing",(function(t){o()}));var o=function(t){a.setState({currentTyper:a.props.username})};return a}return Object(J.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"main-chatroom"},n.a.createElement("div",{className:"chat"},n.a.createElement("div",{className:"chat-title"},n.a.createElement("h1",null,"Chat room"),n.a.createElement("h2",null,"Sound Good Music"),this.state.currentTyper&&n.a.createElement("h4",null,this.state.currentTyper," is typing..."),n.a.createElement("figure",{className:"avatar"},n.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:""}))),n.a.createElement("div",{ref:function(e){t.messagesContainer=e},className:"messages",style:{overflowY:"scroll",scrollbarColor:"yellow blue"}},this.state.messages.map((function(t,e){return n.a.createElement("div",{className:"message new",key:e},n.a.createElement("figure",{className:"avatar"},n.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:""})),t.author,":",n.a.createElement("br",null),t.message)}))),n.a.createElement("form",{onSubmit:this.sendMessage},n.a.createElement("div",{className:"message-box"},n.a.createElement("input",{className:"message-input",type:"text",value:this.props.user.username,disabled:!0}),n.a.createElement("input",{className:"message-input",placeholder:"Enter a message",value:this.state.message,onChange:function(e){return t.setState({message:e.target.value})}}),n.a.createElement("button",{className:"message-submit",type:"submit"}," ","Submit"))),n.a.createElement("br",null)))}}]),e}(r.Component),gr=Object(g.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?mr(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):mr(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)}),null)(dr);function fr(){var t=Object(d.a)(["\n\twidth: 30vw;\n\theight: 60vh;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\tbackground: rgba(0, 0, 0, 0.5);\n\tmargin-top: 5vh;\n\toverflow-y: scroll;\n\tdisplay: flex;\n\tflex-direction: column;\n\t::-webkit-scrollbar {\n\t\tbackground-color: rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1);\n\t}\n\t.song-block {\n\t\twidth: 100%;\n\t}\n"]);return fr=function(){return t},t}function hr(){var t=Object(d.a)(["\n\twidth: 100vw;\n\theight: 100vh;\n\tmargin: auto;\n\tpadding: 30px;\n\tbackground: ",";\n\th1 {\n\t\tfont-size: 25px;\n\t\tcolor: rgba(255, 255, 255, 0.75);\n\t\tline-height: 1em;\n\t}\n\t.main_room_hero {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n"]);return hr=function(){return t},t}function yr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function br(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yr(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yr(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var vr=function(t,e,a,r,o,i,s,c,l,u,p){var m=[];return t.forEach((function(d,g){"track"in d&&(d=d.track),m.push(n.a.createElement(Wt,{key:"que-song-".concat(g),PlaySong:e,handleClick:function(){return a(d.id,t,o,i)},active:!1,isPlaying:r,song:d,idx:g,showLikes:1,likes:s.filter((function(t){return t.spotifyId===d.id})).length,createLike:function(){return!p&&u(c,l.id,d.id)}}))})),m},Or=function(t,e,a,r){var n=e.findIndex((function(e){return"track"in e&&(e=e.track),e.id===t})),o=e.slice(n,e.length).map((function(t){return"track"in t&&(t=t.track),t.uri})),i=[];e.slice(n,e.length).forEach((function(t,e){"track"in t&&(t=t.track),t.order=e,t.album={images:t.album.images},i.push(t)})),r(i);var s=JSON.stringify(Object(Tt.a)(o));a.playSong(s)};function Er(t){var e,a,r=t.id,o=t.player,i=t.user,s=t.setRoom,c=t.playSong,l=t.ResetQueue,u=Object(Ct.b)(Mt,{variables:{id:r},pollInterval:1500}),p=u.loading,m=u.error,d=u.data,g=[],f=[],h="";if(p)return n.a.createElement(wr,{style:{display:"flex",alignItems:"center"}},n.a.createElement(jr,{loading:!0}));if(m)return n.a.createElement(wr,null,"Error");if(d){var y=d.getRoom;f=y.messages.map((function(t){return{author:t.user.username,message:t.message}})),g=y.likes.map((function(t){return{spotifyId:t.spotifyId,userId:t.user.id,roomId:t.room.id}})),h=y.roomName,a=y.host,e=Number(y.host.id)===i.id}return n.a.createElement(wr,null,e?n.a.createElement(kr,{queue:o.queue,messages:f,roomId:r,isHost:e?1:0,setRoom:s,host:a,player:o,likes:g,playSong:c,roomName:h,ResetQueue:l}):n.a.createElement(Sr,{queue:o.queue,messages:f,roomId:r,roomName:h,isHost:e?1:0,setRoom:s,host:a,likes:g,player:o,user:i,playSong:c,ResetQueue:l}))}function kr(t){var e=t.messages,a=t.queue,o=t.player,i=t.roomId,s=t.isHost,c=t.host,l=t.setRoom,u=t.likes,p=t.playSong,m=t.roomName,d=t.ResetQueue;return Object(r.useEffect)((function(){l({roomId:i,roomName:m,host:br({isHost:s},c)})}),[l,i,s,c,m]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Queue"),n.a.createElement("div",null,vr(a,p,Or,o.isPlaying,o,d,u,i,c,null,s)),n.a.createElement(gr,{messages:e,roomId:i,isHost:s?1:0}))}function Sr(t){var e=t.messages,a=t.queue,o=t.player,i=t.roomId,s=t.isHost,l=t.host,u=t.setRoom,p=t.likes,m=t.user,d=t.playSong,g=t.roomName,f=t.ResetQueue;Object(r.useEffect)((function(){u({roomId:i,roomName:g,host:br({isHost:s},l)})}),[u,i,s,l,g]);var h=Object(Ct.a)(Gt),y=Object(c.a)(h,1)[0];return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Queue"),n.a.createElement("div",null,vr(a,d,Or,o.isPlaying,o,f,p,i,m,(function(t,e,a){var r={roomId:t,userId:e,spotifyId:a};return p.findIndex((function(r){return Number(r.userId)===e&&r.spotifyId===a&&Number(r.roomId)===t}))>-1?void console.log("Already Liked"):(p=[].concat(Object(Tt.a)(p),[r]),y({variables:{roomId:t,userId:e,spotifyId:a}}))}),s)),n.a.createElement(gr,{messages:e,roomId:i,isHost:s?1:0}))}var Pr=f.a.div(hr(),(function(t){return"linear-gradient(160deg, ".concat(t.color," 15%, rgba(0,0,0, 0.9) 70%)")})),wr=f.a.div(fr()),jr=function(t){var e={display:t.loading?"block":"none"};return n.a.createElement("div",{className:"loader",style:e},"Loading...")},Tr=Object(g.b)((function(t){return br({},t)}),(function(t){return{setRoom:function(e){return t({type:"SET_ROOM",payload:e})}}}))((function(t){var e=t.match,a=t.player,r=t.user,o=t.setRoom,i=t.spotifyData,s=t.ResetQueue,c=i.player.playSong;return n.a.createElement(Pr,{color:a.colors.darkVibrant},n.a.createElement("div",{className:"main_room_header"},n.a.createElement("h1",null,r.room&&r.room.roomName)),n.a.createElement(Er,{id:Number(e.params.id),queue:a.queue,user:r,setRoom:o,player:a,playSong:c,ResetQueue:s}))}));function Nr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var Ir=function(){return n.a.createElement(Aa,null)},Dr=function(){return n.a.createElement(La,null)},Cr=function(){return n.a.createElement(Ra,null)},xr=function(){return n.a.createElement(Ca,null)},Ar=function(){return n.a.createElement(xa,null)},Rr=function(){return n.a.createElement(pr,null)};var Lr=Object(g.b)((function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Nr(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Nr(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)}),null)((function(t){var e,a=Object(r.useState)(!1),o=Object(c.a)(a,2),i=o[0],s=o[1],p=function(){s(!1)};return i&&(e=n.a.createElement(M,{click:p})),n.a.createElement(l.a,{history:m},n.a.createElement("div",{className:"App",style:{height:"100vh"}},n.a.createElement(x,{draweronClick:function(){s((function(t){return!i}))}}),n.a.createElement(_,{click:p,show:i}),";",e,n.a.createElement("div",{className:"header"}),n.a.createElement("main",{style:{color:"black",width:"100vw"}},n.a.createElement(u.d,null,n.a.createElement(u.b,{exact:!0,path:"/login",component:Rr}),n.a.createElement(u.b,{exact:!0,path:"/signup",component:ur}),t.spotifyData.userToken?n.a.createElement(n.a.Fragment,null,n.a.createElement(u.b,{exact:!0,path:"/room/:id",component:Tr}),n.a.createElement(u.b,{path:"/album/:id",component:xr}),n.a.createElement(u.b,{path:"/artist/:id",component:Ar}),n.a.createElement(u.b,{exact:!0,path:"/library",component:Cr}),n.a.createElement(u.b,{exact:!0,path:"/search",component:Ir}),n.a.createElement(u.b,{exact:!0,path:"/",component:Dr})):n.a.createElement(u.a,{to:"/login"}))),t.spotifyData.userToken&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Da,null))))})),_r=a(74);function Vr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Mr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Vr(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Vr(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Fr={email:"",id:"",username:"",isLoggedIn:!1,room:null},Gr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,e=arguments.length>1?arguments[1]:void 0,a=e.type,r=e.payload;switch(a){case"LOGIN":return Mr({},r,{room:null});case"LOGOUT":return Mr({},Fr);case"REDIRECT_TO_SIGNIN":return Mr({},t,{},r);case"SET_ROOM":return Mr({},t,{room:Mr({},t.room,{},r)});default:return t}};function Ur(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function qr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ur(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ur(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var zr={currentSong:{},nextSong:{},queue:[],recentlyPlayed:[],isPlaying:!1,previousBtn:!0,songLength:321,albumId:"",artistId:"",songImg:"",songName:"",colors:{vibrant:"black"},secondaryColors:{vibrant:"black"}},Qr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,e=arguments.length>1?arguments[1]:void 0,a=e.type,r=e.payload;switch(a){case"PLAYER_SET_STATE":var n,o,i=!0;return 0===t.queue.length?(n=JSON.parse(localStorage.getItem("queue"))||[],o=null!==(o=JSON.parse(localStorage.getItem("recentlyPlayed")))?o:[]):t.queue.length>1&&r.track_window.current_track.id===t.queue[1].id?(n=t.queue.slice(1),o=[t.queue[0]].concat(Object(Tt.a)(t.recentlyPlayed)),localStorage.setItem("queue",JSON.stringify(n)),localStorage.setItem("recentlyPlayed",JSON.stringify(o))):t.recentlyPlayed.length>0&&r.track_window.current_track.id===t.recentlyPlayed[0].id?(o=t.recentlyPlayed.slice(1),n=[t.recentlyPlayed[0]].concat(Object(Tt.a)(t.queue)),localStorage.setItem("queue",JSON.stringify(n)),localStorage.setItem("recentlyPlayed",JSON.stringify(o))):(n=t.queue,o=t.recentlyPlayed),0===r.track_window.previous_tracks.length&&(i=!1),n.length>0&&(n[0].id,r.track_window.current_track),qr({},t,{currentSong:r.track_window.current_track,currentSongId:r.track_window.current_track.id,artist:r.track_window.current_track.artists[0].name,songLength:r.track_window.current_track.duration_ms/1e3,songImg:r.track_window.current_track.album.images[2].url,albumName:r.track_window.current_track.album.name,songName:r.track_window.current_track.name,playing:!r.paused,isPlaying:!r.paused,shuffle:r.shuffle,repeat:1===r.repeat_mode,queue:n,recentlyPlayed:o,previousBtn:i});case"PLAYER_PLAY_NEXT":return qr({},t,{currentSong:r.item,currentSongId:r.item.id,artist:r.item.artists[0].name,songLength:r.item.duration_ms/1e3,songImg:r.item.album.images[2].url,albumName:r.item.album.name,songName:r.item.name,playing:!r.paused});case"PLAYER_SET_ARTIST_ID":return qr({},t,{artistId:r.artistId,albumId:r.albumId});case"PLAY_SONG":return qr({},t,{currentSong:qr({},r)});case"ADD_TO_QUEUE":return qr({},t,{queue:[].concat(Object(Tt.a)(t.queue),[r])});case"RESET_PLAYER_QUEUE":return localStorage.setItem("queue",JSON.stringify(Object(Tt.a)(r))),qr({},t,{queue:Object(Tt.a)(r)});case"PLAYER_SET_PlAYING":return qr({},t);case"PLAYER_TOGGLE_PLAY":return qr({},t,{isPlaying:!t.isPlaying});case"SET_PLAYER_COLORS":return qr({},t,{colors:r});case"SET_SECONDARY_COLORS":return qr({},t,{secondaryColors:r});default:return t}};function Br(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Yr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Br(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Br(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Jr={token:"",search:"",loading:!1,activeFilter:"artist",result:{},firing:!1,scroll:0},Hr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,e=arguments.length>1?arguments[1]:void 0,a=e.type,r=e.payload;switch(a){case"SET_SEARCH":return Yr({},t,{search:r.value,loading:!0,result:{},scroll:0});case"SEARCH_RESULT_RETURNED":return alert(r.type.toLowerCase()),Yr({},t,{result:r,loading:!1,offset:r[t.activeFilter.toLowerCase()+"s"].offset,total:r[t.activeFilter.toLowerCase()+"s"].total,scroll:0});case"EXTEND_SEARCH_RESULTS":return Yr({},t,{loading:!1,offset:r[t.activeFilter.toLowerCase()+"s"].offset,total:r[t.activeFilter.toLowerCase()+"s"].total,result:Yr({},t.result,Object(s.a)({},t.activeFilter.toLowerCase()+"s",Yr({},t.result[t.activeFilter.toLowerCase()+"s"],{items:[].concat(Object(Tt.a)(t.result[t.activeFilter.toLowerCase()+"s"].items),Object(Tt.a)(r[t.activeFilter.toLowerCase()+"s"].items))})))});case"CLEAR_SEARCH_STATE":return Yr({},t,{search:"",result:{},loading:!1,scroll:0});case"SET_SEARCH_FILTER":return Yr({},t,{result:{},activeFilter:r,loading:!1,scroll:0});case"SET_CURRENT_SCROLL":return Yr({},t,{scroll:r});default:return t}};function Wr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function $r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Wr(a,!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Wr(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Kr={songs:[],artists:[],albums:[],playlists:[],personalized:[],userToken:"",searchQuery:""},Xr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,e=arguments.length>1?arguments[1]:void 0,a=e.type,r=e.payload;switch(a){case"LIKE_SONG":return $r({},t,{songs:[].concat(Object(Tt.a)(t.songs),[r])});case"LIKE_ALBUM":return $r({},t,{albums:[].concat(Object(Tt.a)(t.albums),[r])});case"LIKE_PLAYLIST":return $r({},t,{playlists:[].concat(Object(Tt.a)(t.playlists),[r])});case"LIKE_ARTIST":return $r({},t,{artist:[].concat(Object(Tt.a)(t.artists),[r])});case"SAVE_SPOTIFY_TOKEN":return $r({},t,{userToken:r});case"INITIATE_SPOTIFY":return $r({},t,{player:r});case"INITIALIZE_SPOTIFY_KEYS":return $r({},t,Object(s.a)({},r.key,r.data));default:return t}},Zr=Object(_r.b)({user:Gr,player:Qr,spotifyData:Xr,searchState:Hr}),tn=Object(_r.c)(Zr,!1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var en=a(11);i.a.render(n.a.createElement(en.b,{client:qt},n.a.createElement(g.a,{store:tn},n.a.createElement(Lr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},55:function(t,e,a){}},[[225,1,2]]]);
//# sourceMappingURL=main.a54921cb.chunk.js.map