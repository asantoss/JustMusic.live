{"version":3,"sources":["history.js","Components/Navbar/SideDrawer/DrawerToggleButton.js","Components/Navbar/Navbar.js","Components/Navbar/SideDrawer/SideDrawer.js","Components/Navbar/Backdrop/Backdrop.js","utilityFunctions/util.js","Components/Footer/progressSlider.js","Components/Footer/soundSlider.js","Apollo/index.js","Components/Footer/CreateRoomButton.js","Components/Blocks/songshort.js","Components/Footer/playlist.js","Components/Footer/station.js","Components/Footer/queue.js","Components/Footer/footer.js","Components/Blocks/albumSongs.js","pages/albumPage.js","Components/Blocks/album.js","pages/artistPage.js","Components/Blocks/artist.js","Components/Blocks/songs.js","pages/search.js","pages/library.js","Components/Blocks/featuredArtist.js","Components/Blocks/featuredPlaylist.js","pages/homePage.js","Components/Containers/MainContainer.js","utilityFunctions/util2.js","Components/Pages/SignIn.js","Components/Pages/SignUp.js","Components/Containers/SignInContainer.js","Components/Pages/Chatroom.js","Components/Pages/Room.js","App.js","reducers/authReducers.js","reducers/playerReducers.js","reducers/searchReducers.js","reducers/spotifyData.js","reducers/index.js","Store.js","serviceWorker.js","index.js"],"names":["createBrowserHistory","DrawerToggleButton","props","ToggleButton","className","onClick","toggleButton","ToggleButtonLines","styled","button","div","Toolbar","header","ToolbarNavigation","nav","ToolbarLogo","Spacer","ToolbarNavItems","connect","state","dispatch","logOut","type","withRouter","color","percentage","page","window","location","pathname","split","includes","player","secondaryColors","DarkVibrant","innerWidth","style","background","draweronClick","to","fontWeight","fontFamily","fontSize","textTransform","user","room","activeStyle","colors","vibrant","borderBottom","activeClassName","roomId","isLoggedIn","localStorage","removeItem","fetch","method","history","go","SideDrawerStyled","show","click","Backdrop","BackdropStyled","getSongSeconds","seconds","minutes","Math","floor","round","length","searchArray","nameKey","myArray","i","id","images","getColor","palette","key","getHex","StoreAPIToken","hash","substr","hashMap","forEach","chunk","chunkSplit","access_token","setupSpotify","scope","join","url","playSong","song","spotify","Spotify","getItem","data","PUTBodyParamter","getAlbumTracks","GET","getFollowedArtists","limit","getLikedAlbums","offset","getLikedTracks","getPersonalizedTopTracks","StopPlayer","PUT","ResumePlayer","ChangeVolume","volume","Search","query","replace","GetMyPlaylists","token","successMsg","a","axios","headers","Authorization","response","POST","DELETE","this","PrettoSlider","withStyles","root","height","width","thumb","backgroundColor","border","marginTop","marginLeft","boxShadow","active","valueLabel","left","track","borderRadius","rail","Slider","ProgressSlider","max","current","ChangeTime","handleTimeChange","currentTime","totalTime","onChange","onChangeCommitted","value","getAriaValueText","getAriaLabel","valueLabelDisplay","valueLabelFormat","aria-label","min","defaultValue","VolumeOn","Muted","iconStyle","marginBottom","SoundSlider","toggleSound","muted","handleVolumeChange","orientation","display","disabled","client","ApolloClient","uri","GET_ROOM","gql","GET_ALL_ROOMS","CREATE_LIKE","CREATE_ROOM","ResetQueue","payload","userId","playlist","rooms","spotifyData","toggleQ","useMutation","createRoom","addPlaylistToQueue","playlistId","GetPlaylistTracks","then","res","uris","items","map","e","newQueue","idx","order","JSON","stringify","push","flexDirection","alignItems","roomsArray","Number","hostId","host","roomName","newRoom","name","findIndex","variables","LiveTvRounded","Song","handleClick","isPlaying","likes","searchState","showLikes","createLike","hoverClass","playIcon","PauseRounded","PlayArrowRounded","artist","artists","image","undefined","album","backgroundStyle","backgroundImage","alignSelf","justifyContent","flexGrow","padding","ThumbUpRounded","cursor","Playlist","setColor","img","Image","crossOrigin","src","addEventListener","Vibrant","getPalette","err","DarkMuted","LightVibrant","setState","setActive","tracks","getPlaylistTracks","componentDidMount","index","currentSongs","slice","newItems","concat","previousSongs","buildTracks","currentURI","render","bodyStyle","containerStyle","backgroundSize","animation","React","Component","Station","console","log","isHost","QueueFilter","isActive","Queue","setSearchFilter","activeFilter","getFilterItems","ListItems","queue","renderPlaylists","playlists","buildStations","currentSong","PlaySong","bind","watchQuery","fetchPolicy","pollInterval","subscribe","next","getAllRooms","error","stations","queueStyle","opacity","arrowStyle","withApollo","Alert","backStyle","waitForSpotifyWebPlaybackSDKToLoad","Promise","resolve","onSpotifyWebPlaybackSDKReady","IsPlaying","LikeTrack","liked","paddingRight","FavoriteRounded","FavoriteBorderRounded","Footer","sendStateFromHost","socket","emit","updateDimensions","componentWillUnmount","removeEventListener","requestPlayerState","socketId","toggleQueue","QueueActive","event","SeekSong","togglePlay","toggleShuffle","EnableShuffleMode","shuffle","toggleRepeat","context","repeat","EnableRepeatMode","toggleLike","AddSong","getCurrentlyPlaying","DeleteSong","NewLike","currentSongId","result","setTimeout","darkMuted","darkVibrant","lightVibrant","SetColors","setTabID","iPageTabID","sessionStorage","iLocalTabID","setItem","currentTab","updatePageOn","pageOn","playing","loaded","songLength","playNext","setupSpotifyPlayer","handleScriptMount","startTimer","io","on","hostPlayer","sendPlayerState","subscribed","setPlayer","s","stopTimer","timer","setInterval","clearInterval","action","PlayPrevious","RestartSong","resetTimer","PlayNext","success","init","TransferPlayback","getTrack","userToken","Player","random","getOAuthToken","cb","addListener","debug","close","songImg","track_window","current_track","document","title","playerSetArtistID","albumId","artistId","paused","position","playerStateChange","device_id","message","disconnect","resume","setName","status","indexOf","scriptTag","onLoad","alert","songName","artistName","alt","MoreHorizRounded","SwapCallsRounded","marginRight","ArrowLeftRounded","previousBtn","ArrowRightRounded","RepeatRounded","Sync","setRoom","SyncDisabledRounded","SettingsInputComponentRounded","ind","explicit","duration_ms","Loader","loaderStyle","loading","AlbumPage","_","dark","darkvibrant","SetSecondaryColors","albumObj","PlayAlbum","albumName","albumImg","firing","getAlbum","copyRight","copyrights","text","trackCount","total_tracks","albumYear","Date","release_date","getFullYear","Play","scrollStyle","scrollbarColor","artistPage","PlayArtist","buildAlbums","albums","singles","features","albumCount","singleCount","featureCount","album_group","match","params","getArtist","getArtistTopTracks","getArtistAlbums","artistImg","followers","total","toString","bannerStyle","Artist","paddingBottom","searchFilters","FilterItem","toLowerCase","SearchSection","getElementById","scrollTo","search","setSearchResult","buildArtists","checkScroll","wrappedElement","setCurrentScroll","scrollTop","scrollHeight","clientHeight","extendSearchResults","handleSearch","scroll","target","setSearch","typingTimeout","clearTimeout","searchLeft","borderLeft","borderTop","searchRight","borderRight","searchInput","topResultsSection","sectionStyle","autoComplete","placeholder","clearSearchState","LibrarySection","info","personalized","FeaturedArtist","catch","hoverState","FeaturedPlaylist","item","Home","topArtists","topTracks","songUri","mapStateToProps","mapDispatchToProps","setCurrentTime","initializeSpotify","SyncFromHost","FooterContainer","AlbumContainer","ArtistContainer","ArtistPage","SearchSectionContainer","LibrarySectionContainer","HomePageContainer","Navbar","playlist_id","GetPlaylist","GetPlaylistCover","GetUsersPlaylists","user_id","CreatePlaylist","collaborative","description","Ispublic","SpotifyLogout","spotifyLogoutWindow","open","getArtistRelatedArtists","getAllByCategory","getPlaylistByCategory","getCategoriesList","getFeaturedPlaylists","getNewReleases","getRecommendations","isFollowingUser","ids","isFollowingPlaylist","followArtist","followPlaylist","UnfollowArtist","UnfollowPlaylist","AlbumIsLiked","TrackIsLiked","DeleteAlbum","AddAlbum","getAllDevices","getPlayer","getRecentlyPlayed","device_ids","play","getMyProfile","getUserProfile","track_id","AddSongToPlaylist","ChangePlayListDetails","Copyright","Typography","variant","align","Link","href","useStyles","makeStyles","theme","backgroundImgae","backgroundRepeat","backgroundPosition","paper","margin","spacing","avatar","secondary","main","form","submit","SpotifyToken","classes","useState","email","password","remember","setError","spotifyToken","initiatePlayer","authUser","useEffect","loginWithToken","authTokens","abortController","AbortController","body","json","tokens","expiration","now","expirationTS","abort","Grid","container","component","CssBaseline","xs","sm","md","Paper","elevation","square","Avatar","onSubmit","preventDefault","formData","reset","noValidate","TextField","required","fullWidth","label","autoFocus","FormControlLabel","control","Checkbox","Button","Box","mt","username","autocomplete","ownProps","SignUpContainer","SignUp","SignInContainer","SignInSide","Chatroom","scrollToBottom","messagesContainer","ReactDOM","findDOMNode","messages","currentTyper","joinRoom","addMessage","sendMessage","ev","author","authorId","addFeedback","ref","el","overflowY","filter","spotifyId","QueryRoom","useQuery","MainContainer","getRoom","m","like","HostView","ListenerView","l","MainRoom","SearchPage","HomePage","LibraryPage","SignIN","backdrop","sideDrawerOpen","setSideDrawerOpen","closeSideDrawerHandler","prevState","exact","path","Room","initialState","authReducer","nextSong","recentlyPlayed","playerReducer","parse","previous_tracks","repeat_mode","searchReducer","songs","searchQuery","combineReducers","authReducers","playerReducers","store","createStore","rootReducer","process","Boolean","hostname","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a54921cb.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","import React from 'react';\nimport styled from 'styled-components';\n\nexport default function DrawerToggleButton(props) {\n  return (\n\n    <ToggleButton className='toggle_button' onClick={props.toggleButton}>\n\n      <ToggleButtonLines />\n      <ToggleButtonLines />\n      <ToggleButtonLines />\n    </ToggleButton>\n  )\n}\n\n//* Styled Components \n\nconst ToggleButton = styled.button`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  height: 3vh;\n  width: 4vw;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  box-sizing: border-box;\n\n  @media (min-width: 768px) {\n      display: none;\n      \n    }\n\n  &:focus{\n    outline: none;\n  }\n`\n\nconst ToggleButtonLines = styled.div`\n  height: 2px;\n  width:5vw;\n  background: white;\n`\n\n\n","import React from 'react';\nimport { withRouter, NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport DrawerToggleButton from './SideDrawer/DrawerToggleButton';\nimport styled from 'styled-components';\nimport '../../App.css';\n\nfunction Navbar(props) {\n\tconst handleSignOut = () => {\n\t\tlocalStorage.removeItem('jwtTokens');\n\t\tprops.logOut();\n\t\tfetch('/api/signout', { method: 'DELETE' });\n\t\tprops.history.go('/');\n\t};\n\tlet color;\n\tlet percentage = '15%';\n\tvar page = window.location.pathname.split('/')[1];\n\tif (['album', 'artist', 'playlist'].includes(page)) {\n\t\tcolor = props.player.secondaryColors.DarkVibrant;\n\t} else {\n\t\t//color = props.player.colors.vibrant\n\t\tcolor = '#000000 ';\n\t}\n\tif (window.innerWidth < 1100) {\n\t\tpercentage = '30%';\n\t}\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tbackground: `linear-gradient(50deg,${color} ${percentage}, rgba(0,0,0, 1) ${percentage})`\n\t\t\t}}>\n\t\t\t<ToolbarNavigation>\n\t\t\t\t<div>\n\t\t\t\t\t<DrawerToggleButton toggleButton={props.draweronClick} />\n\t\t\t\t</div>\n\n\t\t\t\t<ToolbarLogo>\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tto='/'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontWeight: 100,\n\t\t\t\t\t\t\tfontFamily: 'roboto',\n\t\t\t\t\t\t\tfontSize: '2vw',\n\t\t\t\t\t\t\ttextTransform: 'capitalize'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tJustMusic.live\n\t\t\t\t\t</NavLink>\n\t\t\t\t</ToolbarLogo>\n\n\t\t\t\t<Spacer></Spacer>\n\n\t\t\t\t<ToolbarNavItems>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{props.user.room && (\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\tactiveStyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\t\tborderBottom: `2px solid ${props.player.colors.vibrant}`\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\t\tto={'/room/' + props.user.room.roomId}>\n\t\t\t\t\t\t\t\t\tSTATION\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tactiveStyle={{\n\t\t\t\t\t\t\t\t\tcolor: props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: `2px solid ${props.player.colors.vibrant}`\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\tto='/search'>\n\t\t\t\t\t\t\t\tSEARCH\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tactiveStyle={{\n\t\t\t\t\t\t\t\t\tcolor: props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: `2px solid ${props.player.colors.vibrant}`\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\tto='/library'>\n\t\t\t\t\t\t\t\tLIBRARY\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{props.user.isLoggedIn ? (\n\t\t\t\t\t\t\t<li onClick={handleSignOut}>SIGN OUT</li>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\t\t\tto='/login'>\n\t\t\t\t\t\t\t\t\t\tSIGN IN\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\t\t\t\tactiveClassName='active'\n\t\t\t\t\t\t\t\t\t\tto='/signup'>\n\t\t\t\t\t\t\t\t\t\tSIGN UP\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ul>\n\t\t\t\t</ToolbarNavItems>\n\t\t\t</ToolbarNavigation>\n\t\t</Toolbar>\n\t);\n}\n\n//* Styled Components\n\nconst Toolbar = styled.header`\n\tposition: fixed;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbackground: linear-gradient(160deg, #0b1313 25%, rgba(0, 0, 0, 1) 75%);\n\theight: 8vh;\n`;\n\nconst ToolbarNavigation = styled.nav`\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tpadding: 0 1rem;\n`;\n\nconst ToolbarLogo = styled.div`\n\tmargin-left: 1.1rem;\n\t@media (min-width: 769px) {\n\t\tmargin-left: 0;\n\t}\n\n\ta {\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t\tfont-size: 1.5rem;\n\t}\n`;\n\nconst Spacer = styled.div`\n\tflex: 1;\n`;\n\nconst ToolbarNavItems = styled.div`\n\t@media (max-width: 768px) {\n\t\tdisplay: none;\n\t}\n\t.navCurrent {\n\t\tcolor: gold;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tdisplay: flex;\n\n\t\tli {\n\t\t\tpadding: 0 2rem;\n\t\t\tfont-size: 1.4em;\n\t\t\tletter-spacing: 3px;\n\t\t\tfont-weight: 300;\n\t\t\tcolor: white;\n\t\t\t&:hover {\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\ta {\n\t\t\t\tcolor: inherit;\n\t\t\t\ttext-decoration: none;\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst mapStateToProps = state => {\n\treturn { ...state };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogOut: () => {\n\t\t\tdispatch({ type: 'LOGOUT' });\n\t\t}\n\t};\n};\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withRouter(Navbar));\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\n\nfunction SideDrawer(props) {\n\tconst style = {};\n\tconst handleSignOut = () => {\n\t\tprops.logOut();\n\t\tfetch('/api/signout', { method: 'DELETE' });\n\t};\n\treturn (\n\t\t<SideDrawerStyled onClick={props.click} style={style} show={props.show}>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<Link to='/'>HOME</Link>\n\t\t\t\t</li>\n\t\t\t\t{props.user.isLoggedIn ? (\n\t\t\t\t\t<li onClick={handleSignOut}>SIGN OUT</li>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to='/login'>SIGN IN</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to='/signup'>SIGN UP</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</SideDrawerStyled>\n\t);\n}\n\nconst SideDrawerStyled = styled.nav`\n\theight: 100vh;\n\tbackground: white;\n\tbox-shadow: 1px 0px 7px rgba(0, 0, 0, 0.5);\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 70%;\n\tmax-width: 400px;\n\tz-index: 200;\n\ttransition: transform 400ms ease-out;\n\ttransform: ${props => (props.show ? 'translateX(0)' : 'translateX(-105%)')};\n\n\t@media (min-width: 769px) {\n\t\tdisplay: none;\n\t}\n\n\tul {\n\t\theight: 100%;\n\t\tlist-style: none;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\n\t\tli {\n\t\t\tmargin: 0.5rem 0;\n\n\t\t\ta {\n\t\t\t\tcolor: #521751;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tfont-size: 1.2rem;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tcolor: #fa923f;\n\t\t\t\t}\n\n\t\t\t\t&:active {\n\t\t\t\t\tcolor: #fa923f;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst mapStateToProps = state => {\n\treturn { ...state };\n};\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogOut: () => {\n\t\t\tdispatch({ type: 'LOGOUT' });\n\t\t}\n\t};\n};\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withRouter(SideDrawer));\n","import React from 'react';\n\nimport styled from 'styled-components';\n\nexport default function Backdrop(props) {\n  return (\n    <BackdropStyled onClick={props.click}>\n\n    </BackdropStyled>\n  )\n}\n\nconst BackdropStyled = styled.div`\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.3);\n        z-index: 100;\n        top: 0;\n        left: 0;\n`","import axios from 'axios';\n\nexport const getSongSeconds = seconds => {\n\tlet minutes = `${Math.floor(seconds / 60)}`;\n\tseconds = `${Math.round(seconds % 60)}`;\n\tminutes = minutes.length < 2 ? 0 + minutes : minutes;\n\tseconds = seconds.length < 2 ? 0 + seconds : seconds;\n\tif (seconds > 59) {\n\t\treturn `${minutes[0] + 1}:00`;\n\t} else {\n\t\treturn `${minutes}:${seconds}`;\n\t}\n};\n\nexport const searchArray = (nameKey, myArray) => {\n\tfor (var i = 0; i < myArray.length; i++) {\n\t\tif (myArray[i].id === nameKey) {\n\t\t\treturn myArray[i].images;\n\t\t}\n\t}\n};\n\nexport const getColor = (palette, key) => {\n\tif (key in palette && palette[key] !== null) {\n\t\treturn palette[key].getHex();\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport const StoreAPIToken = () => {\n\tlet hash = window.location.hash.substr(1).split('&');\n\tlet hashMap = [];\n\tif (hash.length) {\n\t\thash.forEach(chunk => {\n\t\t\tconst chunkSplit = chunk.split('=');\n\t\t\thashMap[chunkSplit[0]] = chunkSplit[1];\n\t\t});\n\t}\n\tif (hashMap.access_token) {\n\t\t//console.log('token retreived from url');\n\t\treturn hashMap.access_token;\n\t}\n};\n\nexport const setupSpotify = () => {\n\tvar client_id = '42c128e85c9c4eddad1930a129937c94';\n\tvar response_type = 'token';\n\tvar redirect_uri = 'http://127.0.0.1:3000/login';\n\tvar scope = [\n\t\t'user-read-playback-state',\n\t\t'streaming',\n\t\t'user-read-private',\n\t\t'user-read-currently-playing',\n\t\t'user-modify-playback-state',\n\t\t'user-top-read'\n\t\t// 'user-read-birthdate'\n\t\t// 'user-read-email',\n\t\t// 'user-library-read,\n\t\t// 'user-library-modify'\n\t].join(' ');\n\tvar url = `https://accounts.spotify.com/authorize?client_id=${client_id}&redirect_uri=${redirect_uri}&scope=${scope}&response_type=${response_type}`;\n\twindow.location = url;\n};\n\nexport const playSong = (song, spotify) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\tlet data = `{\"uris\": ${song}}`;\n\treturn spotify.PUTBodyParamter(url, data, 'Play specific song');\n};\n\nexport const SpotifyLogout = () => {\n\tconst url = 'https://www.spotify.com/logout/';\n\tconst spotifyLogoutWindow = window.open(\n\t\turl,\n\t\t'Spotify Logout',\n\t\t'width=700,height=500,top=40,left=40'\n\t);\n\tsetTimeout(() => spotifyLogoutWindow.close(), 3000);\n};\n//!! All of these functions can be moved inside of the class as methods.\n//!! Instead of having to use spotify as a param we can target it using 'this'.\n\nexport const getAlbum = (id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/albums/${id}`;\n\treturn spotify.GET(url, 'got albums');\n};\n\nexport const getAlbumTracks = (id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/albums/${id}/tracks?limit=50`;\n\treturn spotify.GET(url, 'got album track list');\n};\n\nexport const getArtist = (id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}`;\n\treturn spotify.GET(url, 'got artists');\n};\n\nexport const getArtistAlbums = (id, spotify = null, offset = 0, limit = 50) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}/albums?offset=${offset}&limit=${limit}&country=US`;\n\treturn spotify.GET(url, 'got artist Albums');\n};\n\nexport const getArtistTopTracks = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 50\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}/top-tracks?offset=${offset}&limit=${limit}&country=US`;\n\treturn spotify.GET(url, 'got top tracks by artist');\n};\n\nexport const getArtistRelatedArtists = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/artists/${id}/related-artists?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got related Artists');\n};\n\nexport const getAllByCategory = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/categories/${id}?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got All results by category');\n};\n\nexport const getPlaylistByCategory = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/categories/${id}/playlists?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got playlists by category');\n};\n\nexport const getCategoriesList = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/categories/`;\n\treturn spotify.GET(url, 'got All Categories');\n};\n\nexport const getFeaturedPlaylists = (\n\tid,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 100\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/featured-playlists?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got Featured Playlists');\n};\n\nexport const getNewReleases = (spotify = null, offset = 0, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/new-releases?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got New Releases');\n};\n\nexport const getRecommendations = (spotify = null, offset = 0, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/browse/recommendations?offset=${offset}&limit=${limit}`;\n\treturn spotify.GET(url, 'got recommendations');\n};\n\nexport const getFollowedArtists = (spotify = null, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following?type=artist&limit=${limit}`;\n\treturn spotify.GET(url, 'got Followed Artists');\n};\n\nexport const isFollowingUser = (type, ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following/contains?type=${type}&ids=${ids}`;\n\treturn spotify.GET(url, 'got if you are following user');\n};\n\nexport const isFollowingPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/contains`;\n\treturn spotify.GET(url, 'got if you are following playlist');\n};\n\nexport const followArtist = (type, ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\treturn spotify.PUT(url, 'PUT Followed New Artist');\n};\n\nexport const followPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\treturn spotify.PUT(url, 'PUT Followed New Artist');\n};\n\nexport const UnfollowArtist = (type, ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\treturn spotify.DELETE(url, 'DELETE Artist Removed');\n};\n\nexport const UnfollowPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\treturn spotify.DELETE(url, 'DELETE Playlist Removed');\n};\n\nexport const AlbumIsLiked = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums/contains?ids=${ids}`;\n\treturn spotify.GET(url, 'Boolean Album is Saved');\n};\n\nexport const TrackIsLiked = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks/contains?ids=${ids}`;\n\treturn spotify.GET(url, 'Boolean Track is Saved');\n};\n\nexport const getLikedAlbums = (spotify = null, offset = 0, limit = 50) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'get all liked albums');\n};\n\nexport const getLikedTracks = (spotify = null, offset = 0, limit = 50) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks?limit=${limit}&offset=${offset}&market=US`;\n\treturn spotify.GET(url, 'get all liked Songs');\n};\n\nexport const DeleteAlbum = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\treturn spotify.DELETE(url, 'Delete Album');\n};\n\nexport const DeleteSong = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\treturn spotify.DELETE(url, 'Delete Song');\n};\n\nexport const AddSong = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\treturn spotify.PUT(url, 'ADD Song');\n};\n\nexport const AddAlbum = (ids, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\treturn spotify.PUT(url, 'ADD Album');\n};\n\nexport const getPersonalizedTopTracks = (\n\ttype,\n\tspotify = null,\n\toffset = 0,\n\tlimit = 50\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/top/${type}`;\n\treturn spotify.GET(url, 'got personalized top tracks');\n};\n\nexport const getAllDevices = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/devices`;\n\treturn spotify.GET(url, 'got Devices');\n};\n\nexport const getPlayer = (device = null, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player?device=${device}&market=US`;\n\treturn spotify.GET(url, 'got Player');\n};\n\nexport const getRecentlyPlayed = (spotify = null, limit = 100) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/recently-played?limit=${limit}`;\n\treturn spotify.GET(url, 'got recently played tracks');\n};\n\nexport const getCurrentlyPlaying = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/currently-playing`;\n\treturn spotify.GET(url, 'got Player');\n};\n\nexport const StopPlayer = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/pause`;\n\treturn spotify.PUT(url, 'Put Player Paused');\n};\n\nexport const ResumePlayer = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\treturn spotify.PUT(url, 'Put Player Resume');\n};\n\nexport const EnableRepeatMode = (spotify = null, context = 'track') => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/repeat?state=${context}`;\n\treturn spotify.PUT(url, 'Put Song/Album/Playlist on repeat');\n};\n\nexport const EnableShuffleMode = (spotify = null, shuffle = 'true') => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/shuffle?state=${shuffle}`;\n\treturn spotify.PUT(url, 'Shuffle songs true/false');\n};\n\nexport const ChangeVolume = (volume, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/volume?volume_percent=${volume}`;\n\treturn spotify.PUT(url, 'Put Volume Changed');\n};\n\nexport const PlayNext = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/next`;\n\treturn spotify.POST(url, 'Post Play Next Song');\n};\n\nexport const PlayPrevious = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/previous`;\n\treturn spotify.POST(url, 'Post Play Previous Song');\n};\n\nexport const RestartSong = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player/seek?position_ms=1000`;\n\treturn spotify.PUT(url, 'Start song over');\n};\n\nexport const TransferPlayback = (device_id, play = true, spotify) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/player`;\n\tlet data = { device_ids: [device_id], play: true };\n\treturn spotify.PUTBodyParamter(url, data, 'Transfer Playback');\n};\n\nexport const getMyProfile = (spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me`;\n\treturn spotify.GET(url, 'got my profile');\n};\n\nexport const getUserProfile = (user_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/users/${user_id}`;\n\treturn spotify.GET(url, 'got user profile');\n};\n\nexport const getTrack = (track_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/tracks/${track_id}`;\n\treturn spotify.GET(url, 'got track by id');\n};\n\nexport const Search = (query, type, limit = 50, offset = 0, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tquery = query.replace(' ', '%20') + '*';\n\tlet url = `https://api.spotify.com/v1/search?q=${query}&type=${type}&q=${query}&limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Search Spotify');\n};\n\nexport const AddSongToPlaylist = (\n\tplaylist_id,\n\turis,\n\tposition = null,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tposition = position !== null ? `&position=${position}` : '';\n\tlet url =\n\t\t`https://api.spotify.com/v1/playlists/${playlist_id}/tracks?uris=${uris}` +\n\t\tposition;\n\treturn spotify.POST(url, 'Post Add song to playlist');\n};\n\nexport const ChangePlayListDetails = (\n\tplaylist_id,\n\tname,\n\tcollaborative = null,\n\tdescription = null,\n\tIspublic = null,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\tdescription = description !== null ? `&description=${description}` : '';\n\tcollaborative =\n\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\tlet url =\n\t\t`https://api.spotify.com/v1/playlists/${playlist_id}?=${name}` +\n\t\tIspublic +\n\t\tdescription +\n\t\tcollaborative;\n\treturn spotify.POST(url, 'Update playlist details');\n};\n\nexport const CreatePlaylist = (\n\tuser_id,\n\tname,\n\tcollaborative = null,\n\tdescription = null,\n\tIspublic = null,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\tdescription = description !== null ? `&description=${description}` : '';\n\tcollaborative =\n\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\tlet url =\n\t\t`https://api.spotify.com/v1/users/${user_id}/playlists?name=${name}` +\n\t\tIspublic +\n\t\tdescription +\n\t\tcollaborative;\n\treturn spotify.POST(url, 'Create new Playlist');\n};\n\nexport const GetMyPlaylists = (limit = 50, offset = 0, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/me/playlists?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Get All my Playlists');\n};\n\nexport const GetUsersPlaylists = (\n\tuser_id,\n\tlimit = 100,\n\toffset = 0,\n\tspotify = null\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/users/${user_id}/playlists?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Get Users Playlists');\n};\n\nexport const GetPlaylistCover = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/images`;\n\treturn spotify.GET(url, 'Get Playlist Banner');\n};\n\nexport const GetPlaylist = (playlist_id, spotify = null) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}`;\n\treturn spotify.GET(url, 'Get Playlist');\n};\n\nexport const GetPlaylistTracks = (\n\tplaylist_id,\n\tspotify = null,\n\tlimit = 100,\n\toffset = 0\n) => {\n\tspotify =\n\t\tspotify == null ? new Spotify(localStorage.getItem('token')) : spotify;\n\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/tracks?limit=${limit}&offset=${offset}`;\n\treturn spotify.GET(url, 'Get Playlist Tracks');\n};\n\n/* \nexport const DeleteSongFromPlaylist = (ids, spotify=null) => {\n    spotify = (spotify==null) ? new Spotify(localStorage.getItem('token')): spotify\n    let url = `https://api.spotify.com/v1/playlists/{playlist_id}/tracks?ids=${ids}`\n    return spotify.DELETE(url, 'Delete Song')\n}\n */\n\nexport class Spotify {\n\tconstructor(token) {\n\t\tthis.token = token;\n\t}\n\n\tGET = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response.data;\n\t};\n\n\tPOST = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUT = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tDELETE = async (url, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'DELETE',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUTBodyParamter = async (url, data, successMsg) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\n\nimport { getSongSeconds } from '../../utilityFunctions/util.js';\n\nconst PrettoSlider = withStyles({\n\troot: {\n\t\tcolor: 'green',\n\t\theight: 4,\n\t\twidth: '50vw'\n\t},\n\tthumb: {\n\t\theight: 15,\n\t\twidth: 15,\n\t\tbackgroundColor: 'white',\n\t\tcolor: 'red',\n\t\tborder: '2px solid white',\n\t\tmarginTop: -6,\n\t\tmarginLeft: -5,\n\t\t'&:focus,&:hover,&$active': {\n\t\t\tboxShadow: 'inherit'\n\t\t}\n\t},\n\tactive: {},\n\tvalueLabel: {\n\t\tbackgroundColor: 'transparent',\n\t\tcolor: 'transparent',\n\t\tleft: 'calc(-50% + 6px)',\n\t\tmarginTop: 10\n\t},\n\ttrack: {\n\t\theight: 4,\n\t\twidth: '47vw',\n\t\tborderRadius: 4\n\t},\n\trail: {\n\t\theight: 4,\n\t\twidth: '47vw',\n\t\tborderRadius: 4\n\t}\n})(Slider);\n\nexport default function ProgressSlider({\n\tmax,\n\tcurrent,\n\tcolor,\n\tChangeTime,\n\thandleTimeChange,\n\theight\n}) {\n\tlet currentTime = getSongSeconds(current);\n\tlet totalTime = getSongSeconds(max);\n\tif (currentTime === 'NaN:NaN') {\n\t\tcurrentTime = `00:00`;\n\t\ttotalTime = `00:00`;\n\t}\n\n\treturn (\n\t\t<div className='slider-holder'>\n\t\t\t<div className='label current-label'>\n\t\t\t\t<p>{currentTime}</p>\n\t\t\t</div>\n\t\t\t<PrettoSlider\n\t\t\t\tonChange={ChangeTime}\n\t\t\t\twidth={'100vw'}\n\t\t\t\tonChangeCommitted={({ value }) => handleTimeChange(value)}\n\t\t\t\tgetAriaValueText={() => {\n\t\t\t\t\treturn currentTime;\n\t\t\t\t}}\n\t\t\t\tgetAriaLabel={() => {\n\t\t\t\t\treturn currentTime;\n\t\t\t\t}}\n\t\t\t\tvalueLabelDisplay='off'\n\t\t\t\tvalueLabelFormat={() => {\n\t\t\t\t\treturn currentTime;\n\t\t\t\t}}\n\t\t\t\taria-label='song-slider'\n\t\t\t\tstyle={{ color: color }}\n\t\t\t\tvalue={current}\n\t\t\t\tmax={max}\n\t\t\t\tmin={0}\n\t\t\t\tdefaultValue={current}\n\t\t\t\tclassName='slider-guy'\n\t\t\t/>\n\t\t\t<div className='label song-length'>\n\t\t\t\t<p>{totalTime}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { withStyles,  } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\n\n\nimport VolumeUpRoundedIcon from '@material-ui/icons/VolumeUpRounded';\nimport VolumeOffRoundedIcon from '@material-ui/icons/VolumeOffRounded';\n\nconst PrettoSlider = withStyles({\n    root: {\n      color: 'green',\n      height: 4,\n      width: '5vw',\n    },\n    thumb: {\n      height: 15,\n      width: 15,\n      backgroundColor: 'white',\n      color: 'red',\n      border: '2px solid white',\n      marginTop: -6,\n      marginLeft: -5,\n      '&:focus,&:hover,&$active': {\n        boxShadow: 'inherit',\n      },\n    },\n    active: {},\n    valueLabel: {\n        backgroundColor: 'transparent',\n        color: 'transparent',\n      left: 'calc(-50% + 6px)',\n      marginTop: 10,\n    },\n    track: {\n      height: 4,\n      width: '5vw',\n      borderRadius: 4,\n    },\n    rail: {\n      height: 4,\n      width: '5vw',\n      borderRadius: 4,\n    },\n  })(Slider);\n\n\n\nlet VolumeOn = ({ Muted, onClick, color }) => {\n\tlet iconStyle = { fontSize: '1.6em', color: color, marginBottom: '-.1em'};\n\treturn Muted ? (\n\t\t<VolumeOffRoundedIcon onClick={onClick} style={iconStyle} />\n\t) : (\n\t\t<VolumeUpRoundedIcon onClick={onClick} style={iconStyle} />\n\t);\n};\n  \n\n  export default function SoundSlider( {toggleSound, muted, current, handleVolumeChange, height, ChangeVolume}) {\n      let color = 'rgba(255,255,255, 0.8)';\n      let orientation ='horizontal'\n      let display = 'on'\n      if (muted) {\n        current = 0;\n        display = 'off'\n      }\n      if (height < 1000) {\n        orientation = 'vertical'\n      } \n    return (\n        <div className=\"volume-slider\">\n             <div className='play-holder vol-holder'>\n                <VolumeOn\n                    color={color}\n                    onClick={() => toggleSound()}\n                    Muted={muted}\n                />\n            </div>\n            <PrettoSlider\n                onChange={ChangeVolume}\n                onChangeCommitted={({value}) => handleVolumeChange(value)}\n                getAriaValueText={() => { return current}}\n                getAriaLabel={() => {return current}}\n                valueLabelDisplay={display} \n                valueLabelFormat={() => {return current}}\n                aria-label=\"volume-slider\" \n                orientation={orientation}\n                style={{color: color}}value={current}\n                max={100}\n                min={0}\n                defaultValue={current} \n                className=\"slider-guy\"\n                disabled={muted}\n                />\n        </div>\n    );\n  }","import ApolloClient from 'apollo-boost';\nimport { gql } from 'apollo-boost';\nconst client = new ApolloClient({\n\turi: '/graphql'\n});\n\nexport const GET_ROOM = gql`\n\tquery getRoom($id: Int!) {\n\t\tgetRoom(id: $id) {\n\t\t\troomName\n\t\t\thost {\n\t\t\t\tusername\n\t\t\t\tid\n\t\t\t}\n\t\t\tmessages {\n\t\t\t\tuser {\n\t\t\t\t\tusername\n\t\t\t\t}\n\t\t\t\tmessage\n\t\t\t}\n\t\t\tlikes {\n\t\t\t\troom {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tuser {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tspotifyId\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const GET_ALL_ROOMS = gql`\n\tquery getAllRooms {\n\t\tgetAllRooms {\n\t\t\tid\n\t\t\troomName\n\t\t\thost {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\n// *** Mutations\n\nexport const CREATE_LIKE = gql`\n\tmutation createLike($userId: Int!, $roomId: Int!, $spotifyId: String!) {\n\t\tcreateLike(userId: $userId, roomId: $roomId, spotifyId: $spotifyId) {\n\t\t\troom {\n\t\t\t\tlikes {\n\t\t\t\t\tuser {\n\t\t\t\t\t\tusername\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\nexport const CREATE_ROOM = gql`\n\tmutation createRoom($hostId: Int!, $roomName: String!) {\n\t\tcreateRoom(hostId: $hostId, roomName: $roomName) {\n\t\t\tid\n\t\t\thost {\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport default client;\n","import React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { CREATE_ROOM } from '../../Apollo';\nimport { LiveTvRounded } from '@material-ui/icons';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nfunction CreateRoomButton({\n\tuserId,\n\tactive,\n\tplaylist,\n\trooms,\n\tspotifyData,\n\tResetQueue,\n\thistory,\n\ttoggleQ\n}) {\n\tconst [createRoom] = useMutation(CREATE_ROOM);\n\tconst { player } = spotifyData;\n\tconst addPlaylistToQueue = (playlistId, roomId) => {\n\t\tplayer.GetPlaylistTracks(playlistId).then(res => {\n\t\t\tconst uris = res.items.map(e => {\n\t\t\t\treturn e.track.uri;\n\t\t\t});\n\t\t\tconst newQueue = res.items.map((track, idx) => {\n\t\t\t\tif ('track' in track) {\n\t\t\t\t\ttrack = track.track;\n\t\t\t\t}\n\t\t\t\ttrack.order = idx;\n\t\t\t\treturn track;\n\t\t\t});\n\t\t\tplayer.playSong(JSON.stringify(uris)).then(() => {\n\t\t\t\tResetQueue(newQueue);\n\t\t\t\thistory.push('/room/' + roomId);\n\t\t\t});\n\t\t});\n\t};\n\tconst handleClick = () => {\n\t\tdebugger;\n\t\tconst roomsArray = rooms.map(e => ({\n\t\t\tid: Number(e.id),\n\t\t\thostId: e.host.id,\n\t\t\troomName: e.roomName\n\t\t}));\n\t\tconst newRoom = { hostId: userId, roomName: playlist.name };\n\t\tconst idx = roomsArray.findIndex(\n\t\t\te =>\n\t\t\t\tNumber(e.hostId) === newRoom.hostId && e.roomName === newRoom.roomName\n\t\t);\n\t\ttoggleQ();\n\t\tif (idx > -1) {\n\t\t\tconst roomId = roomsArray[idx].id;\n\t\t\treturn addPlaylistToQueue(playlist.id, roomId);\n\t\t} else {\n\t\t\treturn createRoom({\n\t\t\t\tvariables: { hostId: userId, roomName: playlist.name }\n\t\t\t}).then(({ data }) => {\n\t\t\t\tdebugger;\n\t\t\t\tconst { id: roomId } = data.createRoom;\n\t\t\t\taddPlaylistToQueue(playlist.id, roomId);\n\t\t\t});\n\t\t}\n\t};\n\treturn (\n\t\t<div\n\t\t\tclassName='start-station=btn'\n\t\t\tstyle={{\n\t\t\t\tdisplay: active ? 'flex' : 'none',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\talignItems: 'center'\n\t\t\t}}\n\t\t\tonClick={handleClick}>\n\t\t\t<LiveTvRounded style={{ fontSize: '1.5em' }} />\n\t\t\tStart Station\n\t\t</div>\n\t);\n}\n\nconst mapState = state => {\n\treturn { ...state };\n};\nconst mapDispatch = dispatch => {\n\treturn {\n\t\tResetQueue: payload => {\n\t\t\tdispatch({ type: 'RESET_PLAYER_QUEUE', payload });\n\t\t}\n\t};\n};\n\nexport default connect(\n\tmapState,\n\tmapDispatch\n)(withRouter(CreateRoomButton));\n","import React from 'react';\nimport '../../App.css';\nimport {\n\tPlayArrowRounded,\n\tPauseRounded,\n\tThumbUpRounded\n} from '@material-ui/icons';\n\nlet Song = ({\n\tsong,\n\tidx,\n\thandleClick,\n\tactive,\n\tisPlaying,\n\tsearchState,\n\tlikes,\n\tshowLikes,\n\tcreateLike\n}) => {\n\tlet hoverClass = active ? 'song-hover-state active' : 'song-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRounded style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRounded style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet artist = <h5>{song.artists[0].name}</h5>;\n\tlet image =\n\t\tsong.album !== undefined && song.album.images.length > 0\n\t\t\t? song.album.images[1].url\n\t\t\t: 'https://via.placeholder.com/150';\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='song-block'>\n\t\t\t<div style={backgroundStyle} className='song-img-item'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(song.id, active)}>\n\t\t\t\t\t<div className='song-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-description'>\n\t\t\t\t<h3>{song.name}</h3>\n\t\t\t\t<div className='featured-artists'>{artist}</div>\n\t\t\t</div>\n\t\t\t{showLikes && (\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\talignSelf: 'center',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'flex-end',\n\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\tpadding: 5\n\t\t\t\t\t}}>\n\t\t\t\t\t{likes > 0 && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\tfontSize: '1.5rem',\n\t\t\t\t\t\t\t\tcolor: 'white'\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{likes}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<ThumbUpRounded\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: '#28a745',\n\t\t\t\t\t\t\tfontSize: '1.8em',\n\t\t\t\t\t\t\tmarginLeft: '2px',\n\t\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={createLike}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Song;\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\nimport CreateRoombutton from './CreateRoomButton';\nimport { getColor } from '../../utilityFunctions/util.js';\nimport Song from '../../Components/Blocks/songshort';\n\nclass Playlist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttracks: [],\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'red',\n\t\t\t\tLightVibrant: 'green',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t}\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tsetActive = () => {\n\t\tif (this.state.tracks.length === 0) {\n\t\t\tthis.props.getPlaylistTracks(this.props.playlist.id).then(data => {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tactive: !this.state.active,\n\t\t\t\t\ttracks: data.items\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tactive: !this.state.active\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount = () => {\n\t\tthis.setColor(this.props.playlist.images[0].url);\n\t};\n\n\thandleClick = (id, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.track.id === id);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.track.order = idx;\n\t\t\t\t\ttrack.track.album = {\n\t\t\t\t\t\timages: track.track.album.images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tthis.props.playSong(uris);\n\t\t} else if ((active, this.props.isPlaying === false)) {\n\t\t\tthis.props.player.ResumePlayer();\n\t\t} else {\n\t\t\tthis.props.player.StopPlayer();\n\t\t}\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\tlet active = this.props.currentURI === track.track.uri ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\thandleClick={this.handleClick}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.props.isPlaying}\n\t\t\t\t\tsong={track.track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t\tkey={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender = () => {\n\t\tlet bodyStyle = { height: '0em', background: 'rgba(0,0,0, 0)' };\n\t\tif (this.state.active) {\n\t\t\tbodyStyle = { height: '', background: 'rgba(0,0,0, 0.7)' };\n\t\t}\n\t\tlet tracks = this.buildTracks();\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n                ${this.state.colors.DarkMuted})`\n\t\t};\n\t\treturn (\n\t\t\t<div className='playlist-section' style={containerStyle}>\n\t\t\t\t<CreateRoombutton\n\t\t\t\t\tuserId={this.props.userId}\n\t\t\t\t\tactive={this.state.active}\n\t\t\t\t\tplaylist={this.props.playlist}\n\t\t\t\t\trooms={this.props.rooms}\n\t\t\t\t\ttoggleQ={this.props.toggleQ}\n\t\t\t\t/>\n\t\t\t\t<div className='queue-block' onClick={() => this.setActive()}>\n\t\t\t\t\t<div className='cover'>\n\t\t\t\t\t\t<h1>{this.props.playlist.name}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='playlist-body' style={bodyStyle}>\n\t\t\t\t\t{tracks}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nexport default Playlist;\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\nimport { withRouter } from 'react-router-dom';\nimport { getColor } from '../../utilityFunctions/util.js';\nclass Station extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'red',\n\t\t\t\tLightVibrant: 'green',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t}\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\tconsole.log(colors);\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tsetActive = () => {\n\t\tthis.setState({\n\t\t\tactive: !this.state.active\n\t\t});\n\t\tthis.props.history.push('/room/' + this.props.roomId);\n\t};\n\tcomponentDidMount = () => {\n\t\tthis.setColor(this.props.image);\n\t};\n\n\trender = () => {\n\t\tlet bodyStyle = { height: '0em', background: 'rgba(0,0,0, 0)' };\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n\t\t\t\t${this.state.colors.DarkMuted})`,\n\t\t\tborder: this.props.isHost && '1px solid red'\n\t\t};\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={containerStyle}\n\t\t\t\tclassName='playlist-section'\n\t\t\t\tonClick={() => this.setActive()}>\n\t\t\t\t<div className='queue-block' onClick={() => this.setActive()}>\n\t\t\t\t\t<div className='cover'>\n\t\t\t\t\t\t<h1>{this.props.roomName}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='playlist-body' style={bodyStyle}></div>\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nexport default withRouter(Station);\n","import React from 'react';\nimport QueueMusicIcon from '@material-ui/icons/QueueMusic';\nimport { connect } from 'react-redux';\nimport Playlist from './playlist';\nimport Song from '../../Components/Blocks/songshort';\nimport Station from './station.js';\nimport { withApollo } from 'react-apollo';\nimport { GET_ALL_ROOMS } from '../../Apollo/index';\n\nconst querySubcribe = client => {\n\treturn client.watchQuery({\n\t\tquery: GET_ALL_ROOMS,\n\t\tfetchPolicy: 'cache-and-network',\n\t\tpollInterval: 2500\n\t});\n};\nlet QueueFilter = ({ name, isActive, onClick, color }) => {\n\tlet className = isActive === name ? 'active' : '';\n\tlet border = isActive === name ? { borderBottom: `2px solid ${color}` } : {};\n\treturn (\n\t\t<li style={border} onClick={() => onClick(name)} className={className}>\n\t\t\t{name}\n\t\t</li>\n\t);\n};\n\nclass Queue extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactiveFilter: 'Queue',\n\t\t\tcolor: this.props.color,\n\t\t\tisActive: this.props.isActive,\n\t\t\ttoggleQ: this.props.toggleQ,\n\t\t\trooms: []\n\t\t};\n\t\tthis.setSearchFilter = this.setSearchFilter.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tquerySubcribe(this.props.client).subscribe({\n\t\t\tnext: ({ data }) => {\n\t\t\t\tif (data !== undefined) {\n\t\t\t\t\tconst { getAllRooms: rooms } = data;\n\t\t\t\t\tthis.setState({ rooms });\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: e => console.error(e)\n\t\t});\n\t}\n\tsetSearchFilter = name => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tactiveFilter: name\n\t\t});\n\t};\n\n\tgetFilterItems = () => {\n\t\tlet searchFilters = ['Queue', 'Playlists', 'Stations'];\n\t\tlet ListItems = [];\n\t\tsearchFilters.forEach((name, idx) => {\n\t\t\tListItems.push(\n\t\t\t\t<QueueFilter\n\t\t\t\t\tkey={`queue-filter-${idx}`}\n\t\t\t\t\tonClick={this.setSearchFilter}\n\t\t\t\t\tname={name}\n\t\t\t\t\tisActive={this.state.activeFilter}\n\t\t\t\t\tcolor={this.props.color}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn ListItems;\n\t};\n\n\thandleClick = (id, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.props.player.queue.findIndex(track => {\n\t\t\t\tif ('track' in track) {\n\t\t\t\t\ttrack = track.track;\n\t\t\t\t}\n\t\t\t\treturn track.id === id;\n\t\t\t});\n\t\t\tlet currentSongs = this.props.player.queue\n\t\t\t\t.slice(index, this.props.player.queue.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\tif ('track' in track) {\n\t\t\t\t\t\ttrack = track.track;\n\t\t\t\t\t}\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.props.player.queue\n\t\t\t\t.slice(index, this.props.player.queue.length)\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\tif ('track' in track) {\n\t\t\t\t\t\ttrack = track.track;\n\t\t\t\t\t}\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\timages: track.album.images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet uris = JSON.stringify([...currentSongs]);\n\t\t\tthis.props.playSong(uris);\n\t\t} else if ((active, this.props.isPlaying === false)) {\n\t\t\tthis.props.spotifyData.player.ResumePlayer();\n\t\t} else {\n\t\t\tthis.props.spotifyData.player.StopPlayer();\n\t\t}\n\t};\n\n\trenderPlaylists = () => {\n\t\tlet playlists = [];\n\t\tif (this.props.playlists !== undefined) {\n\t\t\tthis.props.playlists.forEach((playlist, idx) => {\n\t\t\t\tplaylists.push(\n\t\t\t\t\t<Playlist\n\t\t\t\t\t\tplayer={this.props.spotifyData.player}\n\t\t\t\t\t\tplaylist={playlist}\n\t\t\t\t\t\tisPlaying={this.props.isPlaying}\n\t\t\t\t\t\tcurrentURI={this.props.currentURI}\n\t\t\t\t\t\tid={idx}\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tuserId={this.props.user.id}\n\t\t\t\t\t\tplaySong={this.props.playSong}\n\t\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\t\tgetPlaylistTracks={this.props.getPlaylistTracks}\n\t\t\t\t\t\trooms={this.state.rooms}\n\t\t\t\t\t\ttoggleQ={this.props.toggleQ}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn playlists;\n\t};\n\tbuildStations = () => {\n\t\tconst rooms = this.state.rooms.map((room, i) => {\n\t\t\tlet img =\n\t\t\t\t(this.props.currentSong &&\n\t\t\t\t\tthis.props.currentSong.album.images[0].url) ||\n\t\t\t\t'https://source.unsplash.com/random';\n\t\t\tif (this.props.queue && this.props.queue[i] && this.props.queue.track) {\n\t\t\t\timg = this.props.queue[i].track.album.images[0].url;\n\t\t\t}\n\n\t\t\tconst isHost = this.props.user.id === Number(room.host.id);\n\t\t\treturn (\n\t\t\t\t<Station\n\t\t\t\t\troomId={room.id}\n\t\t\t\t\troomName={room.roomName}\n\t\t\t\t\tkey={i}\n\t\t\t\t\tisHost={isHost ? 1 : 0}\n\t\t\t\t\timage={img}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn rooms;\n\t};\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.props.queue.forEach((track, idx) => {\n\t\t\tif ('track' in track) {\n\t\t\t\ttrack = track.track;\n\t\t\t}\n\t\t\tlet active = this.props.currentURI === track.uri ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\tkey={`que-song-${idx}`}\n\t\t\t\t\tPlaySong={this.props.PlaySong}\n\t\t\t\t\thandleClick={this.handleClick}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.props.isPlaying}\n\t\t\t\t\tsong={track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender() {\n\t\tlet playlists = [];\n\t\tlet tracks = [];\n\t\tlet stations = [];\n\t\tlet queueStyle = {\n\t\t\topacity: this.props.isActive ? 1 : 1,\n\t\t\theight: this.props.isActive ? '' : 0\n\t\t};\n\t\tlet arrowStyle = {\n\t\t\tbackground: this.props.isActive ? '' : 'transparent'\n\t\t};\n\t\tif (this.state.activeFilter === 'Playlists') {\n\t\t\tplaylists = this.renderPlaylists();\n\t\t} else if (this.state.activeFilter === 'Queue') {\n\t\t\ttracks = this.buildTracks();\n\t\t} else if (this.state.activeFilter === 'Stations') {\n\t\t\tstations = this.buildStations();\n\t\t}\n\t\tlet ListItems = this.getFilterItems();\n\t\treturn (\n\t\t\t<div className='queue' style={queueStyle}>\n\t\t\t\t<div className='queue-header' style={queueStyle}>\n\t\t\t\t\t<div className='queue-list' style={queueStyle}>\n\t\t\t\t\t\t<ul>{ListItems}</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='queue-playlist-holder'>\n\t\t\t\t\t{playlists}\n\t\t\t\t\t{tracks}\n\t\t\t\t\t{stations}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName='downward-arrow'\n\t\t\t\t\tstyle={arrowStyle}\n\t\t\t\t\tonClick={() => this.props.toggleQ()}>\n\t\t\t\t\t<QueueMusicIcon\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\tcolor: this.props.color,\n\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapState = state => {\n\treturn { ...state };\n};\nexport default connect(\n\tmapState,\n\tnull\n)(withApollo(Queue));\n","import React from 'react';\nimport '../../footer.css';\nimport { ChangeVolume, getColor } from '../../utilityFunctions/util.js';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport ProgressSlider from './progressSlider.js';\nimport SoundSlider from './soundSlider.js';\nimport Queue from './queue';\nimport {\n\tSwapCallsRounded,\n\tRepeatRounded,\n\tFavoriteRounded,\n\tArrowLeftRounded,\n\tArrowRightRounded,\n\tPauseRounded,\n\tPlayArrowRounded,\n\tMoreHorizRounded,\n\tFavoriteBorderRounded,\n\tSync,\n\tSyncDisabledRounded,\n\tSettingsInputComponentRounded\n} from '@material-ui/icons';\nimport * as Vibrant from 'node-vibrant';\n\nimport Script from 'react-load-script';\n\nlet Alert = ({ colors }) => {\n\tlet backStyle = {\n\t\tbackground: `linear-gradient(45deg, ${colors.vibrant} 15%,  rgba(255,255,255, 1) 70%)`\n\t};\n\treturn (\n\t\t<div className='alert' style={backStyle}>\n\t\t\t<div className='alert-inner'>\n\t\t\t\t<div className='alert-header'>\n\t\t\t\t\t<h2>Sucess Song Added to Likes</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nasync function waitForSpotifyWebPlaybackSDKToLoad() {\n\treturn new Promise(resolve => {\n\t\tif (window.Spotify) {\n\t\t\tresolve(window.Spotify);\n\t\t} else {\n\t\t\twindow.onSpotifyWebPlaybackSDKReady = () => {\n\t\t\t\tresolve(window.Spotify);\n\t\t\t};\n\t\t}\n\t});\n}\n\nlet IsPlaying = ({ IsPlaying, color }) => {\n\tlet iconStyle = { fontSize: '2em', color: color };\n\treturn IsPlaying ? (\n\t\t<PauseRounded style={iconStyle} />\n\t) : (\n\t\t<PlayArrowRounded style={iconStyle} />\n\t);\n};\n\nlet LikeTrack = ({ liked, onClick, color }) => {\n\tlet iconStyle = { fontSize: '1.6em', paddingRight: '5%', color: color };\n\treturn liked ? (\n\t\t<FavoriteRounded onClick={onClick} style={iconStyle} />\n\t) : (\n\t\t<FavoriteBorderRounded onClick={onClick} style={iconStyle} />\n\t);\n};\n\nclass Footer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\theight: window.innerWidth,\n\t\t\tcolors: {},\n\t\t\tplaying: this.props.player.isPlaying,\n\t\t\tmuted: false,\n\t\t\tliked: false,\n\t\t\tloaded: false,\n\t\t\tcurrentTime: 0,\n\t\t\tvolume: 100,\n\t\t\tQueueActive: false,\n\t\t\tsongLength: this.props.player.songLength,\n\t\t\tpageOn: false\n\t\t};\n\t\tthis.toggleSound = this.toggleSound.bind(this);\n\t\tthis.toggleLike = this.toggleLike.bind(this);\n\t\tthis.toggleQueue = this.toggleQueue.bind(this);\n\t\tthis.playNext = this.playNext.bind(this);\n\t\tthis.setupSpotifyPlayer = this.setupSpotifyPlayer.bind(this);\n\t\tthis.setTabID = this.setTabID.bind(this);\n\t\tthis.handleScriptMount = this.handleScriptMount.bind(this);\n\t\tthis.startTimer = this.startTimer.bind(this);\n\t\tthis.setColor = this.setColor.bind(this);\n\t\t// *** SOCKET CONNECTION TO SYNC WITH HOST\n\t\tthis.socket = io('/');\n\t\tthis.socket.on('SYNC_PLAYER', data => {\n\t\t\tconst { user } = this.props;\n\t\t\tconst { room } = user;\n\t\t\tif (\n\t\t\t\troom &&\n\t\t\t\tdata.roomId === room.roomId &&\n\t\t\t\tuser.id === Number(data.hostId)\n\t\t\t) {\n\t\t\t\tconst { socketId } = data;\n\t\t\t\tconst hostPlayer = {\n\t\t\t\t\t...this.props.player,\n\t\t\t\t\tcurrentTime: this.state.currentTime\n\t\t\t\t};\n\t\t\t\tsendPlayerState(socketId, hostPlayer);\n\t\t\t}\n\t\t});\n\t\tthis.socket.on('RECEIVE_PLAYER_STATE', data => {\n\t\t\tconst { player: hostPlayer, roomId, socketId } = data;\n\t\t\tif (this.props.user.room && this.props.user.room.subscribed && roomId) {\n\t\t\t\tthis.props.setPlayer(hostPlayer);\n\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t.playSong(JSON.stringify(hostPlayer.queue.map(s => s.uri)))\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t.SeekSong(hostPlayer.currentTime * 1000)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.props.ResetQueue(hostPlayer.queue);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t} else if (this.socket.id === socketId) {\n\t\t\t\tthis.props.setPlayer(hostPlayer);\n\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t.playSong(JSON.stringify(hostPlayer.queue.map(s => s.uri)))\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t.SeekSong(hostPlayer.currentTime * 1000)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.props.ResetQueue(hostPlayer.queue);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tconst sendPlayerState = (socketId, player) => {\n\t\t\tthis.socket.emit('SEND_PLAYER_STATE', { socketId, player });\n\t\t\tif (!socketId) {\n\t\t\t\tthis.socket.emit('SEND_PLAYER_STATE', {\n\t\t\t\t\troomId: this.props.user.room.roomId,\n\t\t\t\t\tplayer\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\tsendStateFromHost = () => {\n\t\tthis.socket.emit('SEND_PLAYER_STATE', {\n\t\t\troomId: this.props.user.room.roomId,\n\t\t\tplayer: this.props.player\n\t\t});\n\t};\n\tupdateDimensions = () => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\theight: window.innerWidth\n\t\t});\n\t};\n\n\tcomponentDidMount = () => {\n\t\twindow.addEventListener('resize', this.updateDimensions.bind(this));\n\t};\n\n\tcomponentWillUnmount = () => {\n\t\twindow.removeEventListener('resize', this.updateDimensions.bind(this));\n\t};\n\trequestPlayerState = socketId => {\n\t\tconsole.log(socketId);\n\t\tconst { user } = this.props;\n\t\tconst { room } = user;\n\t\tdebugger;\n\t\tthis.socket.emit('REQUEST_PLAYER_STATE', {\n\t\t\tsocketId,\n\t\t\troomId: room.roomId,\n\t\t\thostId: room.host.id\n\t\t});\n\t};\n\n\tstartTimer(currentTime = 0) {\n\t\tthis.stopTimer();\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tcurrentTime: currentTime,\n\t\t\ttimer: setInterval(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcurrentTime: this.state.currentTime + 0.25\n\t\t\t\t});\n\t\t\t}, 250)\n\t\t});\n\t}\n\tstopTimer() {\n\t\tclearInterval(this.state.timer);\n\t}\n\tresetTimer() {\n\t\tthis.setState({ ...this.state, currentTime: 0 });\n\t}\n\n\tplayNext(next = true) {\n\t\tconst {\n\t\t\tPlayPrevious,\n\t\t\tgetCurrentlyPlaying,\n\t\t\tRestartSong\n\t\t} = this.props.spotifyData.player;\n\t\tlet action;\n\t\tif (next === false && this.state.currentTime < 4) {\n\t\t\tthis.resetTimer();\n\t\t\taction = PlayPrevious();\n\t\t} else if (next === true) {\n\t\t\tthis.resetTimer();\n\t\t\taction = this.props.spotifyData.player.PlayNext();\n\t\t}\n\t\tif (action !== undefined) {\n\t\t\taction.then(success => {\n\t\t\t\tgetCurrentlyPlaying().then(result => {\n\t\t\t\t\t//this.props.spotifyData.player.PlayNext(result)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tinit: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (this.state.currentTime > 4 && next === false) {\n\t\t\tthis.resetTimer();\n\t\t\tRestartSong();\n\t\t}\n\t}\n\ttoggleQueue = () => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tQueueActive: !this.state.QueueActive\n\t\t});\n\t};\n\n\tChangeVolume = (event, value) => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tvolume: value\n\t\t});\n\t};\n\n\thandleVolumeChange = (event, value) => {\n\t\tChangeVolume(this.state.volume);\n\t};\n\n\tChangeTime = (event, value) => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tcurrentTime: value\n\t\t});\n\t};\n\n\thandleTimeChange = (event, value) => {\n\t\tthis.props.spotifyData.player.SeekSong(this.state.currentTime * 1000);\n\t};\n\n\ttogglePlay = (init = false) => {\n\t\tconst { StopPlayer, ResumePlayer } = this.props.spotifyData.player;\n\t\tthis.props.player.isPlaying ? StopPlayer() : ResumePlayer();\n\t\tthis.props.togglePlay();\n\t};\n\n\ttoggleShuffle = () => {\n\t\tconst { EnableShuffleMode } = this.props.spotifyData.player;\n\t\tEnableShuffleMode(!this.props.player.shuffle);\n\t};\n\n\ttoggleRepeat = () => {\n\t\tconst context = this.props.player.repeat ? 'off' : 'context';\n\t\tconst { EnableRepeatMode } = this.props.spotifyData.player;\n\t\tEnableRepeatMode(context);\n\t};\n\n\ttoggleSound = () => {\n\t\tthis.state.muted ? ChangeVolume(this.state.volume) : ChangeVolume(0);\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tmuted: !this.state.muted\n\t\t});\n\t};\n\ttoggleLike = () => {\n\t\tlet {\n\t\t\tAddSong,\n\t\t\tgetCurrentlyPlaying,\n\t\t\tDeleteSong\n\t\t} = this.props.spotifyData.player;\n\t\tgetCurrentlyPlaying();\n\t\tlet NewLike = this.state.liked ? false : true;\n\t\t!this.state.liked\n\t\t\t? AddSong([this.props.player.currentSongId]).then(result => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tNewLike: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 2500);\n\t\t\t  })\n\t\t\t: DeleteSong([this.props.player.currentSongId]);\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tliked: !this.state.liked,\n\t\t\tNewLike: NewLike\n\t\t});\n\t};\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener(\n\t\t\t'load',\n\t\t\tfunction() {\n\t\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\t\t//console.error(err)\n\t\t\t\t\tlet color = getColor(palette, 'Vibrant');\n\t\t\t\t\tlet colors = {\n\t\t\t\t\t\tvibrant: color,\n\t\t\t\t\t\tdarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\t\tdarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\t\tlightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\t\tmuted: getColor(palette, 'Muted')\n\t\t\t\t\t};\n\t\t\t\t\tthis.props.SetColors(colors);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tVibrant: color,\n\t\t\t\t\t\tcolors: colors\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}.bind(this)\n\t\t);\n\t};\n\n\thandleScriptMount() {\n\t\t(async () => {\n\t\t\tawait waitForSpotifyWebPlaybackSDKToLoad();\n\t\t\tthis.setupSpotifyPlayer();\n\t\t})();\n\t}\n\n\tsetupSpotifyPlayer() {\n\t\tlet { TransferPlayback, getTrack } = this.props.spotifyData.player;\n\t\tconst token = this.props.spotifyData.userToken;\n\t\tthis.setTabID();\n\t\tconst player = new window.Spotify.Player({\n\t\t\tname: `Sound Good Music ${Math.floor(Math.random() * 10)}`,\n\t\t\tgetOAuthToken: cb => {\n\t\t\t\tcb(token);\n\t\t\t}\n\t\t});\n\t\tplayer.addListener('player_state_changed', state => {\n\t\t\tconsole.debug('new state', state);\n\n\t\t\tlet action = state === null ? window.close() : null;\n\t\t\tif (\n\t\t\t\taction === null &&\n\t\t\t\tthis.props.player.songImg !==\n\t\t\t\t\tstate.track_window.current_track.album.images[2].url\n\t\t\t) {\n\t\t\t\tgetTrack(state.track_window.current_track.id).then(result => {\n\t\t\t\t\tdocument.title = `${state.track_window.current_track.name} · ${result.artists[0].name}`;\n\t\t\t\t\tthis.props.playerSetArtistID({\n\t\t\t\t\t\talbumId: result.album.id,\n\t\t\t\t\t\tartistId: result.artists[0].id\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.setColor(state.track_window.current_track.album.images[2].url);\n\t\t\t}\n\t\t\tif (action === null) {\n\t\t\t\t!state.paused\n\t\t\t\t\t? this.startTimer(state.position / 1000)\n\t\t\t\t\t: this.stopTimer();\n\t\t\t\tthis.props.playerStateChange(state);\n\t\t\t}\n\t\t});\n\t\tplayer.addListener('ready', ({ device_id }) => {\n\t\t\tconsole.debug('Ready with Device ID', device_id);\n\t\t\tTransferPlayback(device_id).then(data => {\n\t\t\t\tthis.props.spotifyData.player.ResumePlayer();\n\t\t\t});\n\t\t});\n\t\tplayer.addListener('not_ready', ({ device_id }) => {\n\t\t\tconsole.debug('Device ID has gone offline', device_id);\n\t\t});\n\t\tplayer.on('initialization_error', ({ message }) => {\n\t\t\tconsole.debug('Failed to initialize', message);\n\t\t});\n\t\twindow.addEventListener('storage', () => {\n\t\t\tthis.state.currentTab !== localStorage.getItem('tabID') &&\n\t\t\t\tplayer.disconnect().then(() => window.close());\n\t\t});\n\t\tplayer.connect().then(() => {\n\t\t\tplayer.resume();\n\t\t});\n\t\tplayer.setName(`Sound Good Music ${Math.floor(Math.random() * 10)}`);\n\t\tthis.props.spotifyData.player.GetMyPlaylists().then(data => {\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tplaylists: data.items\n\t\t\t});\n\t\t});\n\t}\n\n\tsetTabID = () => {\n\t\tvar iPageTabID = sessionStorage.getItem('tabID');\n\t\tif (iPageTabID === null) {\n\t\t\tvar iLocalTabID = localStorage.getItem('tabID');\n\t\t\tiPageTabID = iLocalTabID == null ? 1 : Number(iLocalTabID) + 1;\n\t\t\tlocalStorage.setItem('tabID', iPageTabID);\n\t\t\tsessionStorage.setItem('tabID', iPageTabID);\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tcurrentTab: iPageTabID\n\t\t\t});\n\t\t}\n\t};\n\n\tupdatePageOn = pageOn => {\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tpageOn: pageOn\n\t\t});\n\t};\n\n\trender() {\n\t\tvar item = ['album', 'artist', 'playlist'];\n\t\tvar location = this.props.location.pathname.split('/')[1];\n\t\tlet status = item.indexOf(location) > -1 ? true : false;\n\t\tstatus !== this.state.pageOn && this.updatePageOn(status);\n\t\tlet scriptTag = [];\n\t\tif (window.Spotify === undefined) {\n\t\t\tscriptTag = [\n\t\t\t\t<Script\n\t\t\t\t\tkey={1}\n\t\t\t\t\turl='https://sdk.scdn.co/spotify-player.js'\n\t\t\t\t\tonLoad={this.handleScriptMount}\n\t\t\t\t/>\n\t\t\t];\n\t\t}\n\t\t//let footerStyle = {backgroundImage: `url(${this.state.songImg})`,  backgroundSize: 'cover'}\n\t\tlet iconStyle = { fontSize: '4em' };\n\t\tlet alert = this.state.NewLike ? (\n\t\t\t<Alert\n\t\t\t\timg={this.props.player.songImg}\n\t\t\t\tcolor={\n\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t}\n\t\t\t\tsongName={this.props.player.songName}\n\t\t\t\tartistName={this.props.player.artist}\n\t\t\t\tcolors={this.state.colors}\n\t\t\t/>\n\t\t) : (\n\t\t\t''\n\t\t);\n\t\treturn (\n\t\t\t<div className='footer'>\n\t\t\t\t<Queue\n\t\t\t\t\tcolor={\n\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t}\n\t\t\t\t\tisActive={this.state.QueueActive}\n\t\t\t\t\ttoggleQ={this.toggleQueue}\n\t\t\t\t\tplaylists={this.state.playlists}\n\t\t\t\t\tqueue={this.props.player.queue}\n\t\t\t\t\tcurrentURI={this.props.player.currentSong.uri}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\tplayer={this.props.spotifyData.player}\n\t\t\t\t\tplaySong={\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t? this.props.spotifyData.player.playSong\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\tgetPlaylistTracks={\n\t\t\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t\t\t? this.props.spotifyData.player.GetPlaylistTracks\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t{alert}\n\t\t\t\t<div className='song-info'>\n\t\t\t\t\t<div className='song-img'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tid='currently-playing'\n\t\t\t\t\t\t\talt='currently playing song'\n\t\t\t\t\t\t\tsrc={this.props.player.songImg}></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='title-holder'>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName='album-link'\n\t\t\t\t\t\t\tto={'/album/' + this.props.player.albumId}>\n\t\t\t\t\t\t\t<h3>{this.props.player.songName}</h3>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName='album-link'\n\t\t\t\t\t\t\tto={{ pathname: '/artist/' + this.props.player.artistId }}>\n\t\t\t\t\t\t\t<h6>{this.props.player.artist}</h6>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='slider-section-container'>\n\t\t\t\t\t<div className='player-section'>\n\t\t\t\t\t\t<div className='like-holder'>\n\t\t\t\t\t\t\t<LikeTrack\n\t\t\t\t\t\t\t\tliked={this.state.liked}\n\t\t\t\t\t\t\t\tonClick={this.toggleLike}\n\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='more-icon'>\n\t\t\t\t\t\t\t<MoreHorizRounded />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='main-play-buttons'>\n\t\t\t\t\t\t\t<div className='swap-icon'>\n\t\t\t\t\t\t\t\t<SwapCallsRounded\n\t\t\t\t\t\t\t\t\tonClick={this.toggleShuffle}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\t\tmarginRight: '1.5em',\n\t\t\t\t\t\t\t\t\t\tcolor: this.props.player.shuffle\n\t\t\t\t\t\t\t\t\t\t\t? this.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t: 'rgba(255,255,255, 0.4)',\n\t\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.shuffle\n\t\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ArrowLeftRounded\n\t\t\t\t\t\t\t\tonClick={() => this.playNext(false)}\n\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t...iconStyle,\n\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\tthis.props.player.previousBtn || this.state.currentTime > 4\n\t\t\t\t\t\t\t\t\t\t\t? 'white'\n\t\t\t\t\t\t\t\t\t\t\t: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\t\t\t\tcursor:\n\t\t\t\t\t\t\t\t\t\tthis.props.player.previousBtn || this.state.currentTime > 4\n\t\t\t\t\t\t\t\t\t\t\t? 'pointer'\n\t\t\t\t\t\t\t\t\t\t\t: 'not-allowed'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='play-holder'\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tborder: '1px solid rgba(255,255,255, 0.4)',\n\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\twidth: '2.15em',\n\t\t\t\t\t\t\t\t\tpadding: '.1em',\n\t\t\t\t\t\t\t\t\theight: '2.15em'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={this.togglePlay}>\n\t\t\t\t\t\t\t\t<IsPlaying\n\t\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\t\tIsPlaying={this.props.player.isPlaying}\n\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ArrowRightRounded\n\t\t\t\t\t\t\t\tonClick={() => this.playNext(true)}\n\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className='repeat-icon'>\n\t\t\t\t\t\t\t\t<RepeatRounded\n\t\t\t\t\t\t\t\t\tonClick={this.toggleRepeat}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\t\t\tcolor: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t\t? this.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t: 'rgba(255,255,255, 0.4)',\n\t\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='action-icon'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='play-holder vol-holder'>\n\t\t\t\t\t\t\t{/* {This checks if the current user is in a room & they are not the host!} */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{scriptTag}\n\t\t\t\t\t<ProgressSlider\n\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t}\n\t\t\t\t\t\tChangeTime={this.ChangeTime}\n\t\t\t\t\t\thandleTimeChange={this.handleTimeChange}\n\t\t\t\t\t\tcurrent={this.state.currentTime}\n\t\t\t\t\t\tmax={this.props.player.songLength}\n\t\t\t\t\t\theight={this.state.height}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='icon-section'>\n\t\t\t\t\t{this.props.user.room &&\n\t\t\t\t\t\t!this.props.user.room.host.isHost &&\n\t\t\t\t\t\t(this.props.user.room.subscribed ? (\n\t\t\t\t\t\t\t<Sync\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.props.setRoom({\n\t\t\t\t\t\t\t\t\t\tsubscribed: !this.props.user.room.subscribed\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthis.requestPlayerState(this.socket.id);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\t\tcolor: this.pageOn\n\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<SyncDisabledRounded\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (this.props.user.room) {\n\t\t\t\t\t\t\t\t\t\tthis.props.setRoom({\n\t\t\t\t\t\t\t\t\t\t\tsubscribed: !this.props.user.room.subscribed\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthis.requestPlayerState(this.socket.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\t\tcolor: this.pageOn\n\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant,\n\t\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t{this.props.user.room && this.props.user.room.host.isHost && (\n\t\t\t\t\t\t<SettingsInputComponentRounded\n\t\t\t\t\t\t\tonClick={this.sendStateFromHost}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: '1.7em',\n\t\t\t\t\t\t\t\tmarginLeft: '1.5em',\n\t\t\t\t\t\t\t\tcolor: this.pageOn\n\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant,\n\t\t\t\t\t\t\t\tborderBottom: this.props.player.repeat\n\t\t\t\t\t\t\t\t\t? `2px solid ${\n\t\t\t\t\t\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t: '2px solid transparent',\n\t\t\t\t\t\t\t\tborderRadius: '50px',\n\t\t\t\t\t\t\t\tboxShadow: '1px 1px 10px 1px rgba(0,0,0, 0.6)'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<SoundSlider\n\t\t\t\t\tcolor={\n\t\t\t\t\t\tthis.pageOn\n\t\t\t\t\t\t\t? this.props.player.secondaryColors.Vibrant\n\t\t\t\t\t\t\t: this.props.player.colors.vibrant\n\t\t\t\t\t}\n\t\t\t\t\tcurrent={this.state.volume}\n\t\t\t\t\ttoggleSound={this.toggleSound}\n\t\t\t\t\tmuted={this.state.muted}\n\t\t\t\t\thandleVolumeChange={this.handleVolumeChange}\n\t\t\t\t\tChangeVolume={this.ChangeVolume}\n\t\t\t\t\theight={this.state.height}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Footer);\n","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport FavoriteRoundedIcon from '@material-ui/icons/FavoriteRounded';\nimport MoreHorizRoundedIcon from '@material-ui/icons/MoreHorizRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\nimport { Link } from 'react-router-dom';\n\nimport { getSongSeconds } from '../../utilityFunctions/util.js';\n\nlet Song = ({ song, idx, handleClick, active, isPlaying, image }) => {\n\tlet hoverClass = active ? 'song-hover-state active' : 'song-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet artist = song.artists.map((artist, ind) => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tkey={`link-album-${ind}`}\n\t\t\t\tclassName='album-link'\n\t\t\t\tto={{ pathname: '/artist/' + artist.id }}>\n\t\t\t\t<h5>{artist.name}</h5>\n\t\t\t</Link>\n\t\t);\n\t});\n\n\tlet explicit = song.explicit ? (\n\t\t<h5 className='explicit-tag'>EXPLICIT</h5>\n\t) : (\n\t\t''\n\t);\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='song-block'>\n\t\t\t<div style={backgroundStyle} className='song-img-item'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(song.uri, active)}>\n\t\t\t\t\t<div className='song-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-description'>\n\t\t\t\t<h3>{song.name}</h3>\n\t\t\t\t<div className='featured-artists'>\n\t\t\t\t\t{explicit}\n\t\t\t\t\t{artist}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-action'>\n\t\t\t\t<FavoriteRoundedIcon />\n\t\t\t\t<MoreHorizRoundedIcon />\n\t\t\t</div>\n\t\t\t<div className='song-duration'>\n\t\t\t\t<div>\n\t\t\t\t\t<h3>{getSongSeconds(song.duration_ms / 1000)}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Song;\n","import React from 'react';\n\nimport {\n\tplaySong,\n\tStopPlayer,\n\tResumePlayer,\n\tgetColor,\n\tgetAlbum\n} from '../utilityFunctions/util.js';\nimport { withRouter } from 'react-router-dom';\nimport Song from '../Components/Blocks/albumSongs';\n\nimport '../App.css';\nimport '../albumPage.css';\n\nimport * as Vibrant from 'node-vibrant';\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\nclass AlbumPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: '',\n\t\t\tloading: true,\n\t\t\tactiveFilter: 'artist',\n\t\t\tresult: [],\n\t\t\tfiring: false,\n\t\t\ttracks: [],\n\t\t\tvibrant: 'green'\n\t\t};\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tvar albumId = window.location.pathname.split('/')[2];\n\t\tgetAlbum(albumId).then(result => {\n\t\t\tlet copyRight =\n\t\t\t\tresult.copyrights.length > 0 ? result.copyrights[0].text : '';\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tartistName: result.artists[0].name,\n\t\t\t\tartistId: result.artists[0].id,\n\t\t\t\talbumImg: result.images[0].url,\n\t\t\t\talbumObj: result,\n\t\t\t\talbumName: result.name,\n\t\t\t\ttracks: result.tracks.items,\n\t\t\t\tloading: false,\n\t\t\t\ttrackCount: result.total_tracks,\n\t\t\t\talbumYear: new Date(result.release_date).getFullYear(),\n\t\t\t\tcopyRight: copyRight\n\t\t\t});\n\t\t\tthis.setColor(result.images[0].url);\n\t\t});\n\t}\n\n\tsetColor = url => {\n\t\tlet _ = this;\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', function() {\n\t\t\tVibrant.from(img, 5).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\t_.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tvibrant: colors.vibrant,\n\t\t\t\t\tdark: colors.DarkMuted,\n\t\t\t\t\tmuted: colors.Muted,\n\t\t\t\t\tdarkvibrant: colors.DarkVibrant,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t\t_.props.SetSecondaryColors(colors);\n\t\t\t});\n\t\t});\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.uri === uri);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\timages: this.state.albumObj.images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tplaySong(uris).then(\n\t\t\t\tresult =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: uri,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t//hege.slice(1).concat(stale.slice(1)).forEach((item, idx) => list.push(item + idx))\n\t\t\t);\n\t\t} else if ((active, this.props.player.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t\tthis.props.togglePlay();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t\tthis.props.togglePlay();\n\t\t}\n\t};\n\n\tPlayAlbum = id => {\n\t\tvar albumId = window.location.pathname.split('/')[2];\n\t\tlet active = this.props.player.albumId === albumId ? true : false;\n\t\tif (!active) {\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.state.tracks.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t})\n\t\t\t);\n\t\t\tplaySong(uris);\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\t\ttrack.order = idx;\n\t\t\t\ttrack.album = {\n\t\t\t\t\timages: this.state.albumObj.images\n\t\t\t\t};\n\t\t\t\tnewItems.push(track);\n\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t} else if ((active, this.props.player.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t\tthis.props.togglePlay();\n\t\t} else {\n\t\t\tthis.props.togglePlay();\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\tlet active = this.props.player.currentSongId === track.id ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\tkey={`link-song-${idx}`}\n\t\t\t\t\talbumName={this.state.albumName}\n\t\t\t\t\timage={this.state.albumImg}\n\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t\tsong={track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender() {\n\t\tvar albumId = window.location.pathname.split('/')[2];\n\t\tlet Play =\n\t\t\tthis.props.player.albumId === albumId && this.props.player.isPlaying\n\t\t\t\t? 'Pause'\n\t\t\t\t: 'Play';\n\t\tlet backStyle = {\n\t\t\tbackground: `linear-gradient(160deg, ${this.state.darkvibrant} 15%, rgba(0,0,0, 0.9) 70%)`\n\t\t};\n\n\t\tlet scrollStyle = {\n\t\t\tscrollbarColor: `${this.state.vibrant} rgba(0,0,0, 0.2)`\n\t\t};\n\t\tlet tracks = this.buildTracks();\n\t\treturn (\n\t\t\t<div className='page-content' style={backStyle}>\n\t\t\t\t<div className='album-container'>\n\t\t\t\t\t<div className='album-image'>\n\t\t\t\t\t\t<div className='img-wrapper'>\n\t\t\t\t\t\t\t<img alt='album-cover' src={this.state.albumImg}></img>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='album-description-holder'>\n\t\t\t\t\t\t\t<h1>{this.state.albumName}</h1>\n\t\t\t\t\t\t\t<h3>{this.state.artistName}</h3>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={this.PlayAlbum}\n\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-primary2'>\n\t\t\t\t\t\t\t\t{Play}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{this.state.albumYear} • {this.state.trackCount} songs\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='album-songs' style={scrollStyle}>\n\t\t\t\t\t\t{tracks}\n\t\t\t\t\t\t<p>{this.state.copyRight}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Loader loading={this.state.loading} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(AlbumPage);\n","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nlet Album = ({ album, idx, active, isPlaying, handleClick, searchState }) => {\n\tlet hoverClass = active ? 'album-hover-state active' : 'album-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet image =\n\t\talbum.images.length > 0\n\t\t\t? album.images[1].url\n\t\t\t: 'https://via.placeholder.com/150';\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='album-block'>\n\t\t\t<div style={backgroundStyle} className='album-img'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(album.id, active)}>\n\t\t\t\t\t<div className='album-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='album-description'>\n\t\t\t\t<Link\n\t\t\t\t\tkey={`link-album-${idx}`}\n\t\t\t\t\tclassName='album-link'\n\t\t\t\t\tto={{ pathname: '/album/' + album.id, state: { ...searchState } }}>\n\t\t\t\t\t<h3>{album.name}</h3>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tkey={`link-artist-${idx}`}\n\t\t\t\t\tclassName='album-link'\n\t\t\t\t\tto={{ pathname: '/artist/' + album.artists[0].id }}>\n\t\t\t\t\t<h5>{album.artists[0].name}</h5>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(Album);\n","import React from 'react';\nimport {\n\tgetArtist,\n\tgetArtistTopTracks,\n\tgetArtistAlbums\n} from '../utilityFunctions/util.js';\nimport { getColor } from '../utilityFunctions/util.js';\n\nimport Album from '../Components/Blocks/album';\nimport Song from '../Components/Blocks/albumSongs';\nimport { withRouter } from 'react-router-dom';\n\nimport '../App.css';\nimport '../artistPage.css';\n\nimport * as Vibrant from 'node-vibrant';\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\nclass artistPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: '',\n\t\t\tloading: true,\n\t\t\tactiveFilter: 'artist',\n\t\t\tresult: [],\n\t\t\ttracks: [],\n\t\t\tvibrant: 'green',\n\t\t\tcolors: {}\n\t\t};\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tvar artistId = this.props.match.params.id;\n\t\tgetArtist(artistId).then(result => {\n\t\t\tgetArtistTopTracks(artistId).then(tracks => {\n\t\t\t\tgetArtistAlbums(artistId).then(albums => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tartistName: result.name,\n\t\t\t\t\t\tartistId: result.id,\n\t\t\t\t\t\tartistImg: result.images[0].url,\n\t\t\t\t\t\tfollowers: result.followers.total\n\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\ttracks: tracks.tracks,\n\t\t\t\t\t\talbums: albums\n\t\t\t\t\t});\n\t\t\t\t\tthis.setColor(tracks.tracks[0].album.images[0].url);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tPlayArtist = (active = false) => {\n\t\tlet { playSong, ResumePlayer, StopPlayer } = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\t\ttrack.order = idx;\n\t\t\t\tnewItems.push(track);\n\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.state.tracks.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tplaySong(uris).then(success =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcurrentSong: this.state.tracks[0].id,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tsetColor = url => {\n\t\tlet _ = this;\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', function() {\n\t\t\tVibrant.from(img, 5).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\t_.props.SetSecondaryColors(colors);\n\t\t\t\t_.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tvibrant: colors.vibrant,\n\t\t\t\t\tdark: colors.DarkMuted,\n\t\t\t\t\tmuted: colors.Muted,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tlet { playSong, ResumePlayer, StopPlayer } = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.uri === uri);\n\t\t\tthis.setColor(this.state.tracks[index].album.images[0].url);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tplaySong(uris).then(result =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcurrentSong: uri,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t} else if (active && this.state.isPlaying === false) {\n\t\t\tResumePlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: false\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\tPlayAlbum = (id, active = false) => {\n\t\tlet {\n\t\t\tgetAlbumTracks,\n\t\t\tgetAlbum,\n\t\t\tplaySong,\n\t\t\tResumePlayer,\n\t\t\tStopPlayer\n\t\t} = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tgetAlbumTracks(id).then(result => {\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.items.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tgetAlbum(id).then(data => {\n\t\t\t\t\tlet newItems = [];\n\t\t\t\t\tresult.items.forEach((track, idx) => {\n\t\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\t\timages: data.images\n\t\t\t\t\t\t};\n\t\t\t\t\t\tnewItems.push(track);\n\t\t\t\t\t});\n\t\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (active && this.state.isPlaying === false) {\n\t\t\tResumePlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: true\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tisPlaying: false\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\tbuildAlbums = () => {\n\t\tlet albums = [];\n\t\tlet singles = [];\n\t\tlet features = [];\n\t\tif (this.state.albums) {\n\t\t\tlet albumCount = 0;\n\t\t\tlet singleCount = 0;\n\t\t\tlet featureCount = 0;\n\t\t\tthis.state.albums.items.forEach((album, idx) => {\n\t\t\t\tif (album.album_group === 'album' && albumCount < 10) {\n\t\t\t\t\talbumCount++;\n\t\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\t\talbums.push(\n\t\t\t\t\t\t<Album\n\t\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} else if (album.album_group === 'single' && singleCount < 10) {\n\t\t\t\t\tsingleCount++;\n\t\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\t\tsingles.push(\n\t\t\t\t\t\t<Album\n\t\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} else if (album.album_group === 'appears_on' && featureCount < 10) {\n\t\t\t\t\tfeatureCount++;\n\t\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\t\tfeatures.push(\n\t\t\t\t\t\t<Album\n\t\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn [albums, singles, features];\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tthis.state.tracks.forEach((track, idx) => {\n\t\t\tlet active = this.props.player.currentSongId === track.id ? true : false;\n\t\t\ttracks.push(\n\t\t\t\t<Song\n\t\t\t\t\talbumName={this.state.albumName}\n\t\t\t\t\timage={track.album.images[0].url}\n\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\tsong={track}\n\t\t\t\t\tidx={idx}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn tracks;\n\t};\n\n\trender() {\n\t\tlet backStyle = {\n\t\t\tbackground: `linear-gradient(160deg, ${this.state.colors.DarkVibrant} 15%, rgba(0,0,0, 0.9) 70%)`\n\t\t};\n\t\tlet bannerStyle = { backgroundImage: `url('${this.state.artistImg}')` };\n\t\t// let vibrantStyle = {backgroundColor: \"rgba(0,0,0, 0.75)\", color: this.state.vibrant}\n\t\tlet scrollStyle = {\n\t\t\tscrollbarColor: `${this.state.vibrant} rgba(0,0,0, 0.2)`\n\t\t};\n\t\tlet tracks = this.buildTracks();\n\t\tlet [albums, singles, features] = this.buildAlbums();\n\t\treturn (\n\t\t\t<div className='artist-page' style={backStyle}>\n\t\t\t\t<div className='artist-top-section'>\n\t\t\t\t\t<div className='left-section'>\n\t\t\t\t\t\t<div className='artist-banner' style={bannerStyle}></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='artist-description'>\n\t\t\t\t\t\t<h1>{this.state.artistName}</h1>\n\t\t\t\t\t\t<div className='artist-btn-row'>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.PlayArtist();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tPlay\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button className='btn btn-secondary'>Follow</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h3>Followers {this.state.followers}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div className='artist-content' style={scrollStyle}>\n\t\t\t\t\t\t<div className='album-songs2'>\n\t\t\t\t\t\t\t<Loader loading={this.state.loading} />\n\t\t\t\t\t\t\t<h2>Top Tracks</h2>\n\t\t\t\t\t\t\t{tracks}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='artist-albums-holder'>\n\t\t\t\t\t\t\t<h2>Albums</h2>\n\t\t\t\t\t\t\t{albums}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='artist-albums-holder'>\n\t\t\t\t\t\t\t<h2>Singles</h2>\n\t\t\t\t\t\t\t{singles}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='artist-albums-holder'>\n\t\t\t\t\t\t\t<h2>Features</h2>\n\t\t\t\t\t\t\t{features}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default withRouter(artistPage);\n","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\n\nimport { Link } from 'react-router-dom'\n\n\nlet Artist = ({ artist, idx, handleClick }) => {\n  let image = (artist.images.length > 0) ? artist.images[1].url : 'https://via.placeholder.com/150'\n  let backgroundStyle = { backgroundImage: `url(${image})`, }\n  return (\n    <div key={idx} className=\"artist-block\">\n      <div style={backgroundStyle} className=\"artist-img\">\n        <div className=\"artist-hover-state\" onClick={() => handleClick(artist.id)}>\n          <div className=\"artist-icon-holder\">\n            <PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n          </div>\n        </div>\n      </div>\n      <div className=\"artist-description\">\n        <Link className=\"album-link\" to={{ pathname: '/artist/' + artist.id }}><h3>{artist.name}</h3></Link>\n      </div>\n    </div>)\n}\n\nexport default Artist","import React from 'react';\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport '../../App.css';\n\nimport LensIcon from '@material-ui/icons/Lens';\nimport FavoriteRoundedIcon from '@material-ui/icons/FavoriteRounded';\nimport MoreHorizRoundedIcon from '@material-ui/icons/MoreHorizRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\n\nimport { Link } from 'react-router-dom';\n\nimport { getSongSeconds } from '../../utilityFunctions/util.js';\n\nlet Song = ({ song, idx, handleClick, active, isPlaying }) => {\n\tlet hoverClass = active ? 'song-hover-state active' : 'song-hover-state';\n\tlet playIcon =\n\t\tactive && isPlaying ? (\n\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t) : (\n\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t);\n\tlet dotStyle = {\n\t\tfontSize: '.4em',\n\t\tpaddingBottom: '.2em',\n\t\tmarginLeft: '2em',\n\t\tmarginRight: '2em'\n\t};\n\tlet artist = song.artists.map((artist, ind) => {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tclassName='album-link'\n\t\t\t\tkey={`artist-link-${ind}`}\n\t\t\t\tto={{ pathname: '/artist/' + artist.id }}>\n\t\t\t\t<h5>{artist.name}</h5>\n\t\t\t</Link>\n\t\t);\n\t});\n\tlet image =\n\t\tsong.album.images.length > 0\n\t\t\t? song.album.images[1].url\n\t\t\t: 'https://via.placeholder.com/150';\n\tlet backgroundStyle = { backgroundImage: `url(${image})` };\n\treturn (\n\t\t<div key={idx} className='song-block'>\n\t\t\t<div style={backgroundStyle} className='song-img-item'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={hoverClass}\n\t\t\t\t\tonClick={() => handleClick(song.uri, active)}>\n\t\t\t\t\t<div className='song-icon-holder'>{playIcon}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-description'>\n\t\t\t\t<h3>{song.name}</h3>\n\t\t\t\t<div className='featured-artists'>\n\t\t\t\t\t{artist}\n\t\t\t\t\t<h5>\n\t\t\t\t\t\t<LensIcon style={dotStyle} />\n\t\t\t\t\t</h5>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tkey={`album-link2-${idx}`}\n\t\t\t\t\t\tclassName='album-link'\n\t\t\t\t\t\tto={{ pathname: '/album/' + song.album.id }}>\n\t\t\t\t\t\t<h5>{song.album.name}</h5>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='song-action'>\n\t\t\t\t<FavoriteRoundedIcon />\n\t\t\t\t<MoreHorizRoundedIcon />\n\t\t\t</div>\n\t\t\t<div className='song-duration'>\n\t\t\t\t<div>\n\t\t\t\t\t<h3>{getSongSeconds(song.duration_ms / 1000)}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Song;\n","import React from 'react';\nimport { searchArray } from '../utilityFunctions/util.js';\nimport SearchRoundedIcon from '@material-ui/icons/SearchRounded';\nimport ClearRoundedIcon from '@material-ui/icons/ClearRounded';\nimport {\n\tSearch,\n\tplaySong,\n\tStopPlayer,\n\tResumePlayer,\n\tgetAlbumTracks\n} from '../utilityFunctions/util.js';\nimport { withRouter } from 'react-router-dom';\nimport Artist from '../Components/Blocks/artist';\nimport Album from '../Components/Blocks/album';\nimport Song from '../Components/Blocks/songs';\n\nimport '../App.css';\n\nlet searchFilters = ['Top Results', 'Artist', 'Album', 'Track'];\n\nlet FilterItem = ({ name, isActive, onClick, color }) => {\n\tlet className =\n\t\tisActive === name.replace(' ', '').toLowerCase() ? 'active' : '';\n\tlet border =\n\t\tisActive === name.replace(' ', '').toLowerCase()\n\t\t\t? { borderBottom: `2px solid ${color}` }\n\t\t\t: {};\n\treturn (\n\t\t<li\n\t\t\tstyle={border}\n\t\t\tonClick={() => onClick(name.replace(' ', '').toLowerCase())}\n\t\t\tclassName={className}>\n\t\t\t{name}\n\t\t</li>\n\t);\n};\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\nclass SearchSection extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: this.props.spotifyData.token,\n\t\t\tsearch: this.props.searchState.search,\n\t\t\tloading: this.props.searchState.loading,\n\t\t\tactiveFilter: this.props.searchState.activeFilter,\n\t\t\tresult: this.props.searchState.result,\n\t\t\tfiring: false\n\t\t};\n\t\tthis.handleSearch = this.handleSearch.bind(this);\n\t\tthis.setSearchFilter = this.setSearchFilter.bind(this);\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n\t\tthis.PlayArtist = this.PlayArtist.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\t// document\n\t\t// \t.getElementById('search-body')\n\t\t// \t.addEventListener('scroll', this.checkScroll);\n\t\t// let token = StoreAPIToken();\n\t\t// let expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t// if (token !== undefined) {\n\t\t// \tlocalStorage.setItem('token', token);\n\t\t// \tlocalStorage.setItem('expiration', expiration);\n\t\t// } else if ((localStorage.getItem('expiration') - Date.now()) / 1000 < 60) {\n\t\t// \tlocalStorage.setItem('token', '');\n\t\t// \tlocalStorage.setItem('expiration', 0);\n\t\t// \tsetupSpotify();\n\t\t// }\n\t\tconst wrappedElement = document.getElementById('search-body');\n\t\twrappedElement.scrollTo(0, this.props.searchState.scroll);\n\t}\n\n\thandleSearch({ target }) {\n\t\tthis.props.setSearch(target);\n\t\tif (this.state.typingTimeout) {\n\t\t\tclearTimeout(this.state.typingTimeout);\n\t\t}\n\t\t/* if (this.props.searchState.search === '' && this.props.searchState.loading === true) {\n\t\t\tthis.props.clearSearchState()\n\t\t} */\n\n\t\tthis.setState({\n\t\t\ttypingTimeout: setTimeout(() => {\n\t\t\t\tlet type =\n\t\t\t\t\tthis.props.searchState.activeFilter === 'topresults'\n\t\t\t\t\t\t? 'album,artist,playlist,track'\n\t\t\t\t\t\t: this.props.searchState.activeFilter;\n\t\t\t\tSearch(this.props.searchState.search, type).then(result => {\n\t\t\t\t\tresult['type'] = this.state.activeFilter.toLowerCase() + 's';\n\t\t\t\t\tthis.props.setSearchResult(result);\n\t\t\t\t});\n\t\t\t}, 500)\n\t\t});\n\t}\n\n\tsetSearchFilter = name => {\n\t\tdocument.getElementById('search-body').scrollTo(0, 0);\n\t\tthis.props.setSearchFilter(name);\n\t\tif (this.props.searchState.search !== '') {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet type =\n\t\t\t\t\tthis.props.searchState.activeFilter === 'topresults'\n\t\t\t\t\t\t? 'album,artist,playlist,track'\n\t\t\t\t\t\t: this.props.searchState.activeFilter;\n\t\t\t\tSearch(this.props.searchState.search, type).then(result => {\n\t\t\t\t\tthis.props.setSearchResult(result);\n\t\t\t\t});\n\t\t\t}, 10);\n\t\t}\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.props.searchState.result.tracks.items.findIndex(\n\t\t\t\ttrack => track.uri === uri\n\t\t\t);\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.props.searchState.result.tracks.items\n\t\t\t\t\t.slice(index, this.props.searchState.result.tracks.items.length)\n\t\t\t\t\t.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t);\n\t\t\tplaySong(uris).then(data => {\n\t\t\t\tlet newItems = [];\n\t\t\t\tlet queue = this.props.searchState.result.tracks.items.slice(\n\t\t\t\t\tindex,\n\t\t\t\t\tthis.props.searchState.result.tracks.items.length\n\t\t\t\t);\n\t\t\t\tqueue.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tPlayAlbum = (id, active = false) => {\n\t\tif (!active) {\n\t\t\tgetAlbumTracks(id).then(result => {\n\t\t\t\tlet images = searchArray(\n\t\t\t\t\tid,\n\t\t\t\t\tthis.props.searchState.result.albums.items\n\t\t\t\t);\n\n\t\t\t\tlet newItems = [];\n\t\t\t\tresult.items.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\ttrack.album = {\n\t\t\t\t\t\timages: images\n\t\t\t\t\t};\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.items.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tPlayArtist = (id, active = false) => {\n\t\tif (!active) {\n\t\t\tthis.props.spotifyData.player.getArtistTopTracks(id).then(result => {\n\t\t\t\tlet newItems = [];\n\t\t\t\tresult.tracks.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.tracks.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tbuildArtists = () => {\n\t\tlet artists = [];\n\t\tif ('artists' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.artists.items.forEach((artist, idx) => {\n\t\t\t\tartists.push(\n\t\t\t\t\t<Artist\n\t\t\t\t\t\tkey={`artist-${idx}`}\n\t\t\t\t\t\tartist={artist}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\thandleClick={this.PlayArtist}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn artists;\n\t};\n\n\tbuildAlbums = () => {\n\t\tlet albums = [];\n\t\tif ('albums' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.albums.items.forEach((album, idx) => {\n\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\talbums.push(\n\t\t\t\t\t<Album\n\t\t\t\t\t\tkey={`album-${idx}`}\n\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\tsearchState={this.state}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn albums;\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tif ('tracks' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.tracks.items.forEach((track, idx) => {\n\t\t\t\tlet active =\n\t\t\t\t\tthis.props.player.currentSong.uri === track.uri ? true : false;\n\t\t\t\ttracks.push(\n\t\t\t\t\t<Song\n\t\t\t\t\t\tkey={`song-${idx}`}\n\t\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\tsong={track}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn tracks;\n\t};\n\n\tcheckScroll = e => {\n\t\tconst wrappedElement = document.getElementById('search-body');\n\t\tthis.props.setCurrentScroll(wrappedElement.scrollTop);\n\t\tif (\n\t\t\twrappedElement.scrollHeight - wrappedElement.scrollTop <\n\t\t\t\twrappedElement.clientHeight + 300 &&\n\t\t\tthis.props.searchState.offset * 50 < this.props.searchState.total &&\n\t\t\tthis.state.firing !== true\n\t\t) {\n\t\t\tif (this.state.activeFilter !== 'topresults') {\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tfiring: true\n\t\t\t\t});\n\t\t\t\tSearch(\n\t\t\t\t\tthis.props.searchState.search,\n\t\t\t\t\tthis.props.searchState.activeFilter,\n\t\t\t\t\t50,\n\t\t\t\t\tthis.props.searchState.offset + 1 * 50\n\t\t\t\t).then(result => {\n\t\t\t\t\tthis.props.extendSearchResults(result);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tfiring: false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet searchLeft = {\n\t\t\tborderLeft: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderTop: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderBottom: `2px solid ${this.props.player.colors.vibrant}`\n\t\t};\n\t\tlet searchRight = {\n\t\t\tborderRight: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderTop: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderBottom: `2px solid ${this.props.player.colors.vibrant}`\n\t\t};\n\t\tlet searchInput = {\n\t\t\tborderTop: `2px solid ${this.props.player.colors.vibrant}`,\n\t\t\tborderBottom: `2px solid ${this.props.player.colors.vibrant}`\n\t\t};\n\t\tlet artists = this.buildArtists();\n\t\tlet albums = this.buildAlbums();\n\t\tlet tracks = this.buildTracks();\n\t\tlet topResultsSection =\n\t\t\tthis.state.activeFilter === 'topresults'\n\t\t\t\t? { height: '80%' }\n\t\t\t\t: { height: '0' };\n\t\tlet sectionStyle =\n\t\t\ttracks.length > 0 ? { height: '100%' } : { height: '0%' };\n\n\t\tlet ListItems = [];\n\t\tsearchFilters.forEach((name, idx) => {\n\t\t\tListItems.push(\n\t\t\t\t<FilterItem\n\t\t\t\t\tkey={`filter-${idx}`}\n\t\t\t\t\tonClick={this.setSearchFilter}\n\t\t\t\t\tname={name}\n\t\t\t\t\tisActive={this.props.searchState.activeFilter}\n\t\t\t\t\tcolor={this.props.player.colors.vibrant}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className='main'>\n\t\t\t\t<div className='search-filter'>\n\t\t\t\t\t<ul>{ListItems}</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className='input-holder'>\n\t\t\t\t\t<div className='search-icon' style={searchLeft}>\n\t\t\t\t\t\t<SearchRoundedIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='search-input'\n\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\tonChange={event => this.handleSearch(event)}\n\t\t\t\t\t\tvalue={this.props.searchState.search}\n\t\t\t\t\t\tname='search'\n\t\t\t\t\t\tplaceholder='Search...'\n\t\t\t\t\t\tstyle={searchInput}\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={this.props.clearSearchState}\n\t\t\t\t\t\tclassName='cancel-icon'\n\t\t\t\t\t\tstyle={searchRight}>\n\t\t\t\t\t\t<ClearRoundedIcon />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='search-body' id='search-body'>\n\t\t\t\t\t<div className='topResultsSection' style={topResultsSection}></div>\n\t\t\t\t\t{artists}\n\t\t\t\t\t{albums}\n\t\t\t\t\t<div className='songs-container' style={sectionStyle}>\n\t\t\t\t\t\t{tracks}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Loader loading={this.props.searchState.loading} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(SearchSection);\n","import React from 'react';\n\n\nimport {\n\tplaySong,\n\tStopPlayer,\n\tResumePlayer,\n    getAlbumTracks,\n    getLikedTracks,\n    getLikedAlbums, \n    getFollowedArtists,\n    GetMyPlaylists, \n    getPersonalizedTopTracks\n} from '../utilityFunctions/util.js';\nimport { withRouter } from 'react-router-dom';\nimport Artist from '../Components/Blocks/artist';\nimport Album from '../Components/Blocks/album';\nimport Song from '../Components/Blocks/songs';\n\nimport '../App.css';\n\nlet searchFilters = ['PLAYLISTS', 'MADE FOR YOU', 'LIKED SONGS', 'ALBUMS', 'ARTISTS'];\n\nlet FilterItem = ({ name, isActive, onClick }) => {\n\tlet className =\n        isActive === name ? 'active' : '';\n\treturn (\n\t\t<li\n\t\t\tonClick={() => onClick(name)}\n\t\t\tclassName={className}>\n\t\t\t{name}\n\t\t</li>\n\t);\n};\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\n\n\n\nclass LibrarySection extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttoken: this.props.spotifyData.token,\n\t\t\tloading: this.props.searchState.loading,\n\t\t\tactiveFilter: 'PLAYLISTS',\n\t\t\tresult: this.props.searchState.result,\n        };\n        console.info(\"these are your props\", props)\n\t\tthis.setSearchFilter = this.setSearchFilter.bind(this);\n\t\tthis.PlaySong = this.PlaySong.bind(this);\n    }\n\n\tcomponentDidMount = () => {\n        getLikedAlbums().then(data => {\n            console.info(data)\n            this.setState({...this.state, albums: data})\n        })\n        getFollowedArtists().then(data => this.setState({...this.state, artists: data}))\n        getLikedTracks().then(data => this.setState({...this.state, likes: data}))\n        GetMyPlaylists().then(data => this.setState({...this.state, playlists: data}))\n        getPersonalizedTopTracks().then(data => this.setState({...this.state, personalized: data}))\n\t}\n\n\n\tsetSearchFilter = name => {\n\t\tdocument.getElementById('search-body').scrollTo(0, 0);\n\t\tthis.setState({\n            ...this.state,\n            activeFilter: name,\n        })\n\t};\n\n\tPlaySong = (uri, active) => {\n\t\tif (!active) {\n\t\t\tlet index = this.props.searchState.result.tracks.items.findIndex(\n\t\t\t\ttrack => track.uri === uri\n\t\t\t);\n\t\t\tlet uris = JSON.stringify(\n\t\t\t\tthis.props.searchState.result.tracks.items\n\t\t\t\t\t.slice(index, this.props.searchState.result.tracks.items.length)\n\t\t\t\t\t.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t);\n\t\t\tconsole.log(uris);\n\t\t\tplaySong(uris).then(result =>\n\t\t\t\tconsole.log(result)\n\t\t\t);\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer().then(() =>\n\t\t\tconsole.log(0)\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\tconsole.log(1)\n\t\t\t);\n\t\t}\n\t};\n\n\tPlayAlbum = (id, active = false) => {\n\t\tif (!active) {\n\t\t\tgetAlbumTracks(id).then(result => {\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.items.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tconsole.log(result);\n\t\t\t\tplaySong(uris).then(success =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: id,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t} else if ((active, this.state.isPlaying === false)) {\n\t\t\tResumePlayer().then(() =>\n\t\t\t\tconsole.log(1)\n\t\t\t);\n\t\t} else {\n\t\t\tStopPlayer().then(() =>\n\t\t\t\tconsole.log(2)\n\t\t\t);\n\t\t}\n\t};\n\n\tbuildArtists = () => {\n\t\tlet artists = [];\n\t\tif ('artists' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.artists.items.forEach((artist, idx) => {\n\t\t\t\tartists.push(<Artist artist={artist} idx={idx} />);\n\t\t\t});\n\t\t}\n\t\treturn artists;\n\t};\n\n\tbuildAlbums = () => {\n\t\tlet albums = [];\n\t\tif ('albums' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.albums.items.forEach((album, idx) => {\n\t\t\t\tlet active = this.props.player.albumId === album.id ? true : false;\n\t\t\t\talbums.push(\n\t\t\t\t\t<Album\n\t\t\t\t\t\thandleClick={this.PlayAlbum}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\talbum={album}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\tsearchState={this.state}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn albums;\n\t};\n\n\tbuildTracks = () => {\n\t\tlet tracks = [];\n\t\tif ('tracks' in this.props.searchState.result) {\n\t\t\tthis.props.searchState.result.tracks.items.forEach((track, idx) => {\n\t\t\t\tlet active = this.props.player.currentSong.uri === track.uri ? true : false;\n\t\t\t\ttracks.push(\n\t\t\t\t\t<Song\n\t\t\t\t\t\thandleClick={this.PlaySong}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\t\tsong={track}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn tracks;\n\t};\n\n\trender() {\n        console.info('likes below')\n        console.info(this.state)\n        console.info('likes above')\n\t\tlet artists = this.buildArtists();\n\t\tlet albums = this.buildAlbums();\n\t\tlet tracks = this.buildTracks();\n\t\tlet sectionStyle =\n\t\t\ttracks.length > 0 ? { height: '100%' } : { height: '0%' };\n\n\t\tlet ListItems = [];\n\t\tsearchFilters.forEach(name => {\n\t\t\tListItems.push(\n\t\t\t\t<FilterItem\n\t\t\t\t\tonClick={this.setSearchFilter}\n\t\t\t\t\tname={name}\n\t\t\t\t\tisActive={this.state.activeFilter}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className='main'>\n\t\t\t\t<div className='search-filter'>\n\t\t\t\t\t<ul>{ListItems}</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className='search-body' id='search-body'>\n\t\t\t\t\t{artists}\n\t\t\t\t\t{albums}\n\t\t\t\t\t<div className='songs-container' style={sectionStyle}>\n\t\t\t\t\t\t{tracks}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Loader loading={this.props.searchState.loading} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(LibrarySection)\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\n\nimport { getColor } from '../../utilityFunctions/util.js';\n\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\n\nclass FeaturedArtist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'black',\n\t\t\t\tLightVibrant: 'white',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t\tthis.PlayArtist = this.PlayArtist.bind(this);\n\t}\n\tPlayArtist = () => {\n\t\tconst {\n\t\t\tResumePlayer,\n\t\t\tStopPlayer,\n\t\t\tplaySong,\n\t\t\tgetArtistTopTracks\n\t\t} = this.props.player.player;\n\t\tif (!this.props.active) {\n\t\t\tconsole.log(this.props.active, this.props.artistId);\n\t\t\tgetArtistTopTracks(this.props.artistId).then(result => {\n\t\t\t\tlet newItems = [];\n\t\t\t\tresult.tracks.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\t\tthis.props.ResetQueue(newItems);\n\t\t\t\tlet uris = JSON.stringify(\n\t\t\t\t\tresult.tracks.map(track => {\n\t\t\t\t\t\treturn track.uri;\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tplaySong(uris)\n\t\t\t\t\t.catch(e => console.debug(e))\n\t\t\t\t\t.then(e => console.debug(e));\n\t\t\t});\n\t\t} else if (this.props.active && this.props.isPlaying === false) {\n\t\t\tResumePlayer();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t}\n\t};\n\n\tcomponentDidMount = () => {\n\t\tthis.setColor(this.props.url);\n\t};\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\trender() {\n\t\tlet hoverState = this.props.active ? { opacity: 1 } : {};\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n                ${this.state.colors.DarkMuted})`\n\t\t};\n\t\tlet playIcon =\n\t\t\tthis.props.active && this.props.isPlaying ? (\n\t\t\t\t<PauseRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t\t) : (\n\t\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t\t);\n\t\treturn (\n\t\t\t<div className='container' style={containerStyle}>\n\t\t\t\t<div\n\t\t\t\t\tclassName='block'\n\t\t\t\t\tstyle={{ background: this.state.colors.DarkMuted }}>\n\t\t\t\t\t<img alt={`${this.props.name} cover`} src={this.props.url}></img>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner1'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Vibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner2'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.DarkVibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner3'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Muted }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner4'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.DarkVibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner5'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.LightVibrant }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='inner6'\n\t\t\t\t\t\tstyle={{ background: this.state.colors.Muted }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='artist-hover-state'\n\t\t\t\t\t\tstyle={hoverState}\n\t\t\t\t\t\tonClick={() => this.PlayArtist()}>\n\t\t\t\t\t\t<div className='artist-icon-holder'>{playIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='artist-name'>\n\t\t\t\t\t<h1>{this.props.name}</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FeaturedArtist;\n","import React from 'react';\n\nimport * as Vibrant from 'node-vibrant';\n\nimport { getColor } from '../../utilityFunctions/util.js';\n\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\n\nclass FeaturedPlaylist extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcolors: {\n\t\t\t\tDarkMuted: 'black',\n\t\t\t\tVibrant: 'white',\n\t\t\t\tDarkVibrant: 'black',\n\t\t\t\tLightVibrant: 'white',\n\t\t\t\tMuted: 'blue'\n\t\t\t}\n\t\t};\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.setColor(this.props.url);\n\t};\n\n\tsetColor = url => {\n\t\tlet img = new Image();\n\t\timg.crossOrigin = 'Anonymous';\n\t\timg.src = url;\n\t\timg.addEventListener('load', () => {\n\t\t\t// var vibrant = new Vibrant(img);\n\t\t\tVibrant.from(img).getPalette((err, palette) => {\n\t\t\t\tlet colors = {\n\t\t\t\t\tVibrant: getColor(palette, 'Vibrant'),\n\t\t\t\t\tDarkMuted: getColor(palette, 'DarkMuted'),\n\t\t\t\t\tDarkVibrant: getColor(palette, 'DarkVibrant'),\n\t\t\t\t\tLightVibrant: getColor(palette, 'LightVibrant'),\n\t\t\t\t\tMuted: getColor(palette, 'Muted')\n\t\t\t\t};\n\t\t\t\tconsole.log(colors);\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tcolors: colors\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\trender() {\n\t\tlet containerStyle = {\n\t\t\tbackgroundSize: '800vw 800vw',\n\t\t\tanimation: 'rotate 20s ease infinite',\n\t\t\tbackground: `linear-gradient(160deg, \n                ${this.state.colors.Vibrant}, \n                ${this.state.colors.DarkMuted})`\n\t\t};\n\t\treturn (\n\t\t\t<div className='playlist' style={containerStyle}>\n\t\t\t\t<div className='triangle-holder'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='triangle-left'\n\t\t\t\t\t\tstyle={{ borderBottom: `18em solid rgba(0,0,0,.1)` }}></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='triangle-right'\n\t\t\t\t\t\tstyle={{ borderTop: `22em solid rgba(0,0,0,.1)` }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName='artist-hover-state'\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tthis.props.handleClick(this.props.item.uri, this.props.active)\n\t\t\t\t\t}>\n\t\t\t\t\t<div className='artist-icon-holder'>\n\t\t\t\t\t\t<PlayArrowRoundedIcon style={{ fontSize: '.8em' }} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<img alt='playlist-cover' src={this.props.url}></img>\n\t\t\t\t<div className='playlist-cover'>\n\t\t\t\t\t<h1>{this.props.name}</h1>\n\t\t\t\t\t<h3>{this.props.artistName}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FeaturedPlaylist;\n","import React from 'react';\n\nimport { withRouter } from 'react-router-dom';\n//import Artist from '../Components/Blocks/artist';\n//import Album from '../Components/Blocks/album';\n//import Song from '../Components/Blocks/songs';\n\nimport '../App.css';\nimport '../homepage.css';\n\nimport FeaturedArtist from '../Components/Blocks/featuredArtist';\nimport FeaturedPlaylist from '../Components/Blocks/featuredPlaylist';\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tresult: [],\n\t\t\ttracks: []\n\t\t};\n\t}\n\tcomponentDidMount() {\n\t\tthis.props.spotifyData.player\n\t\t\t.getPersonalizedTopTracks('artists', 10, 0)\n\t\t\t.then(result => {\n\t\t\t\tthis.props.spotifyData.player\n\t\t\t\t\t.getPersonalizedTopTracks('tracks', 10, 0)\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tresult: result.items,\n\t\t\t\t\t\t\ttracks: data.items\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\thandleClick = (uri, active) => {\n\t\tlet { playSong, ResumePlayer, StopPlayer } = this.props.spotifyData.player;\n\t\tif (!active) {\n\t\t\tlet index = this.state.tracks.findIndex(track => track.uri === uri);\n\t\t\tlet currentSongs = this.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.map(track => {\n\t\t\t\t\treturn track.uri;\n\t\t\t\t});\n\t\t\tlet newItems = [];\n\t\t\tthis.state.tracks\n\t\t\t\t.slice(index, this.state.tracks.length)\n\t\t\t\t.concat(this.state.tracks.slice(0, index - 1))\n\t\t\t\t.forEach((track, idx) => {\n\t\t\t\t\ttrack.order = idx;\n\t\t\t\t\tnewItems.push(track);\n\t\t\t\t});\n\t\t\tthis.props.ResetQueue(newItems);\n\t\t\tlet previousSongs = this.state.tracks.slice(0, index).map(track => {\n\t\t\t\treturn track.uri;\n\t\t\t});\n\t\t\tlet uris = JSON.stringify([...currentSongs, ...previousSongs]);\n\t\t\tplaySong(uris).then(\n\t\t\t\tresult =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\tcurrentSong: uri,\n\t\t\t\t\t\tisPlaying: true\n\t\t\t\t\t})\n\t\t\t\t//hege.slice(1).concat(stale.slice(1)).forEach((item, idx) => list.push(item + idx))\n\t\t\t);\n\t\t} else if ((active, this.props.player.isPlaying === false)) {\n\t\t\tResumePlayer();\n\t\t\tthis.props.togglePlay();\n\t\t} else {\n\t\t\tStopPlayer();\n\t\t\tthis.props.togglePlay();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet topArtists = [];\n\t\tlet topTracks = [];\n\t\tthis.state.result.forEach((item, idx) => {\n\t\t\tlet active = false;\n\t\t\tif (this.props.player.artistId === item.id) {\n\t\t\t\tactive = true;\n\t\t\t}\n\t\t\ttopArtists.push(\n\t\t\t\t<FeaturedArtist\n\t\t\t\t\tplayer={this.props.spotifyData}\n\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\tkey={`featured-artist-${idx}`}\n\t\t\t\t\turl={item.images[0].url}\n\t\t\t\t\tname={item.name}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tartistId={item.id}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\tthis.state.tracks.forEach((item, idx) => {\n\t\t\tlet active = false;\n\t\t\tif (this.props.player.currentSong.id === item.id) {\n\t\t\t\tactive = true;\n\t\t\t}\n\t\t\ttopTracks.push(\n\t\t\t\t<FeaturedPlaylist\n\t\t\t\t\tkey={`featured-playlist-${idx}`}\n\t\t\t\t\turl={item.album.images[0].url}\n\t\t\t\t\tname={item.name}\n\t\t\t\t\tartistName={item.artists[0].name}\n\t\t\t\t\tplayer={this.props.spotifyData}\n\t\t\t\t\tResetQueue={this.props.ResetQueue}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tsongUri={item.uri}\n\t\t\t\t\titem={item}\n\t\t\t\t\thandleClick={this.handleClick}\n\t\t\t\t\tisPlaying={this.props.player.isPlaying}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className='main'>\n\t\t\t\t<div className='favorites-title'>\n\t\t\t\t\t<h1>Favorite Artists</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className='recomended-artists'>{topArtists}</div>\n\t\t\t\t<h1>Recently Played</h1>\n\t\t\t\t<div className='recomended-artists'>{topTracks}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Home);\n","import { connect } from 'react-redux';\nimport Footer from '../Footer/footer';\nimport AlbumPage from '../../pages/albumPage.js';\nimport ArtistPage from '../../pages/artistPage.js';\nimport SearchSection from '../../pages/search';\nimport LibrarySection from '../../pages/library';\nimport Home from '../../pages/homePage';\nimport Navbar from '../Navbar/Navbar';\n\nconst mapStateToProps = state => ({ ...state });\n\nconst mapDispatchToProps = dispatch => ({\n\tsetSearch: payload => {\n\t\tdispatch({ type: 'SET_SEARCH', payload });\n\t},\n\tclearSearchState: () => {\n\t\tdispatch({ type: 'CLEAR_SEARCH_STATE' });\n\t},\n\tsetSearchResult: payload => {\n\t\tdispatch({ type: 'SEARCH_RESULT_RETURNED', payload });\n\t},\n\tsetSearchFilter: payload => {\n\t\tdispatch({ type: 'SET_SEARCH_FILTER', payload });\n\t},\n\tsetCurrentScroll: payload => {\n\t\tdispatch({ type: 'SET_CURRENT_SCROLL', payload });\n\t},\n\textendSearchResults: payload => {\n\t\tdispatch({ type: 'EXTEND_SEARCH_RESULTS', payload });\n\t},\n\tplaySong: payload => {\n\t\tdispatch({ type: 'PLAY_SONG', payload });\n\t},\n\tplayerStateChange: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_STATE', payload });\n\t},\n\tplayerSetArtistID: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_ARTIST_ID', payload });\n\t},\n\tsetCurrentTime: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_CURRENT_TIME', payload });\n\t},\n\ttogglePlay: payload => {\n\t\tdispatch({ type: 'PLAYER_TOGGLE_PLAY', payload });\n\t},\n\tinitializeSpotify: payload => {\n\t\talert(2);\n\t\tdispatch({ type: 'INITIALIZE_SPOTIFY_KEYS', payload });\n\t},\n\tPlayNext: payload => {\n\t\talert(2);\n\t\tdispatch({ type: 'PLAYER_PLAY_NEXT', payload });\n\t},\n\tSyncFromHost: () => {\n\t\tdispatch({ type: 'SYNC_FROM_HOST' });\n\t},\n\tSetColors: payload => {\n\t\tdispatch({ type: 'SET_PLAYER_COLORS', payload });\n\t},\n\tResetQueue: payload => {\n\t\tdispatch({ type: 'RESET_PLAYER_QUEUE', payload });\n\t},\n\tSetSecondaryColors: payload => {\n\t\tdispatch({ type: 'SET_SECONDARY_COLORS', payload });\n\t},\n\tsetPlayer: payload => {\n\t\tdispatch({ type: 'PLAYER_SET_STATE_FROM_HOST', payload })\n\t},\n\tsetRoom: payload => dispatch({ type: 'SET_ROOM', payload })\n});\n\nexport const FooterContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Footer);\n\nexport const AlbumContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(AlbumPage);\nexport const ArtistContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ArtistPage);\nexport const SearchSectionContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SearchSection);\n\nexport const LibrarySectionContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(LibrarySection);\n\nexport const NavBarSection = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Navbar);\n\nexport const HomePageContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Home);\n","import axios from 'axios';\n\nexport class Spotify {\n\tconstructor(token) {\n\t\tthis.token = token;\n\t}\n\n\tGET = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response.data;\n\t};\n\n\tPOST = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUT = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tDELETE = async (url) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'DELETE',\n\t\t\turl: url,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tPUTBodyParamter = async (url, data) => {\n\t\tlet response = await axios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\theaders: { Authorization: `Bearer ${this.token}` }\n\t\t});\n\t\treturn response;\n\t};\n\n\tGetPlaylistTracks = (playlist_id, limit = 50, offset = 0) => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/tracks?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'Get Playlist Tracks');\n\t};\n\tGetPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}`;\n\t\treturn this.GET(url, 'Get Playlist');\n\t};\n\n\tGetPlaylistCover = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/images`;\n\t\treturn this.GET(url, 'Get Playlist Banner');\n\t};\n\n\tGetUsersPlaylists = (user_id, limit = 100, offset = 0) => {\n\t\tlet url = `https://api.spotify.com/v1/users/${user_id}/playlists?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'Get Users Playlists');\n\t};\n\tGetMyPlaylists = (limit = 50, offset = 0) => {\n\t\tlet url = `https://api.spotify.com/v1/me/playlists?limit=${limit}&offset=${offset}&market=US`;\n\t\treturn this.GET(url, 'Get All my Playlists');\n\t};\n\n\tCreatePlaylist = (\n\t\tuser_id,\n\t\tname,\n\t\tcollaborative = null,\n\t\tdescription = null,\n\t\tIspublic = null\n\t) => {\n\t\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\t\tdescription = description !== null ? `&description=${description}` : '';\n\t\tcollaborative =\n\t\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\t\tlet url =\n\t\t\t`https://api.spotify.com/v1/users/${user_id}/playlists?name=${name}` +\n\t\t\tIspublic +\n\t\t\tdescription +\n\t\t\tcollaborative;\n\t\treturn this.POST(url, 'Create new Playlist');\n\t};\n\n\tplaySong = song => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\t\tlet data = `{\"uris\": ${song}}`;\n\t\treturn this.PUTBodyParamter(url, data, 'Play specific song');\n\t};\n\n\tSpotifyLogout = () => {\n\t\tconst url = 'https://www.spotify.com/logout/';\n\t\tconst spotifyLogoutWindow = window.open(\n\t\t\turl,\n\t\t\t'Spotify Logout',\n\t\t\t'width=700,height=500,top=40,left=40'\n\t\t);\n\t\tsetTimeout(() => spotifyLogoutWindow.close(), 3000);\n\t};\n\t//!! All of these functions can be moved inside of the class as methods.\n\t//!! Instead of having to use spotify as a param we can target it using 'this'.\n\n\tgetAlbum = id => {\n\t\tlet url = `https://api.spotify.com/v1/albums/${id}`;\n\t\treturn this.GET(url, 'got albums');\n\t};\n\n\tgetAlbumTracks = id => {\n\t\tlet url = `https://api.spotify.com/v1/albums/${id}/tracks?limit=50`;\n\t\treturn this.GET(url, 'got album track list');\n\t};\n\n\tgetArtist = id => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}`;\n\t\treturn this.GET(url, 'got artists');\n\t};\n\n\tgetArtistAlbums = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}/albums?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got artist Albums');\n\t};\n\n\tgetArtistTopTracks = (id, offset = 0, limit = 50) => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}/top-tracks?offset=${offset}&limit=${limit}&market=US`;\n\t\treturn this.GET(url, 'got top tracks by artist');\n\t};\n\n\tgetArtistRelatedArtists = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/artists/${id}/related-artists?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got related Artists');\n\t};\n\n\tgetAllByCategory = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/categories/${id}?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got All results by category');\n\t};\n\n\tgetPlaylistByCategory = (id, offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/categories/${id}/playlists?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got playlists by category');\n\t};\n\n\tgetCategoriesList = () => {\n\t\tlet url = `https://api.spotify.com/v1/browse/categories/`;\n\t\treturn this.GET(url, 'got All Categories');\n\t};\n\n\tgetFeaturedPlaylists = (offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/featured-playlists?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got Featured Playlists');\n\t};\n\n\tgetNewReleases = (offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/new-releases?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got New Releases');\n\t};\n\n\tgetRecommendations = (offset = 0, limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/browse/recommendations?offset=${offset}&limit=${limit}`;\n\t\treturn this.GET(url, 'got recommendations');\n\t};\n\n\tgetFollowedArtists = (limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following?type=artist&limit=${limit}`;\n\t\treturn this.GET(url, 'got Followed Artists');\n\t};\n\n\tisFollowingUser = (type, ids) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following/contains?type=${type}&ids=${ids}`;\n\t\treturn this.GET(url, 'got if you are following user');\n\t};\n\n\tisFollowingPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/contains`;\n\t\treturn this.GET(url, 'got if you are following playlist');\n\t};\n\n\tfollowArtist = (type, ids) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\t\treturn this.PUT(url, 'PUT Followed New Artist');\n\t};\n\n\tfollowPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\t\treturn this.PUT(url, 'PUT Followed New Artist');\n\t};\n\n\tUnfollowArtist = (type, ids) => {\n\t\tlet url = `https://api.spotify.com/v1/me/following?type=${type}&ids=${ids}`;\n\t\treturn this.DELETE(url, 'DELETE Artist Removed');\n\t};\n\n\tUnfollowPlaylist = playlist_id => {\n\t\tlet url = `https://api.spotify.com/v1/playlists/${playlist_id}/followers/`;\n\t\treturn this.DELETE(url, 'DELETE Playlist Removed');\n\t};\n\n\tAlbumIsLiked = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums/contains?ids=${ids}`;\n\t\treturn this.GET(url, 'Boolean Album is Saved');\n\t};\n\n\tTrackIsLiked = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks/contains?ids=${ids}`;\n\t\treturn this.GET(url, 'Boolean Track is Saved');\n\t};\n\n\tgetLikedAlbums = (offset = 0, limit = 50) => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'get all liked albums');\n\t};\n\n\tgetLikedTracks = (offset = 0, limit = 50) => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks?limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'get all liked Songs');\n\t};\n\n\tDeleteAlbum = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\t\treturn this.DELETE(url, 'Delete Album');\n\t};\n\n\tDeleteSong = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\t\treturn this.DELETE(url, 'Delete Song');\n\t};\n\n\tAddSong = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/tracks?ids=${ids}`;\n\t\treturn this.PUT(url, 'ADD Song');\n\t};\n\n\tAddAlbum = ids => {\n\t\tlet url = `https://api.spotify.com/v1/me/albums?ids=${ids}`;\n\t\treturn this.PUT(url, 'ADD Album');\n\t};\n\n\tgetPersonalizedTopTracks = (type, limit=10, offset=0) => {\n\t\tlet url = `https://api.spotify.com/v1/me/top/${type}?time_range=short_term&limit=${limit}&offset=${offset}`;\n\t\treturn this.GET(url, 'got personalized top tracks');\n\t};\n\n\tgetAllDevices = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/devices`;\n\t\treturn this.GET(url, 'got Devices');\n\t};\n\n\tgetPlayer = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player`;\n\t\treturn this.GET(url, 'got Player');\n\t};\n\n\tgetRecentlyPlayed = (limit = 100) => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/recently-played?limit=${limit}`;\n\t\treturn this.GET(url, 'got recently played tracks');\n\t};\n\n\tgetCurrentlyPlaying = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/currently-playing`;\n\t\treturn this.GET(url, 'got Player');\n\t};\n\n\tStopPlayer = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/pause`;\n\t\treturn this.PUT(url, 'Put Player Paused');\n\t};\n\n\tResumePlayer = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/play`;\n\t\treturn this.PUT(url, 'Put Player Resume');\n\t};\n\n\tEnableRepeatMode = (context = 'context') => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/repeat?state=${context}`;\n\t\treturn this.PUT(url, 'Put Song/Album/Playlist on repeat');\n\t};\n\n\tEnableShuffleMode = (shuffle = 'true') => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/shuffle?state=${shuffle}`;\n\t\treturn this.PUT(url, 'Shuffle songs true/false');\n\t};\n\n\tChangeVolume = volume => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/volume?volume_percent=${volume}`;\n\t\treturn this.PUT(url, 'Put Volume Changed');\n\t};\n\n\tPlayNext = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/next`;\n\t\treturn this.POST(url, 'Post Play Next Song');\n\t};\n\n\tPlayPrevious = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/previous`;\n\t\treturn this.POST(url, 'Post Play Previous Song');\n\t};\n\n\tRestartSong = () => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/seek?position_ms=1000`;\n\t\treturn this.PUT(url, 'Start song over');\n\t};\n\tSeekSong = position => {\n\t\tlet url = `https://api.spotify.com/v1/me/player/seek?position_ms=${position}`;\n\t\treturn this.PUT(url, 'Start song over');\n\t};\n\n\tTransferPlayback = device_id => {\n\t\tlet url = `https://api.spotify.com/v1/me/player`;\n\t\tlet data = { device_ids: [device_id], play: true };\n\t\treturn this.PUTBodyParamter(url, data, 'Transfer Playback');\n\t};\n\n\tgetMyProfile = () => {\n\t\tlet url = `https://api.spotify.com/v1/me`;\n\t\treturn this.GET(url, 'got my profile');\n\t};\n\n\tgetUserProfile = user_id => {\n\t\tlet url = `https://api.spotify.com/v1/users/${user_id}`;\n\t\treturn this.GET(url, 'got user profile');\n\t};\n\n\tgetTrack = track_id => {\n\t\tlet url = `https://api.spotify.com/v1/tracks/${track_id}`;\n\t\treturn this.GET(url, 'got track by id');\n\t};\n\n\tSearch = (query, type, limit = 50, offset = 0) => {\n\t\tquery = query.replace(' ', '%20') + '*';\n\t\tlet url = `https://api.spotify.com/v1/search?q=${query}&type=${type}&q=${query}&limit=${limit}&offset=${offset}`;\n\n\t\treturn this.GET(url, 'Search Spotify');\n\t};\n\n\tAddSongToPlaylist = (playlist_id, uris, position = null) => {\n\t\tposition = position !== null ? `&position=${position}` : '';\n\t\tlet url =\n\t\t\t`https://api.spotify.com/v1/playlists/${playlist_id}/tracks?uris=${uris}` +\n\t\t\tposition;\n\t\treturn this.POST(url, 'Post Add song to playlist');\n\t};\n\n\tChangePlayListDetails = (\n\t\tplaylist_id,\n\t\tname,\n\t\tcollaborative = null,\n\t\tdescription = null,\n\t\tIspublic = null\n\t) => {\n\t\tIspublic = Ispublic !== null ? `&public=${Ispublic}` : '';\n\t\tdescription = description !== null ? `&description=${description}` : '';\n\t\tcollaborative =\n\t\t\tcollaborative !== null ? `&collaborative=${collaborative}` : '';\n\t\tlet url =\n\t\t\t`https://api.spotify.com/v1/playlists/${playlist_id}?=${name}` +\n\t\t\tIspublic +\n\t\t\tdescription +\n\t\t\tcollaborative;\n\t\treturn this.POST(url, 'Update playlist details');\n\t};\n}\n","import React, { useState, useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { setupSpotify, StoreAPIToken } from '../../utilityFunctions/util';\nimport { Spotify } from '../../utilityFunctions/util2';\nimport { withRouter } from 'react-router-dom';\n\nfunction Copyright() {\n\treturn (\n\t\t<Typography variant='body2' color='textSecondary' align='center'>\n\t\t\t{'Copyright © '}\n\t\t\t<Link color='inherit' href='https://material-ui.com/'>\n\t\t\t\tSound Good Music\n\t\t\t</Link>{' '}\n\t\t\t{new Date().getFullYear()}\n\t\t\t{'.'}\n\t\t</Typography>\n\t);\n}\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\theight: '100hv',\n\t\tbackground: 'linear-gradient(45deg, #BA55D3 10%, #000000 60%)'\n\t},\n\timage: {\n\t\tbackgroundImgae: 'url(http://127.0.0.1:5501/img/card1.jpg)',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'cover',\n\t\tbackgroundPosition: 'center'\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center'\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t}\n}));\nfunction SignInSide(props) {\n\tconst SpotifyToken = StoreAPIToken();\n\tconst classes = useStyles();\n\tconst [state, setState] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t\tremember: false,\n\t\tisLoggedIn: false\n\t});\n\tconst [error, setError] = useState('');\n\tconst onChange = e => {\n\t\treturn setState({ ...state, [e.target.name]: e.target.value });\n\t};\n\tconst {\n\t\tspotifyToken,\n\t\tinitiatePlayer,\n\t\thistory,\n\t\tauthUser,\n\t\tspotifyData,\n\t\tuser\n\t} = props;\n\tuseEffect(() => {\n\t\tconst authTokens = localStorage.getItem('jwtTokens') || null;\n\t\tconst abortController = new AbortController();\n\t\tlet loginWithToken;\n\t\tif (authTokens && !user.isLoggedIn) {\n\t\t\tloginWithToken = fetch('/api/token', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: authTokens,\n\t\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t\t})\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.error) {\n\t\t\t\t\t\tlocalStorage.removeItem('jwtTokens');\n\t\t\t\t\t}\n\t\t\t\t\tconst { data, tokens } = response;\n\t\t\t\t\tif (tokens) {\n\t\t\t\t\t\tlocalStorage.setItem('jwtTokens', JSON.stringify({ ...tokens }));\n\t\t\t\t\t}\n\t\t\t\t\tsetState(s => ({\n\t\t\t\t\t\t...s,\n\t\t\t\t\t\tisLoggedIn: true\n\t\t\t\t\t}));\n\t\t\t\t\treturn authUser({ ...data, isLoggedIn: true });\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tlet expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t\t\t\tconst expirationTS =\n\t\t\t\t\t\t(localStorage.getItem('expiration') - Date.now()) / 1000;\n\t\t\t\t\tif (SpotifyToken) {\n\t\t\t\t\t\tlocalStorage.setItem('token', SpotifyToken);\n\t\t\t\t\t\tlocalStorage.setItem('expiration', expiration);\n\t\t\t\t\t\tspotifyToken(SpotifyToken);\n\t\t\t\t\t\tinitiatePlayer(new Spotify(SpotifyToken));\n\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t} else if (expirationTS < 60 || !spotifyData.userToken) {\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\n\t\t\t\t\t\tlocalStorage.setItem('expiration', 0);\n\t\t\t\t\t\tsetupSpotify();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\treturn () => {\n\t\t\tabortController.abort(loginWithToken);\n\t\t};\n\t}, [\n\t\tSpotifyToken,\n\t\thistory,\n\t\tauthUser,\n\t\tinitiatePlayer,\n\t\tuser,\n\t\tspotifyData,\n\t\tspotifyToken\n\t]);\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tsetError('');\n\t\tconst formData = JSON.stringify({\n\t\t\temail: state.email,\n\t\t\tpassword: state.password\n\t\t});\n\t\tfetch('/api/login', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\treturn res.json();\n\t\t\t\t} else {\n\t\t\t\t\tsetError('Please check user name & password!');\n\t\t\t\t\treturn 'Error';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(({ data, tokens }) => {\n\t\t\t\tif (tokens && state.remember) {\n\t\t\t\t\tlocalStorage.setItem('jwtTokens', JSON.stringify({ ...tokens }));\n\t\t\t\t}\n\t\t\t\tif (data) {\n\t\t\t\t\tauthUser({ ...data, isLoggedIn: true });\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tif (data) {\n\t\t\t\t\tlet expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t\t\t\tconst expirationTS =\n\t\t\t\t\t\t(localStorage.getItem('expiration') - Date.now()) / 1000;\n\t\t\t\t\tif (SpotifyToken) {\n\t\t\t\t\t\tlocalStorage.setItem('token', SpotifyToken);\n\t\t\t\t\t\tlocalStorage.setItem('expiration', expiration);\n\t\t\t\t\t\tspotifyToken(SpotifyToken);\n\t\t\t\t\t\tinitiatePlayer(new Spotify(SpotifyToken));\n\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t} else if (expirationTS < 60 || !spotifyData.userToken) {\n\t\t\t\t\t\tlocalStorage.setItem('token', '');\n\t\t\t\t\t\tlocalStorage.setItem('expiration', 0);\n\t\t\t\t\t\tsetupSpotify();\n\t\t\t\t\t}\n\t\t\t\t\te.target.reset();\n\t\t\t\t}\n\t\t\t});\n\t};\n\treturn (\n\t\t<Grid container component='main' className={classes.root}>\n\t\t\t<CssBaseline />\n\t\t\t<Grid item xs={false} sm={4} md={7} className={classes.image} />\n\t\t\t<Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component='h1' variant='h5'>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{error && <p style={{ color: 'red' }}>{error}</p>}\n\t\t\t\t\t<form className={classes.form} onSubmit={handleSubmit} noValidate>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\tlabel='Email Address'\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tautoComplete='email'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tvalue={state.email}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\tvalue={state.password}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tautoComplete='current-password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetState({ ...state, remember: !state.remember })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue='remember'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel='Remember me'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\t{\"Don't have an account? Sign Up\"}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t\t<Copyright />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport default withRouter(SignInSide);\n","import React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { setupSpotify, StoreAPIToken } from '../../utilityFunctions/util';\nimport { Spotify } from '../../utilityFunctions/util2';\nimport { withRouter } from 'react-router-dom';\n\nfunction Copyright() {\n\treturn (\n\t\t<Typography variant='body2' color='textSecondary' align='center'>\n\t\t\t{'Copyright © '}\n\t\t\t<Link color='inherit' href='https://material-ui.com/'>\n\t\t\t\tSound Good Music\n\t\t\t</Link>{' '}\n\t\t\t{new Date().getFullYear()}\n\t\t\t{'.'}\n\t\t</Typography>\n\t);\n}\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\theight: '100hv',\n\t\tbackground: 'linear-gradient(45deg, #BA55D3 10%, #000000 60%)'\n\t},\n\timage: {\n\t\tbackgroundImgae: 'url(http://127.0.0.1:5501/img/card1.jpg)',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'cover',\n\t\tbackgroundPosition: 'center'\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center'\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t}\n}));\nfunction SignUp(props) {\n\tconst SpotifyToken = StoreAPIToken();\n\tconst classes = useStyles();\n\tconst [state, setState] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t\tusername: '',\n\t\tremember: false,\n\t\tisLoggedIn: false\n\t});\n\tconst [error, setError] = useState('');\n\tconst onChange = e => {\n\t\treturn setState({ ...state, [e.target.name]: e.target.value });\n\t};\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tsetError('');\n\t\tconst formData = JSON.stringify({\n\t\t\temail: state.email,\n\t\t\tpassword: state.password,\n\t\t\tusername: state.username\n\t\t});\n\t\tdebugger;\n\t\tfetch('/api/signup', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\theaders: { 'Content-Type': 'application/json' }\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\treturn res.json();\n\t\t\t\t} else {\n\t\t\t\t\tsetError('Check your email!');\n\t\t\t\t\treturn 'Error';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(({ data, tokens }) => {\n\t\t\t\tif (tokens && state.remember) {\n\t\t\t\t\tlocalStorage.setItem('jwtTokens', JSON.stringify({ ...tokens }));\n\t\t\t\t}\n\t\t\t\tprops.authUser({ ...data, isLoggedIn: true });\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tlet expiration = Date.now() + 3600 * 1000; // add one hour in millaseconds\n\t\t\t\tconst expirationTS =\n\t\t\t\t\t(localStorage.getItem('expiration') - Date.now()) / 1000;\n\t\t\t\tif (SpotifyToken) {\n\t\t\t\t\tlocalStorage.setItem('token', SpotifyToken);\n\t\t\t\t\tlocalStorage.setItem('expiration', expiration);\n\t\t\t\t\tprops.spotifyToken(SpotifyToken);\n\t\t\t\t\tprops.initiatePlayer(new Spotify(SpotifyToken));\n\t\t\t\t\tprops.history.push('/');\n\t\t\t\t} else if (expirationTS < 60 || !props.spotifyData.userToken) {\n\t\t\t\t\tlocalStorage.setItem('token', '');\n\t\t\t\t\tlocalStorage.setItem('expiration', 0);\n\t\t\t\t\tsetupSpotify();\n\t\t\t\t}\n\t\t\t});\n\t\te.target.reset();\n\t};\n\treturn (\n\t\t<Grid container component='main' className={classes.root}>\n\t\t\t<CssBaseline />\n\t\t\t<Grid item xs={false} sm={4} md={7} className={classes.image} />\n\t\t\t<Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component='h1' variant='h5'>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{error && <p style={{ color: 'red' }}>{error}</p>}\n\t\t\t\t\t<form className={classes.form} onSubmit={handleSubmit} noValidate>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid='username'\n\t\t\t\t\t\t\tlabel='User Name'\n\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\tautocomplete='new-password'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tvalue={state.username}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\tlabel='Email Address'\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tautoComplete='email'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tvalue={state.email}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\tvalue={state.password}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tautoComplete='new-password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetState({ ...state, remember: !state.remember })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue='remember'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel='Remember me'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tclassName={classes.submit}>\n\t\t\t\t\t\t\tSign up\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Link href='#' variant='body2'>\n\t\t\t\t\t\t\t\t\t{\"Don't have an account? Sign Up\"}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Box mt={5}>\n\t\t\t\t\t\t\t<Copyright />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport default withRouter(SignUp);\n","import { connect } from 'react-redux';\nimport SignInSide from '../Pages/SignIn';\nimport SignUp from '../Pages/SignUp';\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\t...state\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tauthUser: payload => {\n\t\t\tdispatch({ type: 'LOGIN', payload });\n\t\t},\n\t\tspotifyToken: payload => {\n\t\t\tdispatch({ type: 'SAVE_SPOTIFY_TOKEN', payload });\n\t\t},\n\t\tinitiatePlayer: payload => {\n\t\t\tdispatch({ type: 'INITIATE_SPOTIFY', payload });\n\t\t}\n\t};\n};\nexport const SignUpContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SignUp);\nexport const SignInContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SignInSide);\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport io from 'socket.io-client';\nimport '../../style/Chatroom.scss';\n\nclass Chatroom extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: this.props.username || '',\n\t\t\tmessage: '',\n\t\t\tmessages: this.props.messages || [],\n\t\t\tcurrentTyper: ''\n\t\t};\n\t\tthis.socket = io(`/rooms`);\n\t\tthis.socket.on('connect', function(data) {\n\t\t\tjoinRoom();\n\t\t});\n\t\t// once the client recieve a message send it to the server\n\t\tthis.socket.on('RECEIVE_MESSAGE', function(data) {\n\t\t\taddMessage(data);\n\t\t});\n\t\tconst joinRoom = () => {\n\t\t\tthis.socket.emit('JOIN_ROOM', {\n\t\t\t\troomId: this.props.roomId\n\t\t\t});\n\t\t};\n\t\t// the server will then send the message back and update the state\n\t\tconst addMessage = data => {\n\t\t\tthis.setState({\n\t\t\t\tmessages: [...this.state.messages, data],\n\t\t\t\tcurrentTyper: ''\n\t\t\t});\n\t\t};\n\t\t// when a user sends a message in the chatroom it will display the author and message\n\t\tthis.sendMessage = ev => {\n\t\t\tev.preventDefault();\n\t\t\tconst message = {\n\t\t\t\tauthor: this.props.user.username,\n\t\t\t\tauthorId: this.props.user.id,\n\t\t\t\tmessage: this.state.message,\n\t\t\t\troomId: this.props.roomId\n\t\t\t};\n\t\t\tthis.socket.emit('SEND_MESSAGE', message);\n\t\t\tthis.setState({\n\t\t\t\tmessage: '',\n\t\t\t\tmessages: [...this.state.messages, message]\n\t\t\t});\n\t\t};\n\n\t\t// whenever someone is typing a messgae, everyone in the chatroom will be able to see it\n\t\tthis.socket.on('typing', function(data) {\n\t\t\taddFeedback();\n\t\t});\n\n\t\tconst addFeedback = data => {\n\t\t\tthis.setState({ currentTyper: this.props.username });\n\t\t};\n\t}\n\n\tscrollToBottom = () => {\n\t\tconst messagesContainer = ReactDOM.findDOMNode(this.messagesContainer);\n\t\tmessagesContainer.scrollTop = messagesContainer.scrollHeight;\n\t};\n\tcomponentDidMount() {\n\t\tthis.scrollToBottom();\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.scrollToBottom();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='main-chatroom'>\n\t\t\t\t<div className='chat'>\n\t\t\t\t\t<div className='chat-title'>\n\t\t\t\t\t\t<h1>Chat room</h1>\n\t\t\t\t\t\t<h2>Sound Good Music</h2>\n\t\t\t\t\t\t{this.state.currentTyper && (\n\t\t\t\t\t\t\t<h4>{this.state.currentTyper} is typing...</h4>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<figure className='avatar'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc='https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg'\n\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\tthis.messagesContainer = el;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='messages'\n\t\t\t\t\t\tstyle={{ overflowY: 'scroll', scrollbarColor: 'yellow blue' }}>\n\t\t\t\t\t\t{this.state.messages.map((message, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className='message new' key={i}>\n\t\t\t\t\t\t\t\t\t<figure className='avatar'>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg'\n\t\t\t\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t\t{message.author}:\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t{message.message}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<form onSubmit={this.sendMessage}>\n\t\t\t\t\t\t<div className='message-box'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='message-input'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={this.props.user.username}\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='message-input'\n\t\t\t\t\t\t\t\tplaceholder='Enter a message'\n\t\t\t\t\t\t\t\tvalue={this.state.message}\n\t\t\t\t\t\t\t\tonChange={ev => this.setState({ message: ev.target.value })}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<button className='message-submit' type='submit'>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<br />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapState = state => {\n\treturn { ...state };\n};\nexport default connect(\n\tmapState,\n\tnull\n)(Chatroom);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Song from '../../Components/Blocks/songshort';\nimport styled from 'styled-components';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { GET_ROOM, CREATE_LIKE } from '../../Apollo';\nimport Chatroom from '../Pages/Chatroom';\n\nconst buildTracks = (\n\tqueue,\n\tPlaySong,\n\thandleClick,\n\tisPlaying,\n\tplayer,\n\tResetQueue,\n\tlikes,\n\troomId,\n\tuser,\n\tcreateLike,\n\tisHost\n) => {\n\tlet tracks = [];\n\tqueue.forEach((track, idx) => {\n\t\tif ('track' in track) {\n\t\t\ttrack = track.track;\n\t\t}\n\t\ttracks.push(\n\t\t\t<Song\n\t\t\t\tkey={`que-song-${idx}`}\n\t\t\t\tPlaySong={PlaySong}\n\t\t\t\thandleClick={() => handleClick(track.id, queue, player, ResetQueue)}\n\t\t\t\tactive={false}\n\t\t\t\tisPlaying={isPlaying}\n\t\t\t\tsong={track}\n\t\t\t\tidx={idx}\n\t\t\t\tshowLikes={1}\n\t\t\t\tlikes={likes.filter(e => e.spotifyId === track.id).length}\n\t\t\t\tcreateLike={() => !isHost && createLike(roomId, user.id, track.id)}\n\t\t\t/>\n\t\t);\n\t});\n\treturn tracks;\n};\nconst handleClick = (id, queue, player, ResetQueue) => {\n\tlet index = queue.findIndex(track => {\n\t\tif ('track' in track) {\n\t\t\ttrack = track.track;\n\t\t}\n\t\treturn track.id === id;\n\t});\n\tlet currentSongs = queue.slice(index, queue.length).map(track => {\n\t\tif ('track' in track) {\n\t\t\ttrack = track.track;\n\t\t}\n\t\treturn track.uri;\n\t});\n\tlet newItems = [];\n\tqueue.slice(index, queue.length).forEach((track, idx) => {\n\t\tif ('track' in track) {\n\t\t\ttrack = track.track;\n\t\t}\n\t\ttrack.order = idx;\n\t\ttrack.album = {\n\t\t\timages: track.album.images\n\t\t};\n\t\tnewItems.push(track);\n\t});\n\tResetQueue(newItems);\n\tlet uris = JSON.stringify([...currentSongs]);\n\tplayer.playSong(uris);\n};\n\nfunction Room({ match, player, user, setRoom, spotifyData, ResetQueue }) {\n\tconst { playSong } = spotifyData.player;\n\treturn (\n\t\t<MainRoom color={player.colors.darkVibrant}>\n\t\t\t<div className='main_room_header'>\n\t\t\t\t<h1>{user.room && user.room.roomName}</h1>\n\t\t\t</div>\n\t\t\t<QueryRoom\n\t\t\t\tid={Number(match.params.id)}\n\t\t\t\tqueue={player.queue}\n\t\t\t\tuser={user}\n\t\t\t\tsetRoom={setRoom}\n\t\t\t\tplayer={player}\n\t\t\t\tplaySong={playSong}\n\t\t\t\tResetQueue={ResetQueue}\n\t\t\t/>\n\t\t</MainRoom>\n\t);\n}\n\nexport function QueryRoom({ id, player, user, setRoom, playSong, ResetQueue }) {\n\tconst { loading, error, data } = useQuery(GET_ROOM, {\n\t\tvariables: { id },\n\t\tpollInterval: 1500\n\t});\n\tlet isHost;\n\tlet host;\n\tlet likes = [];\n\tlet messages = [];\n\tlet roomName = '';\n\tif (loading) {\n\t\treturn (\n\t\t\t<MainContainer style={{ display: 'flex', alignItems: 'center' }}>\n\t\t\t\t<Loader loading={true} />\n\t\t\t</MainContainer>\n\t\t);\n\t}\n\tif (error) {\n\t\treturn <MainContainer>Error</MainContainer>;\n\t}\n\tif (data) {\n\t\tconst { getRoom } = data;\n\t\tmessages = getRoom.messages.map(m => {\n\t\t\treturn {\n\t\t\t\tauthor: m.user.username,\n\t\t\t\tmessage: m.message\n\t\t\t};\n\t\t});\n\t\tlikes = getRoom.likes.map(like => {\n\t\t\treturn {\n\t\t\t\tspotifyId: like.spotifyId,\n\t\t\t\tuserId: like.user.id,\n\t\t\t\troomId: like.room.id\n\t\t\t};\n\t\t});\n\t\troomName = getRoom.roomName;\n\t\thost = getRoom.host;\n\t\tisHost = Number(getRoom.host.id) === user.id;\n\t}\n\treturn (\n\t\t<MainContainer>\n\t\t\t{isHost ? (\n\t\t\t\t<HostView\n\t\t\t\t\tqueue={player.queue}\n\t\t\t\t\tmessages={messages}\n\t\t\t\t\troomId={id}\n\t\t\t\t\tisHost={isHost ? 1 : 0}\n\t\t\t\t\tsetRoom={setRoom}\n\t\t\t\t\thost={host}\n\t\t\t\t\tplayer={player}\n\t\t\t\t\tlikes={likes}\n\t\t\t\t\tplaySong={playSong}\n\t\t\t\t\troomName={roomName}\n\t\t\t\t\tResetQueue={ResetQueue}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<ListenerView\n\t\t\t\t\tqueue={player.queue}\n\t\t\t\t\tmessages={messages}\n\t\t\t\t\troomId={id}\n\t\t\t\t\troomName={roomName}\n\t\t\t\t\tisHost={isHost ? 1 : 0}\n\t\t\t\t\tsetRoom={setRoom}\n\t\t\t\t\thost={host}\n\t\t\t\t\tlikes={likes}\n\t\t\t\t\tplayer={player}\n\t\t\t\t\tuser={user}\n\t\t\t\t\tplaySong={playSong}\n\t\t\t\t\tResetQueue={ResetQueue}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</MainContainer>\n\t);\n}\n\nfunction HostView({\n\tmessages,\n\tqueue,\n\tplayer,\n\troomId,\n\tisHost,\n\thost,\n\tsetRoom,\n\tlikes,\n\tplaySong,\n\troomName,\n\tResetQueue\n}) {\n\tuseEffect(() => {\n\t\tsetRoom({ roomId, roomName, host: { isHost, ...host } });\n\t}, [setRoom, roomId, isHost, host, roomName]);\n\treturn (\n\t\t<>\n\t\t\t<h1>Queue</h1>\n\t\t\t<div>\n\t\t\t\t{buildTracks(\n\t\t\t\t\tqueue,\n\t\t\t\t\tplaySong,\n\t\t\t\t\thandleClick,\n\t\t\t\t\tplayer.isPlaying,\n\t\t\t\t\tplayer,\n\t\t\t\t\tResetQueue,\n\t\t\t\t\tlikes,\n\t\t\t\t\troomId,\n\t\t\t\t\thost,\n\t\t\t\t\tnull,\n\t\t\t\t\tisHost\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<Chatroom messages={messages} roomId={roomId} isHost={isHost ? 1 : 0} />\n\t\t</>\n\t);\n}\n\nfunction ListenerView({\n\tmessages,\n\tqueue,\n\tplayer,\n\troomId,\n\tisHost,\n\thost,\n\tsetRoom,\n\tlikes,\n\tuser,\n\tplaySong,\n\troomName,\n\tResetQueue\n}) {\n\tuseEffect(() => {\n\t\tsetRoom({ roomId, roomName, host: { isHost, ...host } });\n\t}, [setRoom, roomId, isHost, host, roomName]);\n\tconst [createLike] = useMutation(CREATE_LIKE);\n\tconst handleCreateLikeClick = (roomId, userId, spotifyId) => {\n\t\tconst like = {\n\t\t\troomId,\n\t\t\tuserId,\n\t\t\tspotifyId\n\t\t};\n\t\tif (\n\t\t\tlikes.findIndex(\n\t\t\t\tl =>\n\t\t\t\t\tNumber(l.userId) === userId &&\n\t\t\t\t\tl.spotifyId === spotifyId &&\n\t\t\t\t\tNumber(l.roomId) === roomId\n\t\t\t) > -1\n\t\t) {\n\t\t\tconsole.log('Already Liked');\n\t\t\treturn;\n\t\t} else {\n\t\t\tlikes = [...likes, like];\n\t\t\treturn createLike({ variables: { roomId, userId, spotifyId } });\n\t\t}\n\t};\n\treturn (\n\t\t<>\n\t\t\t<h1>Queue</h1>\n\t\t\t<div>\n\t\t\t\t{buildTracks(\n\t\t\t\t\tqueue,\n\t\t\t\t\tplaySong,\n\t\t\t\t\thandleClick,\n\t\t\t\t\tplayer.isPlaying,\n\t\t\t\t\tplayer,\n\t\t\t\t\tResetQueue,\n\t\t\t\t\tlikes,\n\t\t\t\t\troomId,\n\t\t\t\t\tuser,\n\t\t\t\t\thandleCreateLikeClick,\n\t\t\t\t\tisHost\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Chatroom messages={messages} roomId={roomId} isHost={isHost ? 1 : 0} />\n\t\t</>\n\t);\n}\n\nconst MainRoom = styled.div`\n\twidth: 100vw;\n\theight: 100vh;\n\tmargin: auto;\n\tpadding: 30px;\n\tbackground: ${props =>\n\t\t`linear-gradient(160deg, ${props.color} 15%, rgba(0,0,0, 0.9) 70%)`};\n\th1 {\n\t\tfont-size: 25px;\n\t\tcolor: rgba(255, 255, 255, 0.75);\n\t\tline-height: 1em;\n\t}\n\t.main_room_hero {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n`;\nconst MainContainer = styled.div`\n\twidth: 30vw;\n\theight: 60vh;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\tbackground: rgba(0, 0, 0, 0.5);\n\tmargin-top: 5vh;\n\toverflow-y: scroll;\n\tdisplay: flex;\n\tflex-direction: column;\n\t::-webkit-scrollbar {\n\t\tbackground-color: rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1);\n\t}\n\t.song-block {\n\t\twidth: 100%;\n\t}\n`;\n\nlet Loader = ({ loading }) => {\n\tlet display = loading ? 'block' : 'none';\n\tlet loaderStyle = { display: display };\n\treturn (\n\t\t<div className='loader' style={loaderStyle}>\n\t\t\tLoading...\n\t\t</div>\n\t);\n};\nconst mapState = state => {\n\treturn { ...state };\n};\nconst mapDispatch = dispatch => {\n\treturn {\n\t\tsetRoom: payload => dispatch({ type: 'SET_ROOM', payload })\n\t};\n};\nexport default connect(\n\tmapState,\n\tmapDispatch\n)(Room);\n","import { BrowserRouter as Router, Redirect } from 'react-router-dom';\nimport { Route, Switch } from 'react-router-dom';\nimport history from './history';\nimport React, { useState } from 'react';\nimport Navbar from './Components/Navbar/Navbar';\nimport { connect } from 'react-redux';\nimport SideDrawer from './Components/Navbar/SideDrawer/SideDrawer';\nimport Backdrop from './Components/Navbar/Backdrop/Backdrop';\nimport './App.css';\nimport './reset.css';\nimport {\n\tAlbumContainer as Album,\n\tArtistContainer as Artist,\n\tFooterContainer as Footer,\n\tSearchSectionContainer as SearchSection,\n\tLibrarySectionContainer as LibrarySection,\n\tHomePageContainer as Home\n} from './Components/Containers/MainContainer';\nimport {\n\tSignInContainer as SignInSide,\n\tSignUpContainer as SignUp\n} from './Components/Containers/SignInContainer';\n\nimport Room from './Components/Pages/Room';\n//!!! You can do this inline withing the Route component using render={()=> <Main page=\"home\"/>}\nlet SearchPage = () => <SearchSection />;\nlet HomePage = () => <Home />;\nlet LibraryPage = () => <LibrarySection />;\nlet AlbumPage = () => <Album />;\nlet ArtistPage = () => <Artist />;\nlet SignIN = () => <SignInSide />;\nfunction App(props) {\n\tconst [sideDrawerOpen, setSideDrawerOpen] = useState(false);\n\tconst style = {\n\t\tcolor: 'black',\n\t\twidth: '100vw'\n\t};\n\tconst drawerToggleClickHandler = () => {\n\t\tsetSideDrawerOpen(prevState => {\n\t\t\treturn !sideDrawerOpen;\n\t\t});\n\t};\n\tconst closeSideDrawerHandler = () => {\n\t\tsetSideDrawerOpen(false);\n\t};\n\tlet backdrop;\n\tif (sideDrawerOpen) {\n\t\tbackdrop = <Backdrop click={closeSideDrawerHandler} />;\n\t}\n\treturn (\n\t\t<Router history={history}>\n\t\t\t<div className='App' style={{ height: '100vh' }}>\n\t\t\t\t<Navbar draweronClick={drawerToggleClickHandler} />\n\t\t\t\t<SideDrawer click={closeSideDrawerHandler} show={sideDrawerOpen} />;\n\t\t\t\t{backdrop}\n\t\t\t\t<div className='header'></div>\n\t\t\t\t<main style={style}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{/* <Route path='/login' component={ExtraPage} /> */}\n\t\t\t\t\t\t<Route exact path='/login' component={SignIN} />\n\t\t\t\t\t\t<Route exact path='/signup' component={SignUp} />\n\t\t\t\t\t\t{props.spotifyData.userToken ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Route exact path='/room/:id' component={Room} />\n\t\t\t\t\t\t\t\t<Route path='/album/:id' component={AlbumPage} />\n\t\t\t\t\t\t\t\t<Route path='/artist/:id' component={ArtistPage} />\n\t\t\t\t\t\t\t\t<Route exact path='/library' component={LibraryPage} />\n\t\t\t\t\t\t\t\t<Route exact path='/search' component={SearchPage} />\n\t\t\t\t\t\t\t\t<Route exact path='/' component={HomePage} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Redirect to='/login' />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Switch>\n\t\t\t\t</main>\n\t\t\t\t{props.spotifyData.userToken && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Router>\n\t);\n}\nconst mapStateToProps = state => {\n\treturn {\n\t\t...state\n\t};\n};\n//  const {token} = this.props\n//  return (\n//   // *** Wrapping the entire app with the Spotify Context Provider\n//   //! Antony we need to handle the token generating within react so we can pass an instance\n//   //! Of the spotify class using the context API. I need a token to for the constructor\n//          <Router history={history}>\n//              <div className='App'>\n//                  <div className='header'></div>\n//                  <Switch>\n//                      <Route path='/login' component={ExtraPage} />\n//           <Route path='/album/:id' component={AlbumPage} />\n//           <Route path='/artist/:id' component={ArtistPage} />\n//                      <Route path='/' component={HomePage} />\n//                  {/*     <Route path='/second' render={() =>{\n//                          {token !== null ?\n//                          <SpotifyContext.Provider value={new Spotify(this.state.token)}>\n//                          <MainPage />\n//                          </SpotifyContext.Provider>\n//                          <Redirect to='/login' />\n//                          }\n//                      }} /> */}\n//                  </Switch>\n//                  <Footer />\n//              </div>\n//          </Router>\n//  );\n// }\nexport default connect(\n\tmapStateToProps,\n\tnull\n)(App);\n","const initialState = {\n\temail: '',\n\tid: '',\n\tusername: '',\n\tisLoggedIn: false,\n\troom: null\n};\n\nconst authReducer = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'LOGIN':\n\t\t\treturn {\n\t\t\t\t...payload,\n\t\t\t\troom: null\n\t\t\t};\n\t\tcase 'LOGOUT':\n\t\t\treturn {\n\t\t\t\t...initialState\n\t\t\t};\n\t\tcase 'REDIRECT_TO_SIGNIN':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...payload\n\t\t\t};\n\t\tcase 'SET_ROOM':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\troom: { ...state.room, ...payload }\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default authReducer;\n","const initialState = {\n\tcurrentSong: {},\n\tnextSong: {},\n\tqueue: [],\n\trecentlyPlayed: [],\n\tisPlaying: false,\n\tpreviousBtn: true,\n\tsongLength: 321,\n\talbumId: '',\n\tartistId: '',\n\tsongImg: '',\n\tsongName: '',\n\tcolors: {\n\t\tvibrant: 'black'\n\t},\n\tsecondaryColors: {\n\t\tvibrant: 'black'\n\t}\n};\n\nconst playerReducer = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'PLAYER_SET_STATE':\n\t\t\tlet newQueue;\n\t\t\tlet recentlyPlayed;\n\t\t\tlet previousBtn = true;\n\t\t\tif (state.queue.length === 0) {\n\t\t\t\tnewQueue = JSON.parse(localStorage.getItem('queue')) || [];\n\t\t\t\trecentlyPlayed = JSON.parse(localStorage.getItem('recentlyPlayed'));\n\t\t\t\trecentlyPlayed = recentlyPlayed !== null ? recentlyPlayed : [];\n\t\t\t} else if (\n\t\t\t\tstate.queue.length > 1 &&\n\t\t\t\tpayload.track_window.current_track.id === state.queue[1].id\n\t\t\t) {\n\t\t\t\tnewQueue = state.queue.slice(1);\n\t\t\t\trecentlyPlayed = [state.queue[0], ...state.recentlyPlayed];\n\t\t\t\tlocalStorage.setItem('queue', JSON.stringify(newQueue));\n\t\t\t\tlocalStorage.setItem('recentlyPlayed', JSON.stringify(recentlyPlayed));\n\t\t\t} else if (\n\t\t\t\tstate.recentlyPlayed.length > 0 &&\n\t\t\t\tpayload.track_window.current_track.id === state.recentlyPlayed[0].id\n\t\t\t) {\n\t\t\t\trecentlyPlayed = state.recentlyPlayed.slice(1);\n\t\t\t\tnewQueue = [state.recentlyPlayed[0], ...state.queue];\n\t\t\t\tlocalStorage.setItem('queue', JSON.stringify(newQueue));\n\t\t\t\tlocalStorage.setItem('recentlyPlayed', JSON.stringify(recentlyPlayed));\n\t\t\t} else {\n\t\t\t\tnewQueue = state.queue;\n\t\t\t\trecentlyPlayed = state.recentlyPlayed;\n\t\t\t}\n\t\t\tif (payload.track_window.previous_tracks.length === 0) {\n\t\t\t\tpreviousBtn = false;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tnewQueue.length > 0 &&\n\t\t\t\tnewQueue[0].id !== payload.track_window.current_track\n\t\t\t) {\n\t\t\t\t//newQueue = []\n\t\t\t\t//localStorage.setItem('queue', JSON.stringify([]))\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSong: payload.track_window.current_track,\n\t\t\t\tcurrentSongId: payload.track_window.current_track.id,\n\t\t\t\tartist: payload.track_window.current_track.artists[0].name,\n\t\t\t\tsongLength: payload.track_window.current_track.duration_ms / 1000,\n\t\t\t\tsongImg: payload.track_window.current_track.album.images[2].url,\n\t\t\t\talbumName: payload.track_window.current_track.album.name,\n\t\t\t\tsongName: payload.track_window.current_track.name,\n\t\t\t\tplaying: !payload.paused,\n\t\t\t\tisPlaying: !payload.paused,\n\t\t\t\tshuffle: payload.shuffle,\n\t\t\t\trepeat: payload.repeat_mode === 1 ? true : false,\n\t\t\t\tqueue: newQueue,\n\t\t\t\trecentlyPlayed: recentlyPlayed,\n\t\t\t\tpreviousBtn: previousBtn\n\t\t\t};\n\t\tcase 'PLAYER_PLAY_NEXT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSong: payload.item,\n\t\t\t\tcurrentSongId: payload.item.id,\n\t\t\t\tartist: payload.item.artists[0].name,\n\t\t\t\tsongLength: payload.item.duration_ms / 1000,\n\t\t\t\tsongImg: payload.item.album.images[2].url,\n\t\t\t\talbumName: payload.item.album.name,\n\t\t\t\tsongName: payload.item.name,\n\t\t\t\tplaying: !payload.paused\n\t\t\t};\n\t\tcase 'PLAYER_SET_ARTIST_ID':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tartistId: payload.artistId,\n\t\t\t\talbumId: payload.albumId\n\t\t\t};\n\n\t\tcase 'PLAY_SONG':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentSong: { ...payload }\n\t\t\t};\n\t\tcase 'ADD_TO_QUEUE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tqueue: [...state.queue, payload]\n\t\t\t};\n\t\tcase 'RESET_PLAYER_QUEUE':\n\t\t\tlocalStorage.setItem('queue', JSON.stringify([...payload]));\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tqueue: [...payload]\n\t\t\t};\n\t\tcase 'PLAYER_SET_PlAYING': {\n\t\t\treturn {\n\t\t\t\t...state\n\t\t\t};\n\t\t}\n\t\tcase 'PLAYER_TOGGLE_PLAY': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPlaying: !state.isPlaying\n\t\t\t};\n\t\t}\n\t\tcase 'SET_PLAYER_COLORS': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcolors: payload\n\t\t\t};\n\t\t}\n\t\tcase 'SET_SECONDARY_COLORS': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsecondaryColors: payload\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default playerReducer;\n","const initialState = {\n\ttoken: '',\n\tsearch: '',\n\tloading: false,\n\tactiveFilter: 'artist',\n\tresult: {},\n\tfiring: false,\n\tscroll: 0\n};\n\nconst searchReducer = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'SET_SEARCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch: payload.value,\n\t\t\t\tloading: true,\n\t\t\t\tresult: {},\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'SEARCH_RESULT_RETURNED':\n\t\t\talert(payload.type.toLowerCase());\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tresult: payload,\n\t\t\t\tloading: false,\n\t\t\t\toffset: payload[state.activeFilter.toLowerCase() + 's'].offset,\n\t\t\t\ttotal: payload[state.activeFilter.toLowerCase() + 's'].total,\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'EXTEND_SEARCH_RESULTS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\toffset: payload[state.activeFilter.toLowerCase() + 's'].offset,\n\t\t\t\ttotal: payload[state.activeFilter.toLowerCase() + 's'].total,\n\t\t\t\tresult: {\n\t\t\t\t\t...state.result,\n\t\t\t\t\t[state.activeFilter.toLowerCase() + 's']: {\n\t\t\t\t\t\t...state.result[state.activeFilter.toLowerCase() + 's'],\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t...state.result[state.activeFilter.toLowerCase() + 's'].items,\n\t\t\t\t\t\t\t...payload[state.activeFilter.toLowerCase() + 's'].items\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\tcase 'CLEAR_SEARCH_STATE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch: '',\n\t\t\t\tresult: {},\n\t\t\t\tloading: false,\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'SET_SEARCH_FILTER':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tresult: {},\n\t\t\t\tactiveFilter: payload,\n\t\t\t\tloading: false,\n\t\t\t\tscroll: 0\n\t\t\t};\n\t\tcase 'SET_CURRENT_SCROLL':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tscroll: payload\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default searchReducer;\n","const initialState = {\n\tsongs: [],\n\tartists: [],\n\talbums: [],\n\tplaylists: [],\n\tpersonalized: [],\n\tuserToken: '',\n\tsearchQuery: ''\n};\n\nconst spotifyData = (state = initialState, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\tcase 'LIKE_SONG':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsongs: [...state.songs, payload]\n\t\t\t};\n\t\tcase 'LIKE_ALBUM':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\talbums: [...state.albums, payload]\n\t\t\t};\n\t\tcase 'LIKE_PLAYLIST':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplaylists: [...state.playlists, payload]\n\t\t\t};\n\t\tcase 'LIKE_ARTIST':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tartist: [...state.artists, payload]\n\t\t\t};\n\t\tcase 'SAVE_SPOTIFY_TOKEN':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserToken: payload\n\t\t\t};\n\t\tcase 'INITIATE_SPOTIFY': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayer: payload\n\t\t\t};\n\t\t}\n\t\tcase 'INITIALIZE_SPOTIFY_KEYS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[payload.key] : payload.data,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default spotifyData;\n","import { combineReducers } from 'redux';\nimport authReducers from './authReducers';\nimport playerReducers from './playerReducers';\nimport searchReducer from './searchReducers';\nimport spotifyData from './spotifyData';\n\nexport default combineReducers({\n\tuser: authReducers,\n\tplayer: playerReducers,\n\tspotifyData: spotifyData,\n\tsearchState: searchReducer\n});\n","import { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(\n\trootReducer,\n\n\tprocess.env.NODE_ENV === 'development' &&\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ &&\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './Store';\nimport * as serviceWorker from './serviceWorker';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport client from './Apollo';\n// import { Provider } from 'react-redux';\n// import store from './Store';\n\nReactDOM.render(\n\t<ApolloProvider client={client}>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</ApolloProvider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}